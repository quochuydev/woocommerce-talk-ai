var TalkAIWidget=function(){"use strict";var xR=Object.defineProperty,NR=Object.defineProperties;var VR=Object.getOwnPropertyDescriptors;var pw=Object.getOwnPropertySymbols;var MR=Object.prototype.hasOwnProperty,OR=Object.prototype.propertyIsEnumerable;var pm=(Je,oe,se)=>oe in Je?xR(Je,oe,{enumerable:!0,configurable:!0,writable:!0,value:se}):Je[oe]=se,Ae=(Je,oe)=>{for(var se in oe||(oe={}))MR.call(oe,se)&&pm(Je,se,oe[se]);if(pw)for(var se of pw(oe))OR.call(oe,se)&&pm(Je,se,oe[se]);return Je},Hi=(Je,oe)=>NR(Je,VR(oe));var Co=(Je,oe,se)=>pm(Je,typeof oe!="symbol"?oe+"":oe,se);var Y=(Je,oe,se)=>new Promise((Do,xo)=>{var No=On=>{try{H(se.next(On))}catch(At){xo(At)}},kc=On=>{try{H(se.throw(On))}catch(At){xo(At)}},H=On=>On.done?Do(On.value):Promise.resolve(On.value).then(No,kc);H((se=se.apply(Je,oe)).next())});function Je(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var oe={exports:{}},se={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Do;function xo(){if(Do)return se;Do=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return se.Fragment=e,se.jsx=i,se.jsxs=i,se}var No;function kc(){return No||(No=1,oe.exports=xo()),oe.exports}var H=kc(),On={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function yw(){if(ym)return At;ym=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,rt={};function W(D,$,at){this.props=D,this.context=$,this.refs=rt,this.updater=at||G}W.prototype.isReactComponent={},W.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function bt(){}bt.prototype=W.prototype;function Tt(D,$,at){this.props=D,this.context=$,this.refs=rt,this.updater=at||G}var ct=Tt.prototype=new bt;ct.constructor=Tt,tt(ct,W.prototype),ct.isPureReactComponent=!0;var ht=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function C(D,$,at,st,dt,Ot){return at=Ot.ref,{$$typeof:r,type:D,key:$,ref:at!==void 0?at:null,props:Ot}}function S(D,$){return C(D.type,$,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return $[at]})}var x=/\/+/g;function U(D,$){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):$.toString(36)}function R(){}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Jt(D,$,at,st,dt){var Ot=typeof D;(Ot==="undefined"||Ot==="boolean")&&(D=null);var vt=!1;if(D===null)vt=!0;else switch(Ot){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(D.$$typeof){case r:case e:vt=!0;break;case T:return vt=D._init,Jt(vt(D._payload),$,at,st,dt)}}if(vt)return dt=dt(D),vt=st===""?"."+U(D,0):st,ht(dt)?(at="",vt!=null&&(at=vt.replace(x,"$&/")+"/"),Jt(dt,$,at,"",function(zn){return zn})):dt!=null&&(I(dt)&&(dt=S(dt,at+(dt.key==null||D&&D.key===dt.key?"":(""+dt.key).replace(x,"$&/")+"/")+vt)),$.push(dt)),1;vt=0;var ke=st===""?".":st+":";if(ht(D))for(var Ft=0;Ft<D.length;Ft++)st=D[Ft],Ot=ke+U(st,Ft),vt+=Jt(st,$,at,Ot,dt);else if(Ft=N(D),typeof Ft=="function")for(D=Ft.call(D),Ft=0;!(st=D.next()).done;)st=st.value,Ot=ke+U(st,Ft++),vt+=Jt(st,$,at,Ot,dt);else if(Ot==="object"){if(typeof D.then=="function")return Jt(ne(D),$,at,st,dt);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return vt}function F(D,$,at){if(D==null)return D;var st=[],dt=0;return Jt(D,st,"","",function(Ot){return $.call(at,Ot,dt++)}),st}function B(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var et=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Et(){}return At.Children={map:F,forEach:function(D,$,at){F(D,function(){$.apply(this,arguments)},at)},count:function(D){var $=0;return F(D,function(){$++}),$},toArray:function(D){return F(D,function($){return $})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},At.Component=W,At.Fragment=i,At.Profiler=o,At.PureComponent=Tt,At.StrictMode=a,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,At.__COMPILER_RUNTIME={__proto__:null,c:function(D){return nt.H.useMemoCache(D)}},At.cache=function(D){return function(){return D.apply(null,arguments)}},At.cloneElement=function(D,$,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=tt({},D.props),dt=D.key,Ot=void 0;if($!=null)for(vt in $.ref!==void 0&&(Ot=void 0),$.key!==void 0&&(dt=""+$.key),$)!_t.call($,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&$.ref===void 0||(st[vt]=$[vt]);var vt=arguments.length-2;if(vt===1)st.children=at;else if(1<vt){for(var ke=Array(vt),Ft=0;Ft<vt;Ft++)ke[Ft]=arguments[Ft+2];st.children=ke}return C(D.type,dt,void 0,void 0,Ot,st)},At.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},At.createElement=function(D,$,at){var st,dt={},Ot=null;if($!=null)for(st in $.key!==void 0&&(Ot=""+$.key),$)_t.call($,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(dt[st]=$[st]);var vt=arguments.length-2;if(vt===1)dt.children=at;else if(1<vt){for(var ke=Array(vt),Ft=0;Ft<vt;Ft++)ke[Ft]=arguments[Ft+2];dt.children=ke}if(D&&D.defaultProps)for(st in vt=D.defaultProps,vt)dt[st]===void 0&&(dt[st]=vt[st]);return C(D,Ot,void 0,void 0,null,dt)},At.createRef=function(){return{current:null}},At.forwardRef=function(D){return{$$typeof:g,render:D}},At.isValidElement=I,At.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:B}},At.memo=function(D,$){return{$$typeof:_,type:D,compare:$===void 0?null:$}},At.startTransition=function(D){var $=nt.T,at={};nt.T=at;try{var st=D(),dt=nt.S;dt!==null&&dt(at,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Et,et)}catch(Ot){et(Ot)}finally{nt.T=$}},At.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},At.use=function(D){return nt.H.use(D)},At.useActionState=function(D,$,at){return nt.H.useActionState(D,$,at)},At.useCallback=function(D,$){return nt.H.useCallback(D,$)},At.useContext=function(D){return nt.H.useContext(D)},At.useDebugValue=function(){},At.useDeferredValue=function(D,$){return nt.H.useDeferredValue(D,$)},At.useEffect=function(D,$,at){var st=nt.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(D,$)},At.useId=function(){return nt.H.useId()},At.useImperativeHandle=function(D,$,at){return nt.H.useImperativeHandle(D,$,at)},At.useInsertionEffect=function(D,$){return nt.H.useInsertionEffect(D,$)},At.useLayoutEffect=function(D,$){return nt.H.useLayoutEffect(D,$)},At.useMemo=function(D,$){return nt.H.useMemo(D,$)},At.useOptimistic=function(D,$){return nt.H.useOptimistic(D,$)},At.useReducer=function(D,$,at){return nt.H.useReducer(D,$,at)},At.useRef=function(D){return nt.H.useRef(D)},At.useState=function(D){return nt.H.useState(D)},At.useSyncExternalStore=function(D,$,at){return nt.H.useSyncExternalStore(D,$,at)},At.useTransition=function(){return nt.H.useTransition()},At.version="19.1.1",At}var _m;function Bc(){return _m||(_m=1,On.exports=yw()),On.exports}var xe=Bc();const _w=Je(xe);var qc={exports:{}},Ka={},Hc={exports:{}},Gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function vw(){return vm||(vm=1,function(r){function e(F,B){var et=F.length;F.push(B);t:for(;0<et;){var Et=et-1>>>1,D=F[Et];if(0<o(D,B))F[Et]=B,F[et]=D,et=Et;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var B=F[0],et=F.pop();if(et!==B){F[0]=et;t:for(var Et=0,D=F.length,$=D>>>1;Et<$;){var at=2*(Et+1)-1,st=F[at],dt=at+1,Ot=F[dt];if(0>o(st,et))dt<D&&0>o(Ot,st)?(F[Et]=Ot,F[dt]=et,Et=dt):(F[Et]=st,F[at]=et,Et=at);else if(dt<D&&0>o(Ot,et))F[Et]=Ot,F[dt]=et,Et=dt;else break t}}return B}function o(F,B){var et=F.sortIndex-B.sortIndex;return et!==0?et:F.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],_=[],T=1,A=null,N=3,G=!1,tt=!1,rt=!1,W=!1,bt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate!="undefined"?setImmediate:null;function ht(F){for(var B=i(_);B!==null;){if(B.callback===null)a(_);else if(B.startTime<=F)a(_),B.sortIndex=B.expirationTime,e(v,B);else break;B=i(_)}}function nt(F){if(rt=!1,ht(F),!tt)if(i(v)!==null)tt=!0,_t||(_t=!0,U());else{var B=i(_);B!==null&&Jt(nt,B.startTime-F)}}var _t=!1,C=-1,S=5,I=-1;function M(){return W?!0:!(r.unstable_now()-I<S)}function x(){if(W=!1,_t){var F=r.unstable_now();I=F;var B=!0;try{t:{tt=!1,rt&&(rt=!1,Tt(C),C=-1),G=!0;var et=N;try{e:{for(ht(F),A=i(v);A!==null&&!(A.expirationTime>F&&M());){var Et=A.callback;if(typeof Et=="function"){A.callback=null,N=A.priorityLevel;var D=Et(A.expirationTime<=F);if(F=r.unstable_now(),typeof D=="function"){A.callback=D,ht(F),B=!0;break e}A===i(v)&&a(v),ht(F)}else a(v);A=i(v)}if(A!==null)B=!0;else{var $=i(_);$!==null&&Jt(nt,$.startTime-F),B=!1}}break t}finally{A=null,N=et,G=!1}B=void 0}}finally{B?U():_t=!1}}}var U;if(typeof ct=="function")U=function(){ct(x)};else if(typeof MessageChannel!="undefined"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=x,U=function(){ne.postMessage(null)}}else U=function(){bt(x,0)};function Jt(F,B){C=bt(function(){F(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(F){switch(N){case 1:case 2:case 3:var B=3;break;default:B=N}var et=N;N=B;try{return F()}finally{N=et}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(F,B){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var et=N;N=F;try{return B()}finally{N=et}},r.unstable_scheduleCallback=function(F,B,et){var Et=r.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?Et+et:Et):et=Et,F){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=et+D,F={id:T++,callback:B,priorityLevel:F,startTime:et,expirationTime:D,sortIndex:-1},et>Et?(F.sortIndex=et,e(_,F),i(v)===null&&F===i(_)&&(rt?(Tt(C),C=-1):rt=!0,Jt(nt,et-Et))):(F.sortIndex=D,e(v,F),tt||G||(tt=!0,_t||(_t=!0,U()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var B=N;return function(){var et=N;N=B;try{return F.apply(this,arguments)}finally{N=et}}}}(Gc)),Gc}var wm;function ww(){return wm||(wm=1,Hc.exports=vw()),Hc.exports}var Fc={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Ew(){if(Em)return Fe;Em=1;var r=Bc();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(v,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,T)},Fe.flushSync=function(v){var _=d.T,T=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=T,a.d.f()}},Fe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Fe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Fe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:G}):T==="script"&&a.d.X(v,{crossOrigin:A,integrity:N,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Fe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);a.d.L(v,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(v,_){if(typeof v=="string")if(_){var T=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Fe.requestFormReset=function(v){a.d.r(v)},Fe.unstable_batchedUpdates=function(v,_){return v(_)},Fe.useFormState=function(v,_,T){return d.H.useFormState(v,_,T)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var Tm;function Tw(){if(Tm)return Fc.exports;Tm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fc.exports=Ew(),Fc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function Aw(){if(Am)return Ka;Am=1;var r=ww(),e=Bc(),i=Tw();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var y=!1,w=c.child;w;){if(w===s){y=!0,s=c,l=f;break}if(w===l){y=!0,l=c,s=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===s){y=!0,s=f,l=c;break}if(w===l){y=!0,l=f,s=c;break}w=w.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),rt=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),bt=Symbol.for("react.provider"),Tt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case W:return"Profiler";case rt:return"StrictMode";case nt:return"Suspense";case _t:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ct:return(t.displayName||"Context")+".Provider";case Tt:return(t._context.displayName||"Context")+".Consumer";case ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return ne(t(n))}catch(s){}}return null}var Jt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},Et=[],D=-1;function $(t){return{current:t}}function at(t){0>D||(t.current=Et[D],Et[D]=null,D--)}function st(t,n){D++,Et[D]=t.current,t.current=n}var dt=$(null),Ot=$(null),vt=$(null),ke=$(null);function Ft(t,n){switch(st(vt,n),st(Ot,t),st(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gv(n),t=Fv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(dt),st(dt,t)}function zn(){at(dt),at(Ot),at(vt)}function El(t){t.memoizedState!==null&&st(ke,t);var n=dt.current,s=Fv(n,t.type);n!==s&&(st(Ot,t),st(dt,s))}function ia(t){Ot.current===t&&(at(dt),at(Ot)),ke.current===t&&(at(ke),Ao._currentValue=et)}var sa=Object.prototype.hasOwnProperty,tr=r.unstable_scheduleCallback,ra=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Tl=r.unstable_requestPaint,ln=r.unstable_now,Eu=r.unstable_getCurrentPriorityLevel,Re=r.unstable_ImmediatePriority,Ve=r.unstable_UserBlockingPriority,Ti=r.unstable_NormalPriority,_f=r.unstable_LowPriority,Al=r.unstable_IdlePriority,vf=r.log,er=r.unstable_setDisableYieldValue,is=null,Xe=null;function Tn(t){if(typeof vf=="function"&&er(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(is,t)}catch(n){}}var tn=Math.clz32?Math.clz32:Au,wf=Math.log,Tu=Math.LN2;function Au(t){return t>>>=0,t===0?32:31-(wf(t)/Tu|0)|0}var ii=256,ss=4194304;function Pn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?c=Pn(l):(y&=w,y!==0?c=Pn(y):s||(s=w&~t,s!==0&&(c=Pn(s))))):(w=l&~f,w!==0?c=Pn(w):y!==0?c=Pn(y):s||(s=l&~t,s!==0&&(c=Pn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function rs(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function aa(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sl(){var t=ii;return ii<<=1,(ii&4194048)===0&&(ii=256),t}function as(){var t=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),t}function la(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function fe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Su(t,n,s,l,c,f){var y=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var w=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(s=y&~s;0<s;){var Q=31-tn(s),Z=1<<Q;w[Q]=0,b[Q]=-1;var j=P[Q];if(j!==null)for(P[Q]=null,Q=0;Q<j.length;Q++){var k=j[Q];k!==null&&(k.lane&=-536870913)}s&=~Z}l!==0&&ls(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ls(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-tn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function os(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-tn(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function bl(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Rl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ai(){var t=B.p;return t!==0?t:(t=window.event,t===void 0?32:cw(t.type))}function Ef(t,n){var s=B.p;try{return B.p=t,n()}finally{B.p=s}}var si=Math.random().toString(36).slice(2),de="__reactFiber$"+si,Be="__reactProps$"+si,Si="__reactContainer$"+si,nr="__reactEvents$"+si,ir="__reactListeners$"+si,Tf="__reactHandles$"+si,jn="__reactResources$"+si,us="__reactMarker$"+si;function oa(t){delete t[de],delete t[Be],delete t[nr],delete t[ir],delete t[Tf]}function ri(t){var n=t[de];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Si]||s[de]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Xv(t);t!==null;){if(s=t[de])return s;t=Xv(t)}return n}t=s,s=t.parentNode}return null}function ai(t){if(t=t[de]||t[Si]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function cs(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function hs(t){var n=t[jn];return n||(n=t[jn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(t){t[us]=!0}var bu=new Set,sr={};function li(t,n){oi(t,n),oi(t+"Capture",n)}function oi(t,n){for(sr[t]=n,t=0;t<n.length;t++)bu.add(n[t])}var rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ui={},ua={};function Af(t){return sa.call(ua,t)?!0:sa.call(ui,t)?!1:rr.test(t)?ua[t]=!0:(ui[t]=!0,!1)}function ar(t,n,s){if(Af(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function lr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Sn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var or,ca;function bi(t){if(or===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);or=n&&n[1]||"",ca=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+or+t+ca}var ha=!1;function fa(t,n){if(!t||ha)return"";ha=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(k){var j=k}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(k){j=k}t.call(Z.prototype)}}else{try{throw Error()}catch(k){j=k}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],w=f[1];if(y&&w){var b=y.split(`
`),P=w.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var Q=`
`+b[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{ha=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?bi(s):""}function Sf(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return fa(t.type,!1);case 11:return fa(t.type.render,!1);case 1:return fa(t.type,!0);case 31:return bi("Activity");default:return""}}function kn(t){try{var n="";do n+=Sf(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ae(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ur(t){var n=fs(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s!="undefined"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ds(t){t._valueTracker||(t._valueTracker=ur(t))}function Qt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=fs(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(n){return t.body}}var cr=/[\n"\\]/g;function Me(t){return t.replace(cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Il(t,n,s,l,c,f,y,w){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ae(n)):t.value!==""+ae(n)&&(t.value=""+ae(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Dl(t,y,ae(n)):s!=null?Dl(t,y,ae(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ae(w):t.removeAttribute("name")}function Cl(t,n,s,l,c,f,y,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+ae(s):"",n=n!=null?""+ae(n):s,w||n===t.value||(t.value=n),t.defaultValue=n}l=l!=null?l:c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Dl(t,n,s){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ms(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ae(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ru(t,n,s){if(n!=null&&(n=""+ae(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ae(s):""}function Iu(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Jt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ae(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function bn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var Ii=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||Ii.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Nl(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&xl(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&xl(t,f,n[f])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(t){return Du.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vl=null;function Ml(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gs=null,en=null;function xu(t){var n=ai(t);if(n&&(t=n.stateNode)){var s=t[Be]||null;t:switch(t=n.stateNode,n.type){case"input":if(Il(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Me(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Be]||null;if(!c)throw Error(a(90));Il(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Qt(l)}break t;case"textarea":Ru(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ms(t,!!s.multiple,n,!1)}}}var hr=!1;function fr(t,n,s){if(hr)return t(n,s);hr=!0;try{var l=t(n);return l}finally{if(hr=!1,(gs!==null||en!==null)&&(vc(),gs&&(n=gs,t=en,en=gs=null,xu(n),t)))for(n=0;n<t.length;n++)xu(t[n])}}function ps(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var nn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ci=!1;if(nn)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Ci=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch(t){Ci=!1}var Rn=null,Wt=null,ma=null;function Nu(){if(ma)return ma;var t,n=Wt,s=n.length,l,c="value"in Rn?Rn.value:Rn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var y=s-t;for(l=1;l<=y&&n[s-l]===c[f-l];l++);return ma=c.slice(t,1<l?1-l:void 0)}function dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function mr(){return!0}function Ol(){return!1}function Ie(t){function n(s,l,c,f,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(s=t[w],this[w]=s?s(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mr:Ol,this.isPropagationStopped=Ol,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),n}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=Ie($e),pr=T({},$e,{view:0,detail:0}),yr=Ie(pr),ga,_r,ci,vr=T({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(ga=t.screenX-ci.screenX,_r=t.screenY-ci.screenY):_r=ga=0,ci=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:_r}}),wr=Ie(vr),bf=T({},vr,{dataTransfer:0}),Vu=Ie(bf),Er=T({},pr,{relatedTarget:0}),pa=Ie(Er),Mu=T({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ul=Ie(Mu),Ll=T({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=Ie(Ll),ya=T({},$e,{data:0}),zl=Ie(ya),Uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Di={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Lu[t])?!!n[t]:!1}function _a(){return zu}var Pu=T({},pr,{key:function(t){if(t.key){var n=Uu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Di[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(t){return t.type==="keypress"?dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),va=Ie(Pu),sn=T({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pl=Ie(sn),ju=T({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),_s=Ie(ju),u=T({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ie(u),p=T({},vr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E=Ie(p),z=T({},$e,{newState:0,oldState:0}),q=Ie(z),it=[9,13,27,32],It=nn&&"CompositionEvent"in window,ee=null;nn&&"documentMode"in document&&(ee=document.documentMode);var qt=nn&&"TextEvent"in window&&!ee,ge=nn&&(!It||ee&&8<ee&&11>=ee),fn=" ",hi=!1;function qn(t,n){switch(t){case"keyup":return it.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gn=!1;function jl(t,n){switch(t){case"compositionend":return Hn(n);case"keypress":return n.which!==32?null:(hi=!0,fn);case"textInput":return t=n.data,t===fn&&hi?null:t;default:return null}}function i2(t,n){if(Gn)return t==="compositionend"||!It&&qn(t,n)?(t=Nu(),ma=Wt=Rn=null,Gn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ge&&n.locale!=="ko"?null:n.data;default:return null}}var s2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s_(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!s2[t.type]:n==="textarea"}function r_(t,n,s,l){gs?en?en.push(l):en=[l]:gs=l,n=bc(n,"onChange"),0<n.length&&(s=new gr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var kl=null,Bl=null;function r2(t){jv(t,0)}function ku(t){var n=cs(t);if(Qt(n))return t}function a_(t,n){if(t==="change")return n}var l_=!1;if(nn){var Rf;if(nn){var If="oninput"in document;if(!If){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),If=typeof o_.oninput=="function"}Rf=If}else Rf=!1;l_=Rf&&(!document.documentMode||9<document.documentMode)}function u_(){kl&&(kl.detachEvent("onpropertychange",c_),Bl=kl=null)}function c_(t){if(t.propertyName==="value"&&ku(Bl)){var n=[];r_(n,Bl,t,Ml(t)),fr(r2,n)}}function a2(t,n,s){t==="focusin"?(u_(),kl=n,Bl=s,kl.attachEvent("onpropertychange",c_)):t==="focusout"&&u_()}function l2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(Bl)}function o2(t,n){if(t==="click")return ku(n)}function u2(t,n){if(t==="input"||t==="change")return ku(n)}function c2(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:c2;function ql(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!sa.call(n,c)||!dn(t[c],n[c]))return!1}return!0}function h_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function f_(t,n){var s=h_(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=h_(s)}}function d_(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?d_(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function m_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch(l){s=!1}if(s)t=n.contentWindow;else break;n=Ri(t.document)}return n}function Cf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var h2=nn&&"documentMode"in document&&11>=document.documentMode,wa=null,Df=null,Hl=null,xf=!1;function g_(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xf||wa==null||wa!==Ri(l)||(l=wa,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hl&&ql(Hl,l)||(Hl=l,l=bc(Df,"onSelect"),0<l.length&&(n=new gr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=wa)))}function Tr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Ea={animationend:Tr("Animation","AnimationEnd"),animationiteration:Tr("Animation","AnimationIteration"),animationstart:Tr("Animation","AnimationStart"),transitionrun:Tr("Transition","TransitionRun"),transitionstart:Tr("Transition","TransitionStart"),transitioncancel:Tr("Transition","TransitionCancel"),transitionend:Tr("Transition","TransitionEnd")},Nf={},p_={};nn&&(p_=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Ar(t){if(Nf[t])return Nf[t];if(!Ea[t])return t;var n=Ea[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in p_)return Nf[t]=n[s];return t}var y_=Ar("animationend"),__=Ar("animationiteration"),v_=Ar("animationstart"),f2=Ar("transitionrun"),d2=Ar("transitionstart"),m2=Ar("transitioncancel"),w_=Ar("transitionend"),E_=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Fn(t,n){E_.set(t,n),li(n,[t])}var T_=new WeakMap;function In(t,n){if(typeof t=="object"&&t!==null){var s=T_.get(t);return s!==void 0?s:(n={value:t,source:n,stack:kn(n)},T_.set(t,n),n)}return{value:t,source:n,stack:kn(n)}}var Cn=[],Ta=0,Mf=0;function Bu(){for(var t=Ta,n=Mf=Ta=0;n<t;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&A_(s,c,f)}}function qu(t,n,s,l){Cn[Ta++]=t,Cn[Ta++]=n,Cn[Ta++]=s,Cn[Ta++]=l,Mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,n,s,l){return qu(t,n,s,l),Hu(t)}function Aa(t,n){return qu(t,null,null,n),Hu(t)}function A_(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-tn(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Hu(t){if(50<go)throw go=0,kd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Sa={};function g2(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,n,s,l){return new g2(t,n,s,l)}function Uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,n){var s=t.alternate;return s===null?(s=mn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function S_(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Gu(t,n,s,l,c,f){var y=0;if(l=t,typeof t=="function")Uf(t)&&(y=1);else if(typeof t=="string")y=yR(t,s,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case I:return t=mn(31,s,n,c),t.elementType=I,t.lanes=f,t;case tt:return Sr(s.children,c,f,n);case rt:y=8,c|=24;break;case W:return t=mn(12,s,n,c|2),t.elementType=W,t.lanes=f,t;case nt:return t=mn(13,s,n,c),t.elementType=nt,t.lanes=f,t;case _t:return t=mn(19,s,n,c),t.elementType=_t,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bt:case ct:y=10;break t;case Tt:y=9;break t;case ht:y=11;break t;case C:y=14;break t;case S:y=16,l=null;break t}y=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=mn(y,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Sr(t,n,s,l){return t=mn(7,t,l,n),t.lanes=s,t}function Lf(t,n,s){return t=mn(6,t,null,n),t.lanes=s,t}function zf(t,n,s){return n=mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ba=[],Ra=0,Fu=null,Qu=0,Dn=[],xn=0,br=null,Ni=1,Vi="";function Rr(t,n){ba[Ra++]=Qu,ba[Ra++]=Fu,Fu=t,Qu=n}function b_(t,n,s){Dn[xn++]=Ni,Dn[xn++]=Vi,Dn[xn++]=br,br=t;var l=Ni;t=Vi;var c=32-tn(l)-1;l&=~(1<<c),s+=1;var f=32-tn(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Ni=1<<32-tn(n)+c|s<<c|l,Vi=f+t}else Ni=1<<f|s<<c|l,Vi=t}function Pf(t){t.return!==null&&(Rr(t,1),b_(t,1,0))}function jf(t){for(;t===Fu;)Fu=ba[--Ra],ba[Ra]=null,Qu=ba[--Ra],ba[Ra]=null;for(;t===br;)br=Dn[--xn],Dn[xn]=null,Vi=Dn[--xn],Dn[xn]=null,Ni=Dn[--xn],Dn[xn]=null}var rn=null,ue=null,jt=!1,Ir=null,fi=!1,kf=Error(a(519));function Cr(t){var n=Error(a(418,""));throw Ql(In(n,t)),kf}function R_(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[de]=t,n[Be]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<yo.length;s++)Nt(yo[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Cl(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ds(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Iu(n,l.value,l.defaultValue,l.children),ds(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Hv(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Rc),n=!0):n=!1,n||Cr(t)}function I_(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:rn=rn.return}}function Gl(t){if(t!==rn)return!1;if(!jt)return I_(t),jt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||nm(t.type,t.memoizedProps)),s=!s),s&&ue&&Cr(t),I_(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){ue=Yn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}ue=null}}else n===27?(n=ue,Os(t.type)?(t=am,am=null,ue=t):ue=n):ue=rn?Yn(t.stateNode.nextSibling):null;return!0}function Fl(){ue=rn=null,jt=!1}function C_(){var t=Ir;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Ir=null),t}function Ql(t){Ir===null?Ir=[t]:Ir.push(t)}var Bf=$(null),Dr=null,Mi=null;function vs(t,n,s){st(Bf,n._currentValue),n._currentValue=s}function Oi(t){t._currentValue=Bf.current,at(Bf)}function qf(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Hf(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var w=f;f=c;for(var b=0;b<n.length;b++)if(w.context===n[b]){f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),qf(f.return,s,t),l||(y=null);break t}f=w.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,f=y.alternate,f!==null&&(f.lanes|=s),qf(y,s,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Yl(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var w=c.type;dn(c.pendingProps.value,y.value)||(t!==null?t.push(w):t=[w])}}else if(c===ke.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}c=c.return}t!==null&&Hf(n,t,s,l),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xr(t){Dr=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return D_(Dr,t)}function Ku(t,n){return Dr===null&&xr(t),D_(t,n)}function D_(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Mi=Mi.next=n;return s}var p2=typeof AbortController!="undefined"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},y2=r.unstable_scheduleCallback,_2=r.unstable_NormalPriority,Ce={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new p2,data:new Map,refCount:0}}function Kl(t){t.refCount--,t.refCount===0&&y2(_2,function(){t.controller.abort()})}var Xl=null,Ff=0,Ia=0,Ca=null;function v2(t,n){if(Xl===null){var s=Xl=[];Ff=0,Ia=Yd(),Ca={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Ff++,n.then(x_,x_),n}function x_(){if(--Ff===0&&Xl!==null){Ca!==null&&(Ca.status="fulfilled");var t=Xl;Xl=null,Ia=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function w2(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var N_=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&v2(t,n),N_!==null&&N_(t,n)};var Nr=$(null);function Qf(){var t=Nr.current;return t!==null?t:te.pooledCache}function Xu(t,n){n===null?st(Nr,Nr.current):st(Nr,n.pool)}function V_(){var t=Qf();return t===null?null:{parent:Ce._currentValue,pool:t}}var $l=Error(a(460)),M_=Error(a(474)),$u=Error(a(542)),Yf={then:function(){}};function O_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function U_(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Zu,Zu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,z_(t),t;default:if(typeof n.status=="string")n.then(Zu,Zu);else{if(t=te,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,z_(t),t}throw Zl=n,$l}}var Zl=null;function L_(){if(Zl===null)throw Error(a(459));var t=Zl;return Zl=null,t}function z_(t){if(t===$l||t===$u)throw Error(a(483))}var ws=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Hu(t),A_(t,null,s),n}return qu(t,l,n,s),Hu(t)}function Jl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,os(t,s)}}function $f(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Zf=!1;function Wl(){if(Zf){var t=Ca;if(t!==null)throw t}}function to(t,n,s,l){Zf=!1;var c=t.updateQueue;ws=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var b=w,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==y&&(w===null?Q.firstBaseUpdate=P:w.next=P,Q.lastBaseUpdate=b))}if(f!==null){var Z=c.baseState;y=0,Q=P=b=null,w=f;do{var j=w.lane&-536870913,k=j!==w.lane;if(k?(zt&j)===j:(l&j)===j){j!==0&&j===Ia&&(Zf=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var wt=t,gt=w;j=n;var Xt=s;switch(gt.tag){case 1:if(wt=gt.payload,typeof wt=="function"){Z=wt.call(Xt,Z,j);break t}Z=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=gt.payload,j=typeof wt=="function"?wt.call(Xt,Z,j):wt,j==null)break t;Z=T({},Z,j);break t;case 2:ws=!0}}j=w.callback,j!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[j]:k.push(j))}else k={lane:j,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(P=Q=k,b=Z):Q=Q.next=k,y|=j;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;k=w,w=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(b=Z),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),xs|=y,t.lanes=y,t.memoizedState=Z}}function P_(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function j_(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)P_(s[t],n)}var Da=$(null),Ju=$(0);function k_(t,n){t=Bi,st(Ju,t),st(Da,n),Bi=t|n.baseLanes}function Jf(){st(Ju,Bi),st(Da,Da.current)}function Wf(){Bi=Ju.current,at(Da),at(Ju)}var As=0,Ct=null,Yt=null,Ee=null,Wu=!1,xa=!1,Vr=!1,tc=0,eo=0,Na=null,E2=0;function pe(){throw Error(a(321))}function td(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!dn(t[s],n[s]))return!1;return!0}function ed(t,n,s,l,c,f){return As=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?A0:S0,Vr=!1,f=s(l,c),Vr=!1,xa&&(f=q_(n,s,l,c)),B_(t),f}function B_(t){F.H=ac;var n=Yt!==null&&Yt.next!==null;if(As=0,Ee=Yt=Ct=null,Wu=!1,eo=0,Na=null,n)throw Error(a(300));t===null||Oe||(t=t.dependencies,t!==null&&Yu(t)&&(Oe=!0))}function q_(t,n,s,l){Ct=t;var c=0;do{if(xa&&(Na=null),eo=0,xa=!1,25<=c)throw Error(a(301));if(c+=1,Ee=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=C2,f=n(s,l)}while(xa);return f}function T2(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?no(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function nd(){var t=tc!==0;return tc=0,t}function id(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function sd(t){if(Wu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Wu=!1}As=0,Ee=Yt=Ct=null,xa=!1,eo=tc=0,Na=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Ct.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function Te(){if(Yt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=Ee===null?Ct.memoizedState:Ee.next;if(n!==null)Ee=n,Yt=t;else{if(t===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ee===null?Ct.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function no(t){var n=eo;return eo+=1,Na===null&&(Na=[]),t=U_(Na,t,n),n=Ct,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?A0:S0),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return no(t);if(t.$$typeof===ct)return Ze(t)}throw Error(a(438,String(t)))}function ad(t){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=rd(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=M;return n.index++,s}function Ui(t,n){return typeof n=="function"?n(t):n}function nc(t){var n=Te();return ld(n,Yt,t)}function ld(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var w=y=null,b=null,P=n,Q=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(zt&Z)===Z:(As&Z)===Z){var j=P.revertLane;if(j===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Ia&&(Q=!0);else if((As&j)===j){P=P.next,j===Ia&&(Q=!0);continue}else Z={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(w=b=Z,y=f):b=b.next=Z,Ct.lanes|=j,xs|=j;Z=P.action,Vr&&s(f,Z),f=P.hasEagerState?P.eagerState:s(f,Z)}else j={lane:Z,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(w=b=j,y=f):b=b.next=j,Ct.lanes|=Z,xs|=Z;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=w,!dn(f,t.memoizedState)&&(Oe=!0,Q&&(s=Ca,s!==null)))throw s;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function od(t){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);dn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function H_(t,n,s){var l=Ct,c=Te(),f=jt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!dn((Yt||c).memoizedState,s);y&&(c.memoizedState=s,Oe=!0),c=c.queue;var w=Q_.bind(null,l,c,t);if(io(2048,8,w,[t]),c.getSnapshot!==n||y||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,Va(9,ic(),F_.bind(null,l,c,s,n),null),te===null)throw Error(a(349));f||(As&124)!==0||G_(l,n,s)}return s}function G_(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=rd(),Ct.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function F_(t,n,s,l){n.value=s,n.getSnapshot=l,Y_(n)&&K_(t)}function Q_(t,n,s){return s(function(){Y_(n)&&K_(t)})}function Y_(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!dn(t,s)}catch(l){return!0}}function K_(t){var n=Aa(t,2);n!==null&&vn(n,t,2)}function ud(t){var n=on();if(typeof t=="function"){var s=t;if(t=s(),Vr){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function X_(t,n,s,l){return t.baseState=s,ld(t,Yt,typeof l=="function"?l:Ui)}function A2(t,n,s,l,c){if(rc(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,$_(n,f)):(f.next=s.next,n.pending=s.next=f)}}function $_(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,y={};F.T=y;try{var w=s(c,l),b=F.S;b!==null&&b(y,w),Z_(t,n,w)}catch(P){cd(t,n,P)}finally{F.T=f}}else try{f=s(c,l),Z_(t,n,f)}catch(P){cd(t,n,P)}}function Z_(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){J_(t,n,l)},function(l){return cd(t,n,l)}):J_(t,n,s)}function J_(t,n,s){n.status="fulfilled",n.value=s,W_(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,$_(t,s)))}function cd(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,W_(n),n=n.next;while(n!==l)}t.action=null}function W_(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function t0(t,n){return n}function e0(t,n){if(jt){var s=te.formState;if(s!==null){t:{var l=Ct;if(jt){if(ue){e:{for(var c=ue,f=fi;c.nodeType!==8;){if(!f){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=Yn(c.nextSibling),l=c.data==="F!";break t}}Cr(l)}l=!1}l&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:n},s.queue=l,s=w0.bind(null,Ct,l),l.dispatch=s,l=ud(!1),f=gd.bind(null,Ct,!1,l.queue),l=on(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=A2.bind(null,Ct,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function n0(t){var n=Te();return i0(n,Yt,t)}function i0(t,n,s){if(n=ld(t,n,t0)[0],t=nc(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=no(n)}catch(y){throw y===$l?$u:y}else l=n;n=Te();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Va(9,ic(),S2.bind(null,c,s),null)),[l,f,t]}function S2(t,n){t.action=n}function s0(t){var n=Te(),s=Yt;if(s!==null)return i0(n,s,t);Te(),n=n.memoizedState,s=Te();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function Va(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=rd(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function ic(){return{destroy:void 0,resource:void 0}}function r0(){return Te().memoizedState}function sc(t,n,s,l){var c=on();l=l===void 0?null:l,Ct.flags|=t,c.memoizedState=Va(1|n,ic(),s,l)}function io(t,n,s,l){var c=Te();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&td(l,Yt.memoizedState.deps)?c.memoizedState=Va(n,f,s,l):(Ct.flags|=t,c.memoizedState=Va(1|n,f,s,l))}function a0(t,n){sc(8390656,8,t,n)}function l0(t,n){io(2048,8,t,n)}function o0(t,n){return io(4,2,t,n)}function u0(t,n){return io(4,4,t,n)}function c0(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function h0(t,n,s){s=s!=null?s.concat([t]):null,io(4,4,c0.bind(null,n,t),s)}function hd(){}function f0(t,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&td(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function d0(t,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&td(n,l[1]))return l[0];if(l=t(),Vr){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function fd(t,n,s){return s===void 0||(As&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=pv(),Ct.lanes|=t,xs|=t,s)}function m0(t,n,s,l){return dn(s,n)?s:Da.current!==null?(t=fd(t,s,l),dn(t,n)||(Oe=!0),t):(As&42)===0?(Oe=!0,t.memoizedState=s):(t=pv(),Ct.lanes|=t,xs|=t,n)}function g0(t,n,s,l,c){var f=B.p;B.p=f!==0&&8>f?f:8;var y=F.T,w={};F.T=w,gd(t,!1,n,s);try{var b=c(),P=F.S;if(P!==null&&P(w,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Q=w2(b,l);so(t,n,Q,_n(t))}else so(t,n,l,_n(t))}catch(Z){so(t,n,{then:function(){},status:"rejected",reason:Z},_n())}finally{B.p=f,F.T=y}}function b2(){}function dd(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=p0(t).queue;g0(t,c,n,et,s===null?b2:function(){return y0(t),s(l)})}function p0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:et},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function y0(t){var n=p0(t).next.queue;so(t,n,{},_n())}function md(){return Ze(Ao)}function _0(){return Te().memoizedState}function v0(){return Te().memoizedState}function R2(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();t=Es(s);var l=Ts(n,t,s);l!==null&&(vn(l,n,s),Jl(l,n,s)),n={cache:Gf()},t.payload=n;return}n=n.return}}function I2(t,n,s){var l=_n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},rc(t)?E0(n,s):(s=Of(t,n,s,l),s!==null&&(vn(s,t,l),T0(s,n,l)))}function w0(t,n,s){var l=_n();so(t,n,s,l)}function so(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(rc(t))E0(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,w=f(y,s);if(c.hasEagerState=!0,c.eagerState=w,dn(w,y))return qu(t,n,c,0),te===null&&Bu(),!1}catch(b){}finally{}if(s=Of(t,n,c,l),s!==null)return vn(s,t,l),T0(s,n,l),!0}return!1}function gd(t,n,s,l){if(l={lane:2,revertLane:Yd(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(n)throw Error(a(479))}else n=Of(t,s,l,2),n!==null&&vn(n,t,2)}function rc(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function E0(t,n){xa=Wu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function T0(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,os(t,s)}}var ac={readContext:Ze,use:ec,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},A0={readContext:Ze,use:ec,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:Ze,useEffect:a0,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,sc(4194308,4,c0.bind(null,n,t),s)},useLayoutEffect:function(t,n){return sc(4194308,4,t,n)},useInsertionEffect:function(t,n){sc(4,2,t,n)},useMemo:function(t,n){var s=on();n=n===void 0?null:n;var l=t();if(Vr){Tn(!0);try{t()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=on();if(s!==void 0){var c=s(n);if(Vr){Tn(!0);try{s(n)}finally{Tn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=I2.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=ud(t);var n=t.queue,s=w0.bind(null,Ct,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:hd,useDeferredValue:function(t,n){var s=on();return fd(s,t,n)},useTransition:function(){var t=ud(!1);return t=g0.bind(null,Ct,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ct,c=on();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),te===null)throw Error(a(349));(zt&124)!==0||G_(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,a0(Q_.bind(null,l,f,t),[t]),l.flags|=2048,Va(9,ic(),F_.bind(null,l,f,s,n),null),s},useId:function(){var t=on(),n=te.identifierPrefix;if(jt){var s=Vi,l=Ni;s=(l&~(1<<32-tn(l)-1)).toString(32)+s,n=""+n+"R"+s,s=tc++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=E2++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:md,useFormState:e0,useActionState:e0,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=gd.bind(null,Ct,!0,s),s.dispatch=n,[t,n]},useMemoCache:ad,useCacheRefresh:function(){return on().memoizedState=R2.bind(null,Ct)}},S0={readContext:Ze,use:ec,useCallback:f0,useContext:Ze,useEffect:l0,useImperativeHandle:h0,useInsertionEffect:o0,useLayoutEffect:u0,useMemo:d0,useReducer:nc,useRef:r0,useState:function(){return nc(Ui)},useDebugValue:hd,useDeferredValue:function(t,n){var s=Te();return m0(s,Yt.memoizedState,t,n)},useTransition:function(){var t=nc(Ui)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:no(t),n]},useSyncExternalStore:H_,useId:_0,useHostTransitionStatus:md,useFormState:n0,useActionState:n0,useOptimistic:function(t,n){var s=Te();return X_(s,Yt,t,n)},useMemoCache:ad,useCacheRefresh:v0},C2={readContext:Ze,use:ec,useCallback:f0,useContext:Ze,useEffect:l0,useImperativeHandle:h0,useInsertionEffect:o0,useLayoutEffect:u0,useMemo:d0,useReducer:od,useRef:r0,useState:function(){return od(Ui)},useDebugValue:hd,useDeferredValue:function(t,n){var s=Te();return Yt===null?fd(s,t,n):m0(s,Yt.memoizedState,t,n)},useTransition:function(){var t=od(Ui)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:no(t),n]},useSyncExternalStore:H_,useId:_0,useHostTransitionStatus:md,useFormState:s0,useActionState:s0,useOptimistic:function(t,n){var s=Te();return Yt!==null?X_(s,Yt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ad,useCacheRefresh:v0},Ma=null,ro=0;function lc(t){var n=ro;return ro+=1,Ma===null&&(Ma=[]),U_(Ma,t,n)}function ao(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function oc(t,n){throw n.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function b0(t){var n=t._init;return n(t._payload)}function R0(t){function n(O,V){if(t){var L=O.deletions;L===null?(O.deletions=[V],O.flags|=16):L.push(V)}}function s(O,V){if(!t)return null;for(;V!==null;)n(O,V),V=V.sibling;return null}function l(O){for(var V=new Map;O!==null;)O.key!==null?V.set(O.key,O):V.set(O.index,O),O=O.sibling;return V}function c(O,V){return O=xi(O,V),O.index=0,O.sibling=null,O}function f(O,V,L){return O.index=L,t?(L=O.alternate,L!==null?(L=L.index,L<V?(O.flags|=67108866,V):L):(O.flags|=67108866,V)):(O.flags|=1048576,V)}function y(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function w(O,V,L,K){return V===null||V.tag!==6?(V=Lf(L,O.mode,K),V.return=O,V):(V=c(V,L),V.return=O,V)}function b(O,V,L,K){var ut=L.type;return ut===tt?Q(O,V,L.props.children,K,L.key):V!==null&&(V.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&b0(ut)===V.type)?(V=c(V,L.props),ao(V,L),V.return=O,V):(V=Gu(L.type,L.key,L.props,null,O.mode,K),ao(V,L),V.return=O,V)}function P(O,V,L,K){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=zf(L,O.mode,K),V.return=O,V):(V=c(V,L.children||[]),V.return=O,V)}function Q(O,V,L,K,ut){return V===null||V.tag!==7?(V=Sr(L,O.mode,K,ut),V.return=O,V):(V=c(V,L),V.return=O,V)}function Z(O,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Lf(""+V,O.mode,L),V.return=O,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return L=Gu(V.type,V.key,V.props,null,O.mode,L),ao(L,V),L.return=O,L;case G:return V=zf(V,O.mode,L),V.return=O,V;case S:var K=V._init;return V=K(V._payload),Z(O,V,L)}if(Jt(V)||U(V))return V=Sr(V,O.mode,L,null),V.return=O,V;if(typeof V.then=="function")return Z(O,lc(V),L);if(V.$$typeof===ct)return Z(O,Ku(O,V),L);oc(O,V)}return null}function j(O,V,L,K){var ut=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ut!==null?null:w(O,V,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===ut?b(O,V,L,K):null;case G:return L.key===ut?P(O,V,L,K):null;case S:return ut=L._init,L=ut(L._payload),j(O,V,L,K)}if(Jt(L)||U(L))return ut!==null?null:Q(O,V,L,K,null);if(typeof L.then=="function")return j(O,V,lc(L),K);if(L.$$typeof===ct)return j(O,V,Ku(O,L),K);oc(O,L)}return null}function k(O,V,L,K,ut){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return O=O.get(L)||null,w(V,O,""+K,ut);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return O=O.get(K.key===null?L:K.key)||null,b(V,O,K,ut);case G:return O=O.get(K.key===null?L:K.key)||null,P(V,O,K,ut);case S:var Dt=K._init;return K=Dt(K._payload),k(O,V,L,K,ut)}if(Jt(K)||U(K))return O=O.get(L)||null,Q(V,O,K,ut,null);if(typeof K.then=="function")return k(O,V,L,lc(K),ut);if(K.$$typeof===ct)return k(O,V,L,Ku(V,K),ut);oc(V,K)}return null}function wt(O,V,L,K){for(var ut=null,Dt=null,ft=V,pt=V=0,Le=null;ft!==null&&pt<L.length;pt++){ft.index>pt?(Le=ft,ft=null):Le=ft.sibling;var Pt=j(O,ft,L[pt],K);if(Pt===null){ft===null&&(ft=Le);break}t&&ft&&Pt.alternate===null&&n(O,ft),V=f(Pt,V,pt),Dt===null?ut=Pt:Dt.sibling=Pt,Dt=Pt,ft=Le}if(pt===L.length)return s(O,ft),jt&&Rr(O,pt),ut;if(ft===null){for(;pt<L.length;pt++)ft=Z(O,L[pt],K),ft!==null&&(V=f(ft,V,pt),Dt===null?ut=ft:Dt.sibling=ft,Dt=ft);return jt&&Rr(O,pt),ut}for(ft=l(ft);pt<L.length;pt++)Le=k(ft,O,pt,L[pt],K),Le!==null&&(t&&Le.alternate!==null&&ft.delete(Le.key===null?pt:Le.key),V=f(Le,V,pt),Dt===null?ut=Le:Dt.sibling=Le,Dt=Le);return t&&ft.forEach(function(js){return n(O,js)}),jt&&Rr(O,pt),ut}function gt(O,V,L,K){if(L==null)throw Error(a(151));for(var ut=null,Dt=null,ft=V,pt=V=0,Le=null,Pt=L.next();ft!==null&&!Pt.done;pt++,Pt=L.next()){ft.index>pt?(Le=ft,ft=null):Le=ft.sibling;var js=j(O,ft,Pt.value,K);if(js===null){ft===null&&(ft=Le);break}t&&ft&&js.alternate===null&&n(O,ft),V=f(js,V,pt),Dt===null?ut=js:Dt.sibling=js,Dt=js,ft=Le}if(Pt.done)return s(O,ft),jt&&Rr(O,pt),ut;if(ft===null){for(;!Pt.done;pt++,Pt=L.next())Pt=Z(O,Pt.value,K),Pt!==null&&(V=f(Pt,V,pt),Dt===null?ut=Pt:Dt.sibling=Pt,Dt=Pt);return jt&&Rr(O,pt),ut}for(ft=l(ft);!Pt.done;pt++,Pt=L.next())Pt=k(ft,O,pt,Pt.value,K),Pt!==null&&(t&&Pt.alternate!==null&&ft.delete(Pt.key===null?pt:Pt.key),V=f(Pt,V,pt),Dt===null?ut=Pt:Dt.sibling=Pt,Dt=Pt);return t&&ft.forEach(function(DR){return n(O,DR)}),jt&&Rr(O,pt),ut}function Xt(O,V,L,K){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var ut=L.key;V!==null;){if(V.key===ut){if(ut=L.type,ut===tt){if(V.tag===7){s(O,V.sibling),K=c(V,L.props.children),K.return=O,O=K;break t}}else if(V.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===S&&b0(ut)===V.type){s(O,V.sibling),K=c(V,L.props),ao(K,L),K.return=O,O=K;break t}s(O,V);break}else n(O,V);V=V.sibling}L.type===tt?(K=Sr(L.props.children,O.mode,K,L.key),K.return=O,O=K):(K=Gu(L.type,L.key,L.props,null,O.mode,K),ao(K,L),K.return=O,O=K)}return y(O);case G:t:{for(ut=L.key;V!==null;){if(V.key===ut)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){s(O,V.sibling),K=c(V,L.children||[]),K.return=O,O=K;break t}else{s(O,V);break}else n(O,V);V=V.sibling}K=zf(L,O.mode,K),K.return=O,O=K}return y(O);case S:return ut=L._init,L=ut(L._payload),Xt(O,V,L,K)}if(Jt(L))return wt(O,V,L,K);if(U(L)){if(ut=U(L),typeof ut!="function")throw Error(a(150));return L=ut.call(L),gt(O,V,L,K)}if(typeof L.then=="function")return Xt(O,V,lc(L),K);if(L.$$typeof===ct)return Xt(O,V,Ku(O,L),K);oc(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(s(O,V.sibling),K=c(V,L),K.return=O,O=K):(s(O,V),K=Lf(L,O.mode,K),K.return=O,O=K),y(O)):s(O,V)}return function(O,V,L,K){try{ro=0;var ut=Xt(O,V,L,K);return Ma=null,ut}catch(ft){if(ft===$l||ft===$u)throw ft;var Dt=mn(29,ft,null,O.mode);return Dt.lanes=K,Dt.return=O,Dt}finally{}}}var Oa=R0(!0),I0=R0(!1),Nn=$(null),di=null;function Ss(t){var n=t.alternate;st(De,De.current&1),st(Nn,t),di===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(di=t)}function C0(t){if(t.tag===22){if(st(De,De.current),st(Nn,t),di===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(di=t)}}else bs()}function bs(){st(De,De.current),st(Nn,Nn.current)}function Li(t){at(Nn),di===t&&(di=null),at(De)}var De=$(0);function uc(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||rm(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function pd(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var yd={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=_n(),c=Es(l);c.payload=n,s!=null&&(c.callback=s),n=Ts(t,c,l),n!==null&&(vn(n,t,l),Jl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=_n(),c=Es(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Ts(t,c,l),n!==null&&(vn(n,t,l),Jl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=_n(),l=Es(s);l.tag=2,n!=null&&(l.callback=n),n=Ts(t,l,s),n!==null&&(vn(n,t,s),Jl(n,t,s))}};function D0(t,n,s,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!ql(s,l)||!ql(c,f):!0}function x0(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&yd.enqueueReplaceState(n,n.state,null)}function Mr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function N0(t){cc(t)}function V0(t){console.error(t)}function M0(t){cc(t)}function hc(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function O0(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function _d(t,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){hc(t,n)},s}function U0(t){return t=Es(t),t.tag=3,t}function L0(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){O0(n,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){O0(n,s,l),typeof c!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function D2(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Yl(n,s,c,!0),s=Nn.current,s!==null){switch(s.tag){case 13:return di===null?qd():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Yf?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Gd(t,l,c)),!1;case 22:return s.flags|=65536,l===Yf?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Gd(t,l,c)),!1}throw Error(a(435,s.tag))}return Gd(t,l,c),qd(),!1}if(jt)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==kf&&(t=Error(a(422),{cause:l}),Ql(In(t,s)))):(l!==kf&&(n=Error(a(423),{cause:l}),Ql(In(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=In(l,s),c=_d(t.stateNode,l,c),$f(t,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=In(f,s),mo===null?mo=[f]:mo.push(f),ce!==4&&(ce=2),n===null)return!0;l=In(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=_d(s.stateNode,l,t),$f(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=U0(c),L0(c,t,s,l),$f(s,c),!1}s=s.return}while(s!==null);return!1}var z0=Error(a(461)),Oe=!1;function qe(t,n,s,l){n.child=t===null?I0(n,null,s,l):Oa(n,t.child,s,l)}function P0(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var y={};for(var w in l)w!=="ref"&&(y[w]=l[w])}else y=l;return xr(n),l=ed(t,n,s,y,f,c),w=nd(),t!==null&&!Oe?(id(t,n,c),zi(t,n,c)):(jt&&w&&Pf(n),n.flags|=1,qe(t,n,l,c),n.child)}function j0(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Uf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,k0(t,n,f,l,c)):(t=Gu(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Rd(t,c)){var y=f.memoizedProps;if(s=s.compare,s=s!==null?s:ql,s(y,l)&&t.ref===n.ref)return zi(t,n,c)}return n.flags|=1,t=xi(f,l),t.ref=n.ref,t.return=n,n.child=t}function k0(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(ql(f,l)&&t.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Rd(t,c))(t.flags&131072)!==0&&(Oe=!0);else return n.lanes=t.lanes,zi(t,n,c)}return vd(t,n,s,l,c)}function B0(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return q0(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(n,f!==null?f.cachePool:null),f!==null?k_(n,f):Jf(),C0(n);else return n.lanes=n.childLanes=536870912,q0(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Xu(n,f.cachePool),k_(n,f),bs(),n.memoizedState=null):(t!==null&&Xu(n,null),Jf(),bs());return qe(t,n,c,s),n.child}function q0(t,n,s,l){var c=Qf();return c=c===null?null:{parent:Ce._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Xu(n,null),Jf(),C0(n),t!==null&&Yl(t,n,l,!0),null}function fc(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function vd(t,n,s,l,c){return xr(n),s=ed(t,n,s,l,void 0,c),l=nd(),t!==null&&!Oe?(id(t,n,c),zi(t,n,c)):(jt&&l&&Pf(n),n.flags|=1,qe(t,n,s,c),n.child)}function H0(t,n,s,l,c,f){return xr(n),n.updateQueue=null,s=q_(n,l,s,c),B_(t),l=nd(),t!==null&&!Oe?(id(t,n,f),zi(t,n,f)):(jt&&l&&Pf(n),n.flags|=1,qe(t,n,s,f),n.child)}function G0(t,n,s,l,c){if(xr(n),n.stateNode===null){var f=Sa,y=s.contextType;typeof y=="object"&&y!==null&&(f=Ze(y)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=yd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Kf(n),y=s.contextType,f.context=typeof y=="object"&&y!==null?Ze(y):Sa,f.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(pd(n,s,y,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&yd.enqueueReplaceState(f,f.state,null),to(n,l,f,c),Wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var w=n.memoizedProps,b=Mr(s,w);f.props=b;var P=f.context,Q=s.contextType;y=Sa,typeof Q=="object"&&Q!==null&&(y=Ze(Q));var Z=s.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||P!==y)&&x0(n,f,l,y),ws=!1;var j=n.memoizedState;f.state=j,to(n,l,f,c),Wl(),P=n.memoizedState,w||j!==P||ws?(typeof Z=="function"&&(pd(n,s,Z,l),P=n.memoizedState),(b=ws||D0(n,s,b,l,j,P,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Xf(t,n),y=n.memoizedProps,Q=Mr(s,y),f.props=Q,Z=n.pendingProps,j=f.context,P=s.contextType,b=Sa,typeof P=="object"&&P!==null&&(b=Ze(P)),w=s.getDerivedStateFromProps,(P=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Z||j!==b)&&x0(n,f,l,b),ws=!1,j=n.memoizedState,f.state=j,to(n,l,f,c),Wl();var k=n.memoizedState;y!==Z||j!==k||ws||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof w=="function"&&(pd(n,s,w,l),k=n.memoizedState),(Q=ws||D0(n,s,Q,l,j,k,b)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,fc(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Oa(n,t.child,null,c),n.child=Oa(n,null,s,c)):qe(t,n,s,c),n.memoizedState=f.state,t=n.child):t=zi(t,n,c),t}function F0(t,n,s,l){return Fl(),n.flags|=256,qe(t,n,s,l),n.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:V_()}}function Td(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Vn),t}function Q0(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?Ss(n):bs(),jt){var w=ue,b;if(b=w){t:{for(b=w,w=fi;b.nodeType!==8;){if(!w){w=null;break t}if(b=Yn(b.nextSibling),b===null){w=null;break t}}w=b}w!==null?(n.memoizedState={dehydrated:w,treeContext:br!==null?{id:Ni,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},b=mn(18,null,null,0),b.stateNode=w,b.return=n,n.child=b,rn=n,ue=null,b=!0):b=!1}b||Cr(n)}if(w=n.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return rm(w)?n.lanes=32:n.lanes=536870912,null;Li(n)}return w=l.children,l=l.fallback,c?(bs(),c=n.mode,w=dc({mode:"hidden",children:w},c),l=Sr(l,c,s,null),w.return=n,l.return=n,w.sibling=l,n.child=w,c=n.child,c.memoizedState=Ed(s),c.childLanes=Td(t,y,s),n.memoizedState=wd,l):(Ss(n),Ad(n,w))}if(b=t.memoizedState,b!==null&&(w=b.dehydrated,w!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Sd(t,n,s)):n.memoizedState!==null?(bs(),n.child=t.child,n.flags|=128,n=null):(bs(),c=l.fallback,w=n.mode,l=dc({mode:"visible",children:l.children},w),c=Sr(c,w,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Oa(n,t.child,null,s),l=n.child,l.memoizedState=Ed(s),l.childLanes=Td(t,y,s),n.memoizedState=wd,n=c);else if(Ss(n),rm(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Ql({value:l,source:null,stack:null}),n=Sd(t,n,s)}else if(Oe||Yl(t,n,s,!1),y=(s&t.childLanes)!==0,Oe||y){if(y=te,y!==null&&(l=s&-s,l=(l&42)!==0?1:bl(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Aa(t,l),vn(y,t,l),z0;w.data==="$?"||qd(),n=Sd(t,n,s)}else w.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ue=Yn(w.nextSibling),rn=n,jt=!0,Ir=null,fi=!1,t!==null&&(Dn[xn++]=Ni,Dn[xn++]=Vi,Dn[xn++]=br,Ni=t.id,Vi=t.overflow,br=n),n=Ad(n,l.children),n.flags|=4096);return n}return c?(bs(),c=l.fallback,w=n.mode,b=t.child,P=b.sibling,l=xi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=xi(P,c):(c=Sr(c,w,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,w=t.child.memoizedState,w===null?w=Ed(s):(b=w.cachePool,b!==null?(P=Ce._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=V_(),w={baseLanes:w.baseLanes|s,cachePool:b}),c.memoizedState=w,c.childLanes=Td(t,y,s),n.memoizedState=wd,l):(Ss(n),s=t.child,t=s.sibling,s=xi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=s,n.memoizedState=null,s)}function Ad(t,n){return n=dc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function dc(t,n){return t=mn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sd(t,n,s){return Oa(n,t.child,null,s),t=Ad(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Y0(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),qf(t.return,n,s)}function bd(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function K0(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(qe(t,n,l.children,s),l=De.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Y0(t,s,n);else if(t.tag===19)Y0(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(st(De,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&uc(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),bd(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&uc(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}bd(n,!0,s,null,f);break;case"together":bd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),xs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Yl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=xi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=xi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Rd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function x2(t,n,s){switch(n.tag){case 3:Ft(n,n.stateNode.containerInfo),vs(n,Ce,t.memoizedState.cache),Fl();break;case 27:case 5:El(n);break;case 4:Ft(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Q0(t,n,s):(Ss(n),t=zi(t,n,s),t!==null?t.sibling:null);Ss(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Yl(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return K0(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(De,De.current),l)break;return null;case 22:case 23:return n.lanes=0,B0(t,n,s);case 24:vs(n,Ce,t.memoizedState.cache)}return zi(t,n,s)}function X0(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Rd(t,s)&&(n.flags&128)===0)return Oe=!1,x2(t,n,s);Oe=(t.flags&131072)!==0}else Oe=!1,jt&&(n.flags&1048576)!==0&&b_(n,Qu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Uf(l)?(t=Mr(l,t),n.tag=1,n=G0(null,n,l,t,s)):(n.tag=0,n=vd(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===ht){n.tag=11,n=P0(null,n,l,t,s);break t}else if(c===C){n.tag=14,n=j0(null,n,l,t,s);break t}}throw n=ne(l)||l,Error(a(306,n,""))}}return n;case 0:return vd(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Mr(l,n.pendingProps),G0(t,n,l,c,s);case 3:t:{if(Ft(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Xf(t,n),to(n,l,null,s);var y=n.memoizedState;if(l=y.cache,vs(n,Ce,l),l!==f.cache&&Hf(n,[Ce],s,!0),Wl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=F0(t,n,l,s);break t}else if(l!==c){c=In(Error(a(424)),n),Ql(c),n=F0(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ue=Yn(t.firstChild),rn=n,jt=!0,Ir=null,fi=!0,s=I0(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Fl(),l===c){n=zi(t,n,s);break t}qe(t,n,l,s)}n=n.child}return n;case 26:return fc(t,n),t===null?(s=Wv(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,t=n.pendingProps,l=Ic(vt.current).createElement(s),l[de]=n,l[Be]=t,Ge(l,s,t),me(l),n.stateNode=l):n.memoizedState=Wv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return El(n),t===null&&jt&&(l=n.stateNode=$v(n.type,n.pendingProps,vt.current),rn=n,fi=!0,c=ue,Os(n.type)?(am=c,ue=Yn(l.firstChild)):ue=c),qe(t,n,n.pendingProps.children,s),fc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=ue)&&(l=sR(l,n.type,n.pendingProps,fi),l!==null?(n.stateNode=l,rn=n,ue=Yn(l.firstChild),fi=!1,c=!0):c=!1),c||Cr(n)),El(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,nm(c,f)?l=null:y!==null&&nm(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ed(t,n,T2,null,null,s),Ao._currentValue=c),fc(t,n),qe(t,n,l,s),n.child;case 6:return t===null&&jt&&((t=s=ue)&&(s=rR(s,n.pendingProps,fi),s!==null?(n.stateNode=s,rn=n,ue=null,t=!0):t=!1),t||Cr(n)),null;case 13:return Q0(t,n,s);case 4:return Ft(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Oa(n,null,l,s):qe(t,n,l,s),n.child;case 11:return P0(t,n,n.type,n.pendingProps,s);case 7:return qe(t,n,n.pendingProps,s),n.child;case 8:return qe(t,n,n.pendingProps.children,s),n.child;case 12:return qe(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),qe(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,xr(n),c=Ze(c),l=l(c),n.flags|=1,qe(t,n,l,s),n.child;case 14:return j0(t,n,n.type,n.pendingProps,s);case 15:return k0(t,n,n.type,n.pendingProps,s);case 19:return K0(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=dc(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=xi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return B0(t,n,s);case 24:return xr(n),l=Ze(Ce),t===null?(c=Qf(),c===null&&(c=te,f=Gf(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},Kf(n),vs(n,Ce,c)):((t.lanes&s)!==0&&(Xf(t,n),to(n,null,null,s),Wl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),vs(n,Ce,l)):(l=f.cache,vs(n,Ce,l),l!==c.cache&&Hf(n,[Ce],s,!0))),qe(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pi(t){t.flags|=4}function $0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!sw(n)){if(n=Nn.current,n!==null&&((zt&4194048)===zt?di!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==di))throw Zl=Yf,M_;t.flags|=8192}}function mc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?as():536870912,t.lanes|=n,Pa|=n)}function lo(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function le(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function N2(t,n,s){var l=n.pendingProps;switch(jf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Ce),zn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Gl(n)?Pi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,C_())),le(n),null;case 26:return s=n.memoizedState,t===null?(Pi(n),s!==null?(le(n),$0(n,s)):(le(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Pi(n),le(n),$0(n,s)):(le(n),n.flags&=-16777217):(t.memoizedProps!==l&&Pi(n),le(n),n.flags&=-16777217),null;case 27:ia(n),s=vt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return le(n),null}t=dt.current,Gl(n)?R_(n):(t=$v(c,l,s),n.stateNode=t,Pi(n))}return le(n),null;case 5:if(ia(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(t=dt.current,Gl(n))R_(n);else{switch(c=Ic(vt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[de]=n,t[Be]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Ge(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Pi(n)}}return le(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Pi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=vt.current,Gl(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=rn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[de]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Hv(t.nodeValue,s)),t||Cr(n)}else t=Ic(t).createTextNode(l),t[de]=n,n.stateNode=t}return le(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Gl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[de]=n}else Fl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),c=!1}else c=C_(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Li(n),n):(Li(n),null)}if(Li(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),mc(n,n.updateQueue),le(n),null;case 4:return zn(),t===null&&Zd(n.stateNode.containerInfo),le(n),null;case 10:return Oi(n.type),le(n),null;case 19:if(at(De),c=n.memoizedState,c===null)return le(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)lo(c,!1);else{if(ce!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=uc(t),f!==null){for(n.flags|=128,lo(c,!1),t=f.updateQueue,n.updateQueue=t,mc(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)S_(s,t),s=s.sibling;return st(De,De.current&1|2),n.child}t=t.sibling}c.tail!==null&&ln()>yc&&(n.flags|=128,l=!0,lo(c,!1),n.lanes=4194304)}else{if(!l)if(t=uc(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,mc(n,t),lo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return le(n),null}else 2*ln()-c.renderingStartTime>yc&&s!==536870912&&(n.flags|=128,l=!0,lo(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=ln(),n.sibling=null,t=De.current,st(De,l?t&1|2:t&1),n):(le(n),null);case 22:case 23:return Li(n),Wf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&mc(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&at(Nr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Oi(Ce),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function V2(t,n){switch(jf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Ce),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ia(n),null;case 13:if(Li(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Fl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return at(De),null;case 4:return zn(),null;case 10:return Oi(n.type),null;case 22:case 23:return Li(n),Wf(),t!==null&&at(Nr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Ce),null;case 25:return null;default:return null}}function Z0(t,n){switch(jf(n),n.tag){case 3:Oi(Ce),zn();break;case 26:case 27:case 5:ia(n);break;case 4:zn();break;case 13:Li(n);break;case 19:at(De);break;case 10:Oi(n.type);break;case 22:case 23:Li(n),Wf(),t!==null&&at(Nr);break;case 24:Oi(Ce)}}function oo(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,y=s.inst;l=f(),y.destroy=l}s=s.next}while(s!==c)}}catch(w){$t(n,n.return,w)}}function Rs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,c=n;var b=s,P=w;try{P()}catch(Q){$t(c,b,Q)}}}l=l.next}while(l!==f)}}catch(Q){$t(n,n.return,Q)}}function J0(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{j_(n,s)}catch(l){$t(t,t.return,l)}}}function W0(t,n,s){s.props=Mr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){$t(t,n,l)}}function uo(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){$t(t,n,c)}}function mi(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){$t(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){$t(t,n,c)}else s.current=null}function tv(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){$t(t,t.return,c)}}function Id(t,n,s){try{var l=t.stateNode;W2(l,t.type,s,n),l[Be]=n}catch(c){$t(t,t.return,c)}}function ev(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Cd(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ev(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Rc));else if(l!==4&&(l===27&&Os(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Dd(t,n,s),t=t.sibling;t!==null;)Dd(t,n,s),t=t.sibling}function gc(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Os(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(gc(t,n,s),t=t.sibling;t!==null;)gc(t,n,s),t=t.sibling}function nv(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ge(n,l,s),n[de]=t,n[Be]=s}catch(f){$t(t,t.return,f)}}var ji=!1,ye=!1,xd=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function M2(t,n){if(t=t.containerInfo,tm=Mc,t=m_(t),Cf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch(gt){s=null;break t}var y=0,w=-1,b=-1,P=0,Q=0,Z=t,j=null;e:for(;;){for(var k;Z!==s||c!==0&&Z.nodeType!==3||(w=y+c),Z!==f||l!==0&&Z.nodeType!==3||(b=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(k=Z.firstChild)!==null;)j=Z,Z=k;for(;;){if(Z===t)break e;if(j===s&&++P===c&&(w=y),j===f&&++Q===l&&(b=y),(k=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=k}s=w===-1||b===-1?null:{start:w,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(em={focusedElem:t,selectionRange:s},Mc=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var wt=Mr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(wt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){$t(s,s.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)sm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function sv(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Is(t,s),l&4&&oo(5,s);break;case 1:if(Is(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(y){$t(s,s.return,y)}else{var c=Mr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){$t(s,s.return,y)}}l&64&&J0(s),l&512&&uo(s,s.return);break;case 3:if(Is(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{j_(t,n)}catch(y){$t(s,s.return,y)}}break;case 27:n===null&&l&4&&nv(s);case 26:case 5:Is(t,s),n===null&&l&4&&tv(s),l&512&&uo(s,s.return);break;case 12:Is(t,s);break;case 13:Is(t,s),l&4&&lv(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=q2.bind(null,s),aR(t,s))));break;case 22:if(l=s.memoizedState!==null||ji,!l){n=n!==null&&n.memoizedState!==null||ye,c=ji;var f=ye;ji=l,(ye=n)&&!f?Cs(t,s,(s.subtreeFlags&8772)!==0):Is(t,s),ji=c,ye=f}break;case 30:break;default:Is(t,s)}}function rv(t){var n=t.alternate;n!==null&&(t.alternate=null,rv(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&oa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ie=null,un=!1;function ki(t,n,s){for(s=s.child;s!==null;)av(t,n,s),s=s.sibling}function av(t,n,s){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(is,s)}catch(f){}switch(s.tag){case 26:ye||mi(s,n),ki(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ye||mi(s,n);var l=ie,c=un;Os(s.type)&&(ie=s.stateNode,un=!1),ki(t,n,s),vo(s.stateNode),ie=l,un=c;break;case 5:ye||mi(s,n);case 6:if(l=ie,c=un,ie=null,ki(t,n,s),ie=l,un=c,ie!==null)if(un)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{ie.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:ie!==null&&(un?(t=ie,Kv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Io(t)):Kv(ie,s.stateNode));break;case 4:l=ie,c=un,ie=s.stateNode.containerInfo,un=!0,ki(t,n,s),ie=l,un=c;break;case 0:case 11:case 14:case 15:ye||Rs(2,s,n),ye||Rs(4,s,n),ki(t,n,s);break;case 1:ye||(mi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&W0(s,n,l)),ki(t,n,s);break;case 21:ki(t,n,s);break;case 22:ye=(l=ye)||s.memoizedState!==null,ki(t,n,s),ye=l;break;default:ki(t,n,s)}}function lv(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Io(t)}catch(s){$t(n,n.return,s)}}function O2(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new iv),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new iv),n;default:throw Error(a(435,t.tag))}}function Nd(t,n){var s=O2(t);n.forEach(function(l){var c=H2.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function gn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,y=n,w=y;t:for(;w!==null;){switch(w.tag){case 27:if(Os(w.type)){ie=w.stateNode,un=!1;break t}break;case 5:ie=w.stateNode,un=!1;break t;case 3:case 4:ie=w.stateNode.containerInfo,un=!0;break t}w=w.return}if(ie===null)throw Error(a(160));av(f,y,c),ie=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ov(n,t),n=n.sibling}var Qn=null;function ov(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(n,t),pn(t),l&4&&(Rs(3,t,t.return),oo(3,t),Rs(5,t,t.return));break;case 1:gn(n,t),pn(t),l&512&&(ye||s===null||mi(s,s.return)),l&64&&ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Qn;if(gn(n,t),pn(t),l&512&&(ye||s===null||mi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[us]||f[de]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Ge(f,l,s),f[de]=t,me(f),l=f;break t;case"link":var y=nw("link","href",c).get(l+(s.href||""));if(y){for(var w=0;w<y.length;w++)if(f=y[w],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(w,1);break e}}f=c.createElement(l),Ge(f,l,s),c.head.appendChild(f);break;case"meta":if(y=nw("meta","content",c).get(l+(s.content||""))){for(w=0;w<y.length;w++)if(f=y[w],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(w,1);break e}}f=c.createElement(l),Ge(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[de]=t,me(f),l=f}t.stateNode=l}else iw(c,t.type,t.stateNode);else t.stateNode=ew(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?iw(c,t.type,t.stateNode):ew(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Id(t,t.memoizedProps,s.memoizedProps)}break;case 27:gn(n,t),pn(t),l&512&&(ye||s===null||mi(s,s.return)),s!==null&&l&4&&Id(t,t.memoizedProps,s.memoizedProps);break;case 5:if(gn(n,t),pn(t),l&512&&(ye||s===null||mi(s,s.return)),t.flags&32){c=t.stateNode;try{bn(c,"")}catch(k){$t(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Id(t,c,s!==null?s.memoizedProps:c)),l&1024&&(xd=!0);break;case 6:if(gn(n,t),pn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(k){$t(t,t.return,k)}}break;case 3:if(xc=null,c=Qn,Qn=Cc(n.containerInfo),gn(n,t),Qn=c,pn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Io(n.containerInfo)}catch(k){$t(t,t.return,k)}xd&&(xd=!1,uv(t));break;case 4:l=Qn,Qn=Cc(t.stateNode.containerInfo),gn(n,t),pn(t),Qn=l;break;case 12:gn(n,t),pn(t);break;case 13:gn(n,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(zd=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 22:c=t.memoizedState!==null;var b=s!==null&&s.memoizedState!==null,P=ji,Q=ye;if(ji=P||c,ye=Q||b,gn(n,t),ye=Q,ji=P,pn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||b||ji||ye||Or(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){b=s=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=b.stateNode;var Z=b.memoizedProps.style,j=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;w.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(k){$t(b,b.return,k)}}}else if(n.tag===6){if(s===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){$t(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Nd(t,s))));break;case 19:gn(n,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 30:break;case 21:break;default:gn(n,t),pn(t)}}function pn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(ev(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Cd(t);gc(t,f,c);break;case 5:var y=s.stateNode;s.flags&32&&(bn(y,""),s.flags&=-33);var w=Cd(t);gc(t,w,y);break;case 3:case 4:var b=s.stateNode.containerInfo,P=Cd(t);Dd(t,P,b);break;default:throw Error(a(161))}}catch(Q){$t(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;uv(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sv(t,n.alternate,n),n=n.sibling}function Or(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Rs(4,n,n.return),Or(n);break;case 1:mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&W0(n,n.return,s),Or(n);break;case 27:vo(n.stateNode);case 26:case 5:mi(n,n.return),Or(n);break;case 22:n.memoizedState===null&&Or(n);break;case 30:Or(n);break;default:Or(n)}t=t.sibling}}function Cs(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Cs(c,f,s),oo(4,f);break;case 1:if(Cs(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){$t(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var w=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)P_(b[c],w)}catch(P){$t(l,l.return,P)}}s&&y&64&&J0(f),uo(f,f.return);break;case 27:nv(f);case 26:case 5:Cs(c,f,s),s&&l===null&&y&4&&tv(f),uo(f,f.return);break;case 12:Cs(c,f,s);break;case 13:Cs(c,f,s),s&&y&4&&lv(c,f);break;case 22:f.memoizedState===null&&Cs(c,f,s),uo(f,f.return);break;case 30:break;default:Cs(c,f,s)}n=n.sibling}}function Vd(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Kl(s))}function Md(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t))}function gi(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)cv(t,n,s,l),n=n.sibling}function cv(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:gi(t,n,s,l),c&2048&&oo(9,n);break;case 1:gi(t,n,s,l);break;case 3:gi(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Kl(t)));break;case 12:if(c&2048){gi(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,w=f.onPostCommit;typeof w=="function"&&w(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){$t(n,n.return,b)}}else gi(t,n,s,l);break;case 13:gi(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?gi(t,n,s,l):co(t,n):f._visibility&2?gi(t,n,s,l):(f._visibility|=2,Ua(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Vd(y,n);break;case 24:gi(t,n,s,l),c&2048&&Md(n.alternate,n);break;default:gi(t,n,s,l)}}function Ua(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,w=s,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Ua(f,y,w,b,c),oo(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ua(f,y,w,b,c):co(f,y):(Q._visibility|=2,Ua(f,y,w,b,c)),c&&P&2048&&Vd(y.alternate,y);break;case 24:Ua(f,y,w,b,c),c&&P&2048&&Md(y.alternate,y);break;default:Ua(f,y,w,b,c)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:co(s,l),c&2048&&Vd(l.alternate,l);break;case 24:co(s,l),c&2048&&Md(l.alternate,l);break;default:co(s,l)}n=n.sibling}}var ho=8192;function La(t){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)hv(t),t=t.sibling}function hv(t){switch(t.tag){case 26:La(t),t.flags&ho&&t.memoizedState!==null&&vR(Qn,t.memoizedState,t.memoizedProps);break;case 5:La(t);break;case 3:case 4:var n=Qn;Qn=Cc(t.stateNode.containerInfo),La(t),Qn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ho,ho=16777216,La(t),ho=n):La(t));break;default:La(t)}}function fv(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,mv(l,t)}fv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dv(t),t=t.sibling}function dv(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,pc(t)):fo(t);break;default:fo(t)}}function pc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,mv(l,t)}fv(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Rs(8,n,n.return),pc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,pc(n));break;default:pc(n)}t=t.sibling}}function mv(t,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:Rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=t;Ue!==null;){l=Ue;var c=l.sibling,f=l.return;if(rv(l),l===s){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var U2={getCacheForType:function(t){var n=Ze(Ce),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},L2=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,xt=null,zt=0,Gt=0,yn=null,Ds=!1,za=!1,Od=!1,Bi=0,ce=0,xs=0,Ur=0,Ud=0,Vn=0,Pa=0,mo=null,cn=null,Ld=!1,zd=0,yc=1/0,_c=null,Ns=null,He=0,Vs=null,ja=null,ka=0,Pd=0,jd=null,gv=null,go=0,kd=null;function _n(){if((Ht&2)!==0&&zt!==0)return zt&-zt;if(F.T!==null){var t=Ia;return t!==0?t:Yd()}return Ai()}function pv(){Vn===0&&(Vn=(zt&536870912)===0||jt?Sl():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),Vn}function vn(t,n,s){(t===te&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),Ms(t,zt,Vn,!1)),fe(t,s),((Ht&2)===0||t!==te)&&(t===te&&((Ht&2)===0&&(Ur|=s),ce===4&&Ms(t,zt,Vn,!1)),pi(t))}function yv(t,n,s){if((Ht&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||rs(t,n),c=l?j2(t,n):Hd(t,n,!0),f=l;do{if(c===0){za&&!l&&Ms(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!z2(s)){c=Hd(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var w=t;c=mo;var b=w.current.memoizedState.isDehydrated;if(b&&(Ba(w,y).flags|=256),y=Hd(w,y,!1),y!==2){if(Od&&!b){w.errorRecoveryDisabledLanes|=f,Ur|=f,c=4;break t}f=cn,cn=c,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ba(t,0),Ms(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(l,n,Vn,!Ds);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=zd+300-ln(),10<c)){if(Ms(l,n,Vn,!Ds),An(l,0,!0)!==0)break t;l.timeoutHandle=Qv(_v.bind(null,l,s,cn,_c,Ld,n,Vn,Ur,Pa,Ds,f,2,-0,0),c);break t}_v(l,s,cn,_c,Ld,n,Vn,Ur,Pa,Ds,f,0,-0,0)}}break}while(!0);pi(t)}function _v(t,n,s,l,c,f,y,w,b,P,Q,Z,j,k){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(To={stylesheets:null,count:0,unsuspend:_R},hv(n),Z=wR(),Z!==null)){t.cancelPendingCommit=Z(bv.bind(null,t,n,f,s,l,c,y,w,b,Q,1,j,k)),Ms(t,f,y,!P);return}bv(t,n,f,s,l,c,y,w,b)}function z2(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch(y){return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(t,n,s,l){n&=~Ud,n&=~Ur,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-tn(c),y=1<<f;l[f]=-1,c&=~y}s!==0&&ls(t,s,n)}function vc(){return(Ht&6)===0?(po(0),!1):!0}function Bd(){if(xt!==null){if(Gt===0)var t=xt.return;else t=xt,Mi=Dr=null,sd(t),Ma=null,ro=0,t=xt;for(;t!==null;)Z0(t.alternate,t),t=t.return;xt=null}}function Ba(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,eR(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Bd(),te=t,xt=s=xi(t.current,null),zt=n,Gt=0,yn=null,Ds=!1,za=rs(t,n),Od=!1,Pa=Vn=Ud=Ur=xs=ce=0,cn=mo=null,Ld=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-tn(l),f=1<<c;n|=t[c],l&=~f}return Bi=n,Bu(),s}function vv(t,n){Ct=null,F.H=ac,n===$l||n===$u?(n=L_(),Gt=3):n===M_?(n=L_(),Gt=4):Gt=n===z0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,xt===null&&(ce=1,hc(t,In(n,t.current)))}function wv(){var t=F.H;return F.H=ac,t===null?ac:t}function Ev(){var t=F.A;return F.A=U2,t}function qd(){ce=4,Ds||(zt&4194048)!==zt&&Nn.current!==null||(za=!0),(xs&134217727)===0&&(Ur&134217727)===0||te===null||Ms(te,zt,Vn,!1)}function Hd(t,n,s){var l=Ht;Ht|=2;var c=wv(),f=Ev();(te!==t||zt!==n)&&(_c=null,Ba(t,n)),n=!1;var y=ce;t:do try{if(Gt!==0&&xt!==null){var w=xt,b=yn;switch(Gt){case 8:Bd(),y=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var P=Gt;if(Gt=0,yn=null,qa(t,w,b,P),s&&za){y=0;break t}break;default:P=Gt,Gt=0,yn=null,qa(t,w,b,P)}}P2(),y=ce;break}catch(Q){vv(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Mi=Dr=null,Ht=l,F.H=c,F.A=f,xt===null&&(te=null,zt=0,Bu()),y}function P2(){for(;xt!==null;)Tv(xt)}function j2(t,n){var s=Ht;Ht|=2;var l=wv(),c=Ev();te!==t||zt!==n?(_c=null,yc=ln()+500,Ba(t,n)):za=rs(t,n);t:do try{if(Gt!==0&&xt!==null){n=xt;var f=yn;e:switch(Gt){case 1:Gt=0,yn=null,qa(t,n,f,1);break;case 2:case 9:if(O_(f)){Gt=0,yn=null,Av(n);break}n=function(){Gt!==2&&Gt!==9||te!==t||(Gt=7),pi(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:O_(f)?(Gt=0,yn=null,Av(n)):(Gt=0,yn=null,qa(t,n,f,7));break;case 5:var y=null;switch(xt.tag){case 26:y=xt.memoizedState;case 5:case 27:var w=xt;if(!y||sw(y)){Gt=0,yn=null;var b=w.sibling;if(b!==null)xt=b;else{var P=w.return;P!==null?(xt=P,wc(P)):xt=null}break e}}Gt=0,yn=null,qa(t,n,f,5);break;case 6:Gt=0,yn=null,qa(t,n,f,6);break;case 8:Bd(),ce=6;break t;default:throw Error(a(462))}}k2();break}catch(Q){vv(t,Q)}while(!0);return Mi=Dr=null,F.H=l,F.A=c,Ht=s,xt!==null?0:(te=null,zt=0,Bu(),ce)}function k2(){for(;xt!==null&&!yf();)Tv(xt)}function Tv(t){var n=X0(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,n===null?wc(t):xt=n}function Av(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=H0(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=H0(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:sd(n);default:Z0(s,n),n=xt=S_(n,Bi),n=X0(s,n,Bi)}t.memoizedProps=t.pendingProps,n===null?wc(t):xt=n}function qa(t,n,s,l){Mi=Dr=null,sd(n),Ma=null,ro=0;var c=n.return;try{if(D2(t,c,n,s,zt)){ce=1,hc(t,In(s,t.current)),xt=null;return}}catch(f){if(c!==null)throw xt=c,f;ce=1,hc(t,In(s,t.current)),xt=null;return}n.flags&32768?(jt||l===1?t=!0:za||(zt&536870912)!==0?t=!1:(Ds=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sv(n,t)):wc(n)}function wc(t){var n=t;do{if((n.flags&32768)!==0){Sv(n,Ds);return}t=n.return;var s=N2(n.alternate,n,Bi);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=t}while(n!==null);ce===0&&(ce=5)}function Sv(t,n){do{var s=V2(t.alternate,t);if(s!==null){s.flags&=32767,xt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){xt=t;return}xt=t=s}while(t!==null);ce=6,xt=null}function bv(t,n,s,l,c,f,y,w,b){t.cancelPendingCommit=null;do Ec();while(He!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mf,Su(t,s,f,y,w,b),t===te&&(xt=te=null,zt=0),ja=n,Vs=t,ka=s,Pd=f,jd=c,gv=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,G2(Ti,function(){return xv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=B.p,B.p=2,y=Ht,Ht|=4;try{M2(t,n,s)}finally{Ht=y,B.p=c,F.T=l}}He=1,Rv(),Iv(),Cv()}}function Rv(){if(He===1){He=0;var t=Vs,n=ja,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=B.p;B.p=2;var c=Ht;Ht|=4;try{ov(n,t);var f=em,y=m_(t.containerInfo),w=f.focusedElem,b=f.selectionRange;if(y!==w&&w&&w.ownerDocument&&d_(w.ownerDocument.documentElement,w)){if(b!==null&&Cf(w)){var P=b.start,Q=b.end;if(Q===void 0&&(Q=P),"selectionStart"in w)w.selectionStart=P,w.selectionEnd=Math.min(Q,w.value.length);else{var Z=w.ownerDocument||document,j=Z&&Z.defaultView||window;if(j.getSelection){var k=j.getSelection(),wt=w.textContent.length,gt=Math.min(b.start,wt),Xt=b.end===void 0?gt:Math.min(b.end,wt);!k.extend&&gt>Xt&&(y=Xt,Xt=gt,gt=y);var O=f_(w,gt),V=f_(w,Xt);if(O&&V&&(k.rangeCount!==1||k.anchorNode!==O.node||k.anchorOffset!==O.offset||k.focusNode!==V.node||k.focusOffset!==V.offset)){var L=Z.createRange();L.setStart(O.node,O.offset),k.removeAllRanges(),gt>Xt?(k.addRange(L),k.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),k.addRange(L))}}}}for(Z=[],k=w;k=k.parentNode;)k.nodeType===1&&Z.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Z.length;w++){var K=Z[w];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Mc=!!tm,em=tm=null}finally{Ht=c,B.p=l,F.T=s}}t.current=n,He=2}}function Iv(){if(He===2){He=0;var t=Vs,n=ja,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=B.p;B.p=2;var c=Ht;Ht|=4;try{sv(t,n.alternate,n)}finally{Ht=c,B.p=l,F.T=s}}He=3}}function Cv(){if(He===4||He===3){He=0,Tl();var t=Vs,n=ja,s=ka,l=gv;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?He=5:(He=0,ja=Vs=null,Dv(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ns=null),Rl(s),n=n.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(is,n,void 0,(n.current.flags&128)===128)}catch(b){}if(l!==null){n=F.T,c=B.p,B.p=2,F.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var w=l[y];f(w.value,{componentStack:w.stack})}}finally{F.T=n,B.p=c}}(ka&3)!==0&&Ec(),pi(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===kd?go++:(go=0,kd=t):go=0,po(0)}}function Dv(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Kl(n)))}function Ec(t){return Rv(),Iv(),Cv(),xv()}function xv(){if(He!==5)return!1;var t=Vs,n=Pd;Pd=0;var s=Rl(ka),l=F.T,c=B.p;try{B.p=32>s?32:s,F.T=null,s=jd,jd=null;var f=Vs,y=ka;if(He=0,ja=Vs=null,ka=0,(Ht&6)!==0)throw Error(a(331));var w=Ht;if(Ht|=4,dv(f.current),cv(f,f.current,y,s),Ht=w,po(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(is,f)}catch(b){}return!0}finally{B.p=c,F.T=l,Dv(t,n)}}function Nv(t,n,s){n=In(s,n),n=_d(t.stateNode,n,2),t=Ts(t,n,2),t!==null&&(fe(t,2),pi(t))}function $t(t,n,s){if(t.tag===3)Nv(t,t,s);else for(;n!==null;){if(n.tag===3){Nv(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){t=In(s,t),s=U0(2),l=Ts(n,s,2),l!==null&&(L0(s,l,n,t),fe(l,2),pi(l));break}}n=n.return}}function Gd(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new L2;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Od=!0,c.add(s),t=B2.bind(null,t,n,s),n.then(t,t))}function B2(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,te===t&&(zt&s)===s&&(ce===4||ce===3&&(zt&62914560)===zt&&300>ln()-zd?(Ht&2)===0&&Ba(t,0):Ud|=s,Pa===zt&&(Pa=0)),pi(t)}function Vv(t,n){n===0&&(n=as()),t=Aa(t,n),t!==null&&(fe(t,n),pi(t))}function q2(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Vv(t,s)}function H2(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Vv(t,s)}function G2(t,n){return tr(t,n)}var Tc=null,Ha=null,Fd=!1,Ac=!1,Qd=!1,Lr=0;function pi(t){t!==Ha&&t.next===null&&(Ha===null?Tc=Ha=t:Ha=Ha.next=t),Ac=!0,Fd||(Fd=!0,Q2())}function po(t,n){if(!Qd&&Ac){Qd=!0;do for(var s=!1,l=Tc;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-tn(42|t)+1)-1,f&=c&~(y&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Lv(l,f))}else f=zt,f=An(l,l===te?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||rs(l,f)||(s=!0,Lv(l,f));l=l.next}while(s);Qd=!1}}function F2(){Mv()}function Mv(){Ac=Fd=!1;var t=0;Lr!==0&&(tR()&&(t=Lr),Lr=0);for(var n=ln(),s=null,l=Tc;l!==null;){var c=l.next,f=Ov(l,n);f===0?(l.next=null,s===null?Tc=c:s.next=c,c===null&&(Ha=s)):(s=l,(t!==0||(f&3)!==0)&&(Ac=!0)),l=c}po(t)}function Ov(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-tn(f),w=1<<y,b=c[y];b===-1?((w&s)===0||(w&l)!==0)&&(c[y]=aa(w,n)):b<=n&&(t.expiredLanes|=w),f&=~w}if(n=te,s=zt,s=An(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ra(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||rs(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&ra(l),Rl(s)){case 2:case 8:s=Ve;break;case 32:s=Ti;break;case 268435456:s=Al;break;default:s=Ti}return l=Uv.bind(null,t),s=tr(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&ra(l),t.callbackPriority=2,t.callbackNode=null,2}function Uv(t,n){if(He!==0&&He!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Ec()&&t.callbackNode!==s)return null;var l=zt;return l=An(t,t===te?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(yv(t,l,n),Ov(t,ln()),t.callbackNode!=null&&t.callbackNode===s?Uv.bind(null,t):null)}function Lv(t,n){if(Ec())return null;yv(t,n,!0)}function Q2(){nR(function(){(Ht&6)!==0?tr(Re,F2):Mv()})}function Yd(){return Lr===0&&(Lr=Sl()),Lr}function zv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bn(""+t)}function Pv(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Y2(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=zv((c[Be]||null).action),y=l.submitter;y&&(n=(n=y[Be]||null)?zv(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var w=new gr("action","action",null,l,c);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Lr!==0){var b=y?Pv(c,y):new FormData(c);dd(s,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(w.preventDefault(),b=y?Pv(c,y):new FormData(c),dd(s,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Kd=0;Kd<Vf.length;Kd++){var Xd=Vf[Kd],K2=Xd.toLowerCase(),X2=Xd[0].toUpperCase()+Xd.slice(1);Fn(K2,"on"+X2)}Fn(y_,"onAnimationEnd"),Fn(__,"onAnimationIteration"),Fn(v_,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(f2,"onTransitionRun"),Fn(d2,"onTransitionStart"),Fn(m2,"onTransitionCancel"),Fn(w_,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function jv(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var w=l[y],b=w.instance,P=w.currentTarget;if(w=w.listener,b!==f&&c.isPropagationStopped())break t;f=w,c.currentTarget=P;try{f(c)}catch(Q){cc(Q)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(w=l[y],b=w.instance,P=w.currentTarget,w=w.listener,b!==f&&c.isPropagationStopped())break t;f=w,c.currentTarget=P;try{f(c)}catch(Q){cc(Q)}c.currentTarget=null,f=b}}}}function Nt(t,n){var s=n[nr];s===void 0&&(s=n[nr]=new Set);var l=t+"__bubble";s.has(l)||(kv(n,t,2,!1),s.add(l))}function $d(t,n,s){var l=0;n&&(l|=4),kv(s,t,l,n)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Zd(t){if(!t[Sc]){t[Sc]=!0,bu.forEach(function(s){s!=="selectionchange"&&($2.has(s)||$d(s,!1,t),$d(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Sc]||(n[Sc]=!0,$d("selectionchange",!1,n))}}function kv(t,n,s,l){switch(cw(n)){case 2:var c=AR;break;case 8:c=SR;break;default:c=hm}s=c.bind(null,n,s,t),c=void 0,!Ci||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function Jd(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var w=l.stateNode.containerInfo;if(w===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;w!==null;){if(y=ri(w),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}w=w.parentNode}}l=l.return}fr(function(){var P=f,Q=Ml(s),Z=[];t:{var j=E_.get(t);if(j!==void 0){var k=gr,wt=t;switch(t){case"keypress":if(dr(s)===0)break t;case"keydown":case"keyup":k=va;break;case"focusin":wt="focus",k=pa;break;case"focusout":wt="blur",k=pa;break;case"beforeblur":case"afterblur":k=pa;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=_s;break;case y_:case __:case v_:k=Ul;break;case w_:k=m;break;case"scroll":case"scrollend":k=yr;break;case"wheel":k=E;break;case"copy":case"cut":case"paste":k=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Pl;break;case"toggle":case"beforetoggle":k=q}var gt=(n&4)!==0,Xt=!gt&&(t==="scroll"||t==="scrollend"),O=gt?j!==null?j+"Capture":null:j;gt=[];for(var V=P,L;V!==null;){var K=V;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||O===null||(K=ps(V,O),K!=null&&gt.push(_o(V,K,L))),Xt)break;V=V.return}0<gt.length&&(j=new k(j,wt,null,s,Q),Z.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",j&&s!==Vl&&(wt=s.relatedTarget||s.fromElement)&&(ri(wt)||wt[Si]))break t;if((k||j)&&(j=Q.window===Q?Q:(j=Q.ownerDocument)?j.defaultView||j.parentWindow:window,k?(wt=s.relatedTarget||s.toElement,k=P,wt=wt?ri(wt):null,wt!==null&&(Xt=h(wt),gt=wt.tag,wt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(wt=null)):(k=null,wt=P),k!==wt)){if(gt=wr,K="onMouseLeave",O="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Pl,K="onPointerLeave",O="onPointerEnter",V="pointer"),Xt=k==null?j:cs(k),L=wt==null?j:cs(wt),j=new gt(K,V+"leave",k,s,Q),j.target=Xt,j.relatedTarget=L,K=null,ri(Q)===P&&(gt=new gt(O,V+"enter",wt,s,Q),gt.target=L,gt.relatedTarget=Xt,K=gt),Xt=K,k&&wt)e:{for(gt=k,O=wt,V=0,L=gt;L;L=Ga(L))V++;for(L=0,K=O;K;K=Ga(K))L++;for(;0<V-L;)gt=Ga(gt),V--;for(;0<L-V;)O=Ga(O),L--;for(;V--;){if(gt===O||O!==null&&gt===O.alternate)break e;gt=Ga(gt),O=Ga(O)}gt=null}else gt=null;k!==null&&Bv(Z,j,k,gt,!1),wt!==null&&Xt!==null&&Bv(Z,Xt,wt,gt,!0)}}t:{if(j=P?cs(P):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var ut=a_;else if(s_(j))if(l_)ut=u2;else{ut=l2;var Dt=a2}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?P&&da(P.elementType)&&(ut=a_):ut=o2;if(ut&&(ut=ut(t,P))){r_(Z,ut,s,Q);break t}Dt&&Dt(t,j,P),t==="focusout"&&P&&j.type==="number"&&P.memoizedProps.value!=null&&Dl(j,"number",j.value)}switch(Dt=P?cs(P):window,t){case"focusin":(s_(Dt)||Dt.contentEditable==="true")&&(wa=Dt,Df=P,Hl=null);break;case"focusout":Hl=Df=wa=null;break;case"mousedown":xf=!0;break;case"contextmenu":case"mouseup":case"dragend":xf=!1,g_(Z,s,Q);break;case"selectionchange":if(h2)break;case"keydown":case"keyup":g_(Z,s,Q)}var ft;if(It)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Gn?qn(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(ge&&s.locale!=="ko"&&(Gn||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Gn&&(ft=Nu()):(Rn=Q,Wt="value"in Rn?Rn.value:Rn.textContent,Gn=!0)),Dt=bc(P,pt),0<Dt.length&&(pt=new zl(pt,t,null,s,Q),Z.push({event:pt,listeners:Dt}),ft?pt.data=ft:(ft=Hn(s),ft!==null&&(pt.data=ft)))),(ft=qt?jl(t,s):i2(t,s))&&(pt=bc(P,"onBeforeInput"),0<pt.length&&(Dt=new zl("onBeforeInput","beforeinput",null,s,Q),Z.push({event:Dt,listeners:pt}),Dt.data=ft)),Y2(Z,t,P,s,Q)}jv(Z,n)})}function _o(t,n,s){return{instance:t,listener:n,currentTarget:s}}function bc(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ps(t,s),c!=null&&l.unshift(_o(t,c,f)),c=ps(t,n),c!=null&&l.push(_o(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ga(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bv(t,n,s,l,c){for(var f=n._reactName,y=[];s!==null&&s!==l;){var w=s,b=w.alternate,P=w.stateNode;if(w=w.tag,b!==null&&b===l)break;w!==5&&w!==26&&w!==27||P===null||(b=P,c?(P=ps(s,f),P!=null&&y.unshift(_o(s,P,b))):c||(P=ps(s,f),P!=null&&y.push(_o(s,P,b)))),s=s.return}y.length!==0&&t.push({event:n,listeners:y})}var Z2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function qv(t){return(typeof t=="string"?t:""+t).replace(Z2,`
`).replace(J2,"")}function Hv(t,n){return n=qv(n),qv(t)===n}function Rc(){}function Kt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,s,l);break;case"style":Nl(t,l,f);break;case"data":if(n!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bn(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Bn(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Bn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),ar(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ar(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Cu.get(s)||s,ar(t,s,l))}}function Wd(t,n,s,l,c,f){switch(s){case"style":Nl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sr.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):ar(t,s,l)}}}function Ge(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var y=s[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,f,y,s,null)}}c&&Kt(t,n,"srcSet",s.srcSet,s,null),l&&Kt(t,n,"src",s.src,s,null);return;case"input":Nt("invalid",t);var w=f=y=c=null,b=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":y=Q;break;case"checked":b=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Kt(t,n,l,Q,s,null)}}Cl(t,f,w,b,P,y,c,!1),ds(t);return;case"select":Nt("invalid",t),l=y=f=null;for(c in s)if(s.hasOwnProperty(c)&&(w=s[c],w!=null))switch(c){case"value":f=w;break;case"defaultValue":y=w;break;case"multiple":l=w;default:Kt(t,n,c,w,s,null)}n=f,s=y,t.multiple=!!l,n!=null?ms(t,!!l,n,!1):s!=null&&ms(t,!!l,s,!0);return;case"textarea":Nt("invalid",t),f=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(w=s[y],w!=null))switch(y){case"value":l=w;break;case"defaultValue":c=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Kt(t,n,y,w,s,null)}Iu(t,l,c,f),ds(t);return;case"option":for(b in s)if(s.hasOwnProperty(b)&&(l=s[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,b,l,s,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)Nt(yo[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(t,n,P,l,s,null)}return;default:if(da(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&Wd(t,n,Q,l,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(l=s[w],l!=null&&Kt(t,n,w,l,s,null))}function W2(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,w=null,b=null,P=null,Q=null;for(k in s){var Z=s[k];if(s.hasOwnProperty(k)&&Z!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Z;default:l.hasOwnProperty(k)||Kt(t,n,k,null,l,Z)}}for(var j in l){var k=l[j];if(Z=s[j],l.hasOwnProperty(j)&&(k!=null||Z!=null))switch(j){case"type":f=k;break;case"name":c=k;break;case"checked":P=k;break;case"defaultChecked":Q=k;break;case"value":y=k;break;case"defaultValue":w=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Z&&Kt(t,n,j,k,l,Z)}}Il(t,y,w,b,P,Q,f,c);return;case"select":k=y=w=j=null;for(f in s)if(b=s[f],s.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=s[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":j=f;break;case"defaultValue":w=f;break;case"multiple":y=f;default:f!==b&&Kt(t,n,c,f,l,b)}n=w,s=y,l=k,j!=null?ms(t,!!s,j,!1):!!l!=!!s&&(n!=null?ms(t,!!s,n,!0):ms(t,!!s,s?[]:"",!1));return;case"textarea":k=j=null;for(w in s)if(c=s[w],s.hasOwnProperty(w)&&c!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Kt(t,n,w,null,l,c)}for(y in l)if(c=l[y],f=s[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":j=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Kt(t,n,y,c,l,f)}Ru(t,j,k);return;case"option":for(var wt in s)if(j=s[wt],s.hasOwnProperty(wt)&&j!=null&&!l.hasOwnProperty(wt))switch(wt){case"selected":t.selected=!1;break;default:Kt(t,n,wt,null,l,j)}for(b in l)if(j=l[b],k=s[b],l.hasOwnProperty(b)&&j!==k&&(j!=null||k!=null))switch(b){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(t,n,b,j,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&Kt(t,n,gt,null,l,j);for(P in l)if(j=l[P],k=s[P],l.hasOwnProperty(P)&&j!==k&&(j!=null||k!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Kt(t,n,P,j,l,k)}return;default:if(da(n)){for(var Xt in s)j=s[Xt],s.hasOwnProperty(Xt)&&j!==void 0&&!l.hasOwnProperty(Xt)&&Wd(t,n,Xt,void 0,l,j);for(Q in l)j=l[Q],k=s[Q],!l.hasOwnProperty(Q)||j===k||j===void 0&&k===void 0||Wd(t,n,Q,j,l,k);return}}for(var O in s)j=s[O],s.hasOwnProperty(O)&&j!=null&&!l.hasOwnProperty(O)&&Kt(t,n,O,null,l,j);for(Z in l)j=l[Z],k=s[Z],!l.hasOwnProperty(Z)||j===k||j==null&&k==null||Kt(t,n,Z,j,l,k)}var tm=null,em=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function Gv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function nm(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var im=null;function tR(){var t=window.event;return t&&t.type==="popstate"?t===im?!1:(im=t,!0):(im=null,!1)}var Qv=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,nR=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv!="undefined"?function(t){return Yv.resolve(null).then(t).catch(iR)}:Qv;function iR(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function Kv(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var y=t.ownerDocument;if(s&1&&vo(y.documentElement),s&2&&vo(y.body),s&4)for(s=y.head,vo(s),y=s.firstChild;y;){var w=y.nextSibling,b=y.nodeName;y[us]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=w}}if(c===0){t.removeChild(f),Io(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Io(n)}function sm(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":sm(s),oa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function sR(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[us])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Yn(t.nextSibling),t===null)break}return null}function rR(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Yn(t.nextSibling),t===null))return null;return t}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function aR(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Yn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var am=null;function Xv(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function $v(t,n,s){switch(n=Ic(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);oa(t)}var Mn=new Map,Zv=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=B.d;B.d={f:lR,r:oR,D:uR,C:cR,L:hR,m:fR,X:mR,S:dR,M:gR};function lR(){var t=qi.f(),n=vc();return t||n}function oR(t){var n=ai(t);n!==null&&n.tag===5&&n.type==="form"?y0(n):qi.r(t)}var Fa=typeof document=="undefined"?null:document;function Jv(t,n,s){var l=Fa;if(l&&typeof n=="string"&&n){var c=Me(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Zv.has(c)||(Zv.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Ge(n,"link",t),me(n),l.head.appendChild(n)))}}function uR(t){qi.D(t),Jv("dns-prefetch",t,null)}function cR(t,n){qi.C(t,n),Jv("preconnect",t,n)}function hR(t,n,s){qi.L(t,n,s);var l=Fa;if(l&&t&&n){var c='link[rel="preload"][as="'+Me(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Me(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Me(s.imageSizes)+'"]')):c+='[href="'+Me(t)+'"]';var f=c;switch(n){case"style":f=Qa(t);break;case"script":f=Ya(t)}Mn.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),Mn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(wo(f))||n==="script"&&l.querySelector(Eo(f))||(n=l.createElement("link"),Ge(n,"link",t),me(n),l.head.appendChild(n)))}}function fR(t,n){qi.m(t,n);var s=Fa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Me(l)+'"][href="'+Me(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Mn.has(f)&&(t=T({rel:"modulepreload",href:t},n),Mn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Eo(f)))return}l=s.createElement("link"),Ge(l,"link",t),me(l),s.head.appendChild(l)}}}function dR(t,n,s){qi.S(t,n,s);var l=Fa;if(l&&t){var c=hs(l).hoistableStyles,f=Qa(t);n=n||"default";var y=c.get(f);if(!y){var w={loading:0,preload:null};if(y=l.querySelector(wo(f)))w.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=Mn.get(f))&&lm(t,s);var b=y=l.createElement("link");me(b),Ge(b,"link",t),b._p=new Promise(function(P,Q){b.onload=P,b.onerror=Q}),b.addEventListener("load",function(){w.loading|=1}),b.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Dc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:w},c.set(f,y)}}}function mR(t,n){qi.X(t,n);var s=Fa;if(s&&t){var l=hs(s).hoistableScripts,c=Ya(t),f=l.get(c);f||(f=s.querySelector(Eo(c)),f||(t=T({src:t,async:!0},n),(n=Mn.get(c))&&om(t,n),f=s.createElement("script"),me(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function gR(t,n){qi.M(t,n);var s=Fa;if(s&&t){var l=hs(s).hoistableScripts,c=Ya(t),f=l.get(c);f||(f=s.querySelector(Eo(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=Mn.get(c))&&om(t,n),f=s.createElement("script"),me(f),Ge(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Wv(t,n,s,l){var c=(c=vt.current)?Cc(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Qa(s.href),s=hs(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Qa(s.href);var f=hs(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(wo(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Mn.set(t,s),f||pR(c,t,s,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=hs(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Qa(t){return'href="'+Me(t)+'"'}function wo(t){return'link[rel="stylesheet"]['+t+"]"}function tw(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function pR(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),me(n),t.head.appendChild(n))}function Ya(t){return'[src="'+Me(t)+'"]'}function Eo(t){return"script[async]"+t}function ew(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Me(s.href)+'"]');if(l)return n.instance=l,me(l),l;var c=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),me(l),Ge(l,"style",c),Dc(l,s.precedence,t),n.instance=l;case"stylesheet":c=Qa(s.href);var f=t.querySelector(wo(c));if(f)return n.state.loading|=4,n.instance=f,me(f),f;l=tw(s),(c=Mn.get(c))&&lm(l,c),f=(t.ownerDocument||t).createElement("link"),me(f);var y=f;return y._p=new Promise(function(w,b){y.onload=w,y.onerror=b}),Ge(f,"link",l),n.state.loading|=4,Dc(f,s.precedence,t),n.instance=f;case"script":return f=Ya(s.src),(c=t.querySelector(Eo(f)))?(n.instance=c,me(c),c):(l=s,(c=Mn.get(f))&&(l=T({},s),om(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),me(c),Ge(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Dc(l,s.precedence,t));return n.instance}function Dc(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var w=l[y];if(w.dataset.precedence===n)f=w;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function lm(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function om(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var xc=null;function nw(t,n,s){if(xc===null){var l=new Map,c=xc=new Map;c.set(s,l)}else c=xc,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[us]||f[de]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var w=l.get(y);w?w.push(f):l.set(y,[f])}}return l}function iw(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function yR(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sw(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var To=null;function _R(){}function vR(t,n,s){if(To===null)throw Error(a(475));var l=To;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Qa(s.href),f=t.querySelector(wo(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,me(f);return}f=t.ownerDocument||t,s=tw(s),(c=Mn.get(c))&&lm(s,c),f=f.createElement("link"),me(f);var y=f;y._p=new Promise(function(w,b){y.onload=w,y.onerror=b}),Ge(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Nc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function wR(){if(To===null)throw Error(a(475));var t=To;return t.stylesheets&&t.count===0&&um(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&um(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function um(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,n.forEach(ER,t),Vc=null,Nc.call(t))}function ER(t,n){if(!(n.state.loading&4)){var s=Vc.get(t);if(s)var l=s.get(null);else{s=new Map,Vc.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=s.get(y)||l,f===l&&s.set(null,c),s.set(y,c),this.count++,l=Nc.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ao={$$typeof:ct,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function TR(t,n,s,l,c,f,y,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function rw(t,n,s,l,c,f,y,w,b,P,Q,Z){return t=new TR(t,n,s,y,w,b,P,Z),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),t.current=f,f.stateNode=t,n=Gf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Kf(f),t}function aw(t){return t?(t=Sa,t):Sa}function lw(t,n,s,l,c,f){c=aw(c),l.context===null?l.context=c:l.pendingContext=c,l=Es(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ts(t,l,n),s!==null&&(vn(s,t,n),Jl(s,t,n))}function ow(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function cm(t,n){ow(t,n),(t=t.alternate)&&ow(t,n)}function uw(t){if(t.tag===13){var n=Aa(t,67108864);n!==null&&vn(n,t,67108864),cm(t,67108864)}}var Mc=!0;function AR(t,n,s,l){var c=F.T;F.T=null;var f=B.p;try{B.p=2,hm(t,n,s,l)}finally{B.p=f,F.T=c}}function SR(t,n,s,l){var c=F.T;F.T=null;var f=B.p;try{B.p=8,hm(t,n,s,l)}finally{B.p=f,F.T=c}}function hm(t,n,s,l){if(Mc){var c=fm(l);if(c===null)Jd(t,n,l,Oc,s),hw(t,l);else if(RR(c,t,n,s,l))l.stopPropagation();else if(hw(t,l),n&4&&-1<bR.indexOf(t)){for(;c!==null;){var f=ai(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Pn(f.pendingLanes);if(y!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var b=1<<31-tn(y);w.entanglements[1]|=b,y&=~b}pi(f),(Ht&6)===0&&(yc=ln()+500,po(0))}}break;case 13:w=Aa(f,2),w!==null&&vn(w,f,2),vc(),cm(f,2)}if(f=fm(l),f===null&&Jd(t,n,l,Oc,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else Jd(t,n,l,null,s)}}function fm(t){return t=Ml(t),dm(t)}var Oc=null;function dm(t){if(Oc=null,t=ri(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Oc=t,null}function cw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eu()){case Re:return 2;case Ve:return 8;case Ti:case _f:return 32;case Al:return 268435456;default:return 32}default:return 32}}var mm=!1,Us=null,Ls=null,zs=null,So=new Map,bo=new Map,Ps=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(t,n){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function Ro(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ai(n),n!==null&&uw(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function RR(t,n,s,l,c){switch(n){case"focusin":return Us=Ro(Us,t,n,s,l,c),!0;case"dragenter":return Ls=Ro(Ls,t,n,s,l,c),!0;case"mouseover":return zs=Ro(zs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return So.set(f,Ro(So.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,bo.set(f,Ro(bo.get(f)||null,t,n,s,l,c)),!0}return!1}function fw(t){var n=ri(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Ef(t.priority,function(){if(s.tag===13){var l=_n();l=bl(l);var c=Aa(s,l);c!==null&&vn(c,s,l),cm(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=fm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Vl=l,s.target.dispatchEvent(l),Vl=null}else return n=ai(s),n!==null&&uw(n),t.blockedOn=s,!1;n.shift()}return!0}function dw(t,n,s){Uc(t)&&s.delete(n)}function IR(){mm=!1,Us!==null&&Uc(Us)&&(Us=null),Ls!==null&&Uc(Ls)&&(Ls=null),zs!==null&&Uc(zs)&&(zs=null),So.forEach(dw),bo.forEach(dw)}function Lc(t,n){t.blockedOn===n&&(t.blockedOn=null,mm||(mm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IR)))}var zc=null;function mw(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(dm(l||s)===null)continue;break}var f=ai(s);f!==null&&(t.splice(n,3),n-=3,dd(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Io(t){function n(b){return Lc(b,t)}Us!==null&&Lc(Us,t),Ls!==null&&Lc(Ls,t),zs!==null&&Lc(zs,t),So.forEach(n),bo.forEach(n);for(var s=0;s<Ps.length;s++){var l=Ps[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)fw(s),s.blockedOn===null&&Ps.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],y=c[Be]||null;if(typeof f=="function")y||mw(s);else if(y){var w=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[Be]||null)w=y.formAction;else if(dm(c)!==null)continue}else w=y.action;typeof w=="function"?s[l+1]=w:(s.splice(l,3),l-=3),mw(s)}}}function gm(t){this._internalRoot=t}Pc.prototype.render=gm.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=_n();lw(s,l,t,n,null,null)},Pc.prototype.unmount=gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;lw(t.current,2,null,t,null,null),vc(),n[Si]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ai();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,t),s===0&&fw(t)}};var gw=e.version;if(gw!=="19.1.1")throw Error(a(527,gw,"19.1.1"));B.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var CR={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{is=jc.inject(CR),Xe=jc}catch(t){}}return Ka.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=N0,f=V0,y=M0,w=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks)),n=rw(t,1,!1,null,null,s,l,c,f,y,w,null),t[Si]=n.current,Zd(t),new gm(n)},Ka.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=N0,y=V0,w=M0,b=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(b=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),n=rw(t,1,!0,n,s!=null?s:null,l,c,f,y,w,b,P),n.context=aw(null),s=n.current,l=_n(),l=bl(l),c=Es(l),c.callback=null,Ts(s,c,l),s=l,n.current.lanes=s,fe(n,s),pi(n),t[Si]=n.current,Zd(t),new Pc(n)},Ka.version="19.1.1",Ka}var Sm;function Sw(){if(Sm)return qc.exports;Sm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qc.exports=Aw(),qc.exports}var bw=Sw();const Rw=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Iw=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,_=v?r[o+2]:0,T=h>>2,A=(h&3)<<4|g>>4;let N=(g&15)<<2|_>>6,G=_&63;v||(G=64,d||(N=64)),a.push(i[T],i[A],i[N],i[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(bm(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Iw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||_==null||A==null)throw new Cw;const N=h<<2|g>>4;if(a.push(N),_!==64){const G=g<<4&240|_>>2;if(a.push(G),A!==64){const tt=_<<6&192|A;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Cw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dw=function(r){const e=bm(r);return Rm.encodeByteArray(e,!0)},Vo=function(r){return Dw(r).replace(/\./g,"")},xw=function(r){try{return Rm.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>Nw().__FIREBASE_DEFAULTS__,Mw=()=>{if(typeof process=="undefined"||typeof process.env=="undefined")return;const r=process.env.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ow=()=>{if(typeof document=="undefined")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(i){return}const e=r&&xw(r[1]);return e&&JSON.parse(e)},Qc=()=>{try{return Rw()||Vw()||Mw()||Ow()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Uw=r=>{var e,i;return(i=(e=Qc())==null?void 0:e.emulatorHosts)==null?void 0:i[r]},Lw=r=>{const e=Uw(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Im=()=>{var r;return(r=Qc())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function Pw(r){return Y(this,null,function*(){return(yield fetch(r,{credentials:"include"})).ok})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Ae({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vo(JSON.stringify(i)),Vo(JSON.stringify(d)),""].join(".")}const Xa={};function kw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Xa))Xa[e]?r.emulator.push(e):r.prod.push(e);return r}function Bw(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Cm=!1;function qw(r,e){if(typeof window=="undefined"||typeof document=="undefined"||!Yc(window.location.host)||Xa[r]===e||Xa[r]||Cm)return;Xa[r]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=kw().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Cm=!0,d()},N}function T(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=Bw(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),rt=i("learnmore"),W=document.getElementById(rt)||document.createElement("a"),bt=i("preprendIcon"),Tt=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ct=N.element;g(ct),T(W,rt);const ht=_();v(Tt,bt),ct.append(Tt,tt,W,ht),document.body.appendChild(ct)}h?(tt.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gw(){var e;const r=(e=Qc())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(i){return!1}}function Fw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qw(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dm(){try{return typeof indexedDB=="object"}catch(r){return!1}}function xm(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}function Yw(){return!(typeof navigator=="undefined"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="FirebaseError";class Gi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Kw,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mo.prototype.create)}}class Mo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?Xw(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Gi(o,g,a)}}function Xw(r,e){return r.replace($w,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const $w=/\{\$([^}]+)}/g;function $a(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(Nm(h)&&Nm(d)){if(!$a(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Nm(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=1e3,Jw=2,Ww=14400*1e3,tE=.5;function Vm(r,e=Zw,i=Jw){const a=e*Math.pow(i,r),o=Math.round(tE*a*(Math.random()-.5)*2);return Math.min(Ww,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r){return r&&r._delegate?r._delegate:r}class yi{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new zw;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch(o){}}return this.instancesDeferred.get(i).promise}getImmediate(e){var o;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(o=e==null?void 0:e.optional)!=null?o:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(h){if(a)return null;throw h}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iE(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch(i){}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch(h){}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return Y(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var d;const a=this.normalizeInstanceIdentifier(i),o=(d=this.onInitCallbacks.get(a))!=null?d:new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch(h){}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nE(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch(o){}return a||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nE(r){return r===ks?void 0:r}function iE(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new eE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const rE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},aE=Ut.INFO,lE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},oE=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=lE[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kc{constructor(e){this.name=e,this._logLevel=aE,this._logHandler=oE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const uE=(r,e)=>e.some(i=>r instanceof i);let Mm,Om;function cE(){return Mm||(Mm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hE(){return Om||(Om=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Um=new WeakMap,Xc=new WeakMap,Lm=new WeakMap,$c=new WeakMap,Zc=new WeakMap;function fE(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Fi(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Um.set(i,r)}).catch(()=>{}),Zc.set(e,r),e}function dE(r){if(Xc.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Xc.set(r,e)}let Jc={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Xc.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Lm.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fi(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mE(r){Jc=r(Jc)}function gE(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Wc(this),e,...i);return Lm.set(a,e.sort?e.sort():[e]),Fi(a)}:hE().includes(r)?function(...e){return r.apply(Wc(this),e),Fi(Um.get(this))}:function(...e){return Fi(r.apply(Wc(this),e))}}function pE(r){return typeof r=="function"?gE(r):(r instanceof IDBTransaction&&dE(r),uE(r,cE())?new Proxy(r,Jc):r)}function Fi(r){if(r instanceof IDBRequest)return fE(r);if($c.has(r))return $c.get(r);const e=pE(r);return e!==r&&($c.set(r,e),Zc.set(e,r)),e}const Wc=r=>Zc.get(r);function zm(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Fi(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Fi(d.result),v.oldVersion,v.newVersion,Fi(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const yE=["get","getKey","getAll","getAllKeys","count"],_E=["put","add","delete","clear"],th=new Map;function Pm(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(th.get(e))return th.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=_E.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||yE.includes(i)))return;const h=function(d,...g){return Y(this,null,function*(){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(yield Promise.all([_[i](...g),o&&v.done]))[0]})};return th.set(e,h),h}mE(r=>Hi(Ae({},r),{get:(e,i,a)=>Pm(e,i)||r.get(e,i,a),has:(e,i)=>!!Pm(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(wE(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function wE(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const eh="@firebase/app",jm="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new Kc("@firebase/app"),EE="@firebase/app-compat",TE="@firebase/analytics-compat",AE="@firebase/analytics",SE="@firebase/app-check-compat",bE="@firebase/app-check",RE="@firebase/auth",IE="@firebase/auth-compat",CE="@firebase/database",DE="@firebase/data-connect",xE="@firebase/database-compat",NE="@firebase/functions",VE="@firebase/functions-compat",ME="@firebase/installations",OE="@firebase/installations-compat",UE="@firebase/messaging",LE="@firebase/messaging-compat",zE="@firebase/performance",PE="@firebase/performance-compat",jE="@firebase/remote-config",kE="@firebase/remote-config-compat",BE="@firebase/storage",qE="@firebase/storage-compat",HE="@firebase/firestore",GE="@firebase/ai",FE="@firebase/firestore-compat",QE="firebase",YE="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="[DEFAULT]",KE={[eh]:"fire-core",[EE]:"fire-core-compat",[AE]:"fire-analytics",[TE]:"fire-analytics-compat",[bE]:"fire-app-check",[SE]:"fire-app-check-compat",[RE]:"fire-auth",[IE]:"fire-auth-compat",[CE]:"fire-rtdb",[DE]:"fire-data-connect",[xE]:"fire-rtdb-compat",[NE]:"fire-fn",[VE]:"fire-fn-compat",[ME]:"fire-iid",[OE]:"fire-iid-compat",[UE]:"fire-fcm",[LE]:"fire-fcm-compat",[zE]:"fire-perf",[PE]:"fire-perf-compat",[jE]:"fire-rc",[kE]:"fire-rc-compat",[BE]:"fire-gcs",[qE]:"fire-gcs-compat",[HE]:"fire-fst",[FE]:"fire-fst-compat",[GE]:"fire-vertex","fire-js":"fire-js",[QE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=new Map,XE=new Map,ih=new Map;function km(r,e){try{r.container.addComponent(e)}catch(i){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Qi(r){const e=r.name;if(ih.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;ih.set(e,r);for(const i of Oo.values())km(i,r);for(const i of XE.values())km(i,r);return!0}function Za(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function $E(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Mo("app","Firebase",ZE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,i,a){this._isDeleted=!1,this._options=Ae({},e),this._config=Ae({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=YE;function Bm(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Ae({name:nh,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(i||(i=Im()),!i)throw Yi.create("no-options");const h=Oo.get(o);if(h){if($a(i,h.options)&&$a(a,h.config))return h;throw Yi.create("duplicate-app",{appName:o})}const d=new sE(o);for(const v of ih.values())d.addComponent(v);const g=new JE(i,a,d);return Oo.set(o,g),g}function qm(r=nh){const e=Oo.get(r);if(!e&&r===nh&&Im())return Bm();if(!e)throw Yi.create("no-app",{appName:r});return e}function Xn(r,e,i){var d;let a=(d=KE[r])!=null?d:r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const g=[`Unable to register library "${a}" with version "${e}":`];o&&g.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&g.push("and"),h&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(g.join(" "));return}Qi(new yi(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebase-heartbeat-database",eT=1,Ja="firebase-heartbeat-store";let sh=null;function Hm(){return sh||(sh=zm(tT,eT,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ja)}catch(i){console.warn(i)}}}}).catch(r=>{throw Yi.create("idb-open",{originalErrorMessage:r.message})})),sh}function nT(r){return Y(this,null,function*(){try{const i=(yield Hm()).transaction(Ja),a=yield i.objectStore(Ja).get(Fm(r));return yield i.done,a}catch(e){if(e instanceof Gi)_i.warn(e.message);else{const i=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(i.message)}}})}function Gm(r,e){return Y(this,null,function*(){try{const a=(yield Hm()).transaction(Ja,"readwrite");yield a.objectStore(Ja).put(e,Fm(r)),yield a.done}catch(i){if(i instanceof Gi)_i.warn(i.message);else{const a=Yi.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});_i.warn(a.message)}}})}function Fm(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1024,sT=30;class rT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}triggerHeartbeat(){return Y(this,null,function*(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Qm();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>sT){const d=oT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){_i.warn(a)}})}getHeartbeatsHeader(){return Y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qm(),{heartbeatsToSend:a,unsentEntries:o}=aT(this._heartbeatsCache.heartbeats),h=Vo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return _i.warn(i),""}})}}function Qm(){return new Date().toISOString().substring(0,10)}function aT(r,e=iT){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Ym(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Ym(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class lT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Y(this,null,function*(){return Dm()?xm().then(()=>!0).catch(()=>!1):!1})}read(){return Y(this,null,function*(){if(yield this._canUseIndexedDBPromise){const i=yield nT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return Y(this,null,function*(){var a;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return Gm(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!=null?a:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return Y(this,null,function*(){var a;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return Gm(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!=null?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}}function Ym(r){return Vo(JSON.stringify({version:2,heartbeats:r})).length}function oT(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(r){Qi(new yi("platform-logger",e=>new vE(e),"PRIVATE")),Qi(new yi("heartbeat",e=>new rT(e),"PRIVATE")),Xn(eh,jm,r),Xn(eh,jm,"esm2020"),Xn("fire-js","")}uT("");var Km=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,Xm;(function(){var r;/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,x,U){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return S.prototype[x].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,I){I||(I=0);const M=Array(16);if(typeof S=="string")for(var x=0;x<16;++x)M[x]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(x=0;x<16;++x)M[x]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],x=C.g[2];let U=C.g[3],R;R=S+(U^I&(x^U))+M[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+M[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+M[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+M[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(U^I&(x^U))+M[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+M[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+M[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+M[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(U^I&(x^U))+M[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+M[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+M[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+M[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(U^I&(x^U))+M[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(x^S&(I^x))+M[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=x+(I^U&(S^I))+M[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(S^x&(U^S))+M[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=S+(x^U&(I^x))+M[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+M[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+M[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+M[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(I^x))+M[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+M[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+M[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+M[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(I^x))+M[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+M[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+M[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+M[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(x^U&(I^x))+M[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(S^I))+M[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=x+(S^I&(U^S))+M[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(x^U))+M[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=S+(I^x^U)+M[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+M[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+M[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+M[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(I^x^U)+M[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+M[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+M[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+M[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(I^x^U)+M[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+M[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+M[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+M[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(I^x^U)+M[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^x)+M[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=x+(U^S^I)+M[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^S)+M[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=S+(x^(I|~U))+M[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+M[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+M[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+M[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=S+(x^(I|~U))+M[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+M[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+M[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+M[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=S+(x^(I|~U))+M[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+M[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+M[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+M[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=S+(x^(I|~U))+M[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~x))+M[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=x+(S^(U|~I))+M[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~S))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+x&4294967295,C.g[3]=C.g[3]+U&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,M=this.C;let x=this.h,U=0;for(;U<S;){if(x==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<S;)if(M[x++]=C.charCodeAt(U++),x==this.blockSize){o(this,M),x=0;break}}else for(;U<S;)if(M[x++]=C[U++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[S++]=this.g[I]>>>M&255;return C};function h(C,S){var I=g;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let M=!0;for(let x=C.length-1;x>=0;x--){const U=C[x]|0;M&&U==S||(I[x]=U,M=!1)}this.g=I}var g={};function v(C){return-128<=C&&C<128?h(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(_(-C));const S=[];let I=1;for(let M=0;C>=I;M++)S[M]=C/I|0,I*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return W(T(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let M=A;for(let U=0;U<C.length;U+=8){var x=Math.min(8,C.length-U);const R=parseInt(C.substring(U,U+x),S);x<8?(x=_(Math.pow(S,x)),M=M.j(x).add(_(R))):(M=M.j(I),M=M.add(_(R)))}return M}var A=v(0),N=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(rt(this))return-W(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(tt(this))return"0";if(rt(this))return"-"+W(this).toString(C);const S=_(Math.pow(C,6));var I=this;let M="";for(;;){const x=ht(I,S).g;I=bt(I,x.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=x,tt(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function tt(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function rt(C){return C.h==-1}r.l=function(C){return C=bt(this,C),rt(C)?-1:tt(C)?0:1};function W(C){const S=C.g.length,I=[];for(let M=0;M<S;M++)I[M]=~C.g[M];return new d(I,~C.h).add(N)}r.abs=function(){return rt(this)?W(this):this},r.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let x=0;x<=S;x++){let U=M+(this.i(x)&65535)+(C.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(C.i(x)>>>16);M=R>>>16,U&=65535,R&=65535,I[x]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function bt(C,S){return C.add(W(S))}r.j=function(C){if(tt(this)||tt(C))return A;if(rt(this))return rt(C)?W(this).j(W(C)):W(W(this).j(C));if(rt(C))return W(this.j(W(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<C.g.length;x++){const U=this.i(M)>>>16,R=this.i(M)&65535,ne=C.i(x)>>>16,Jt=C.i(x)&65535;I[2*M+2*x]+=R*Jt,Tt(I,2*M+2*x),I[2*M+2*x+1]+=U*Jt,Tt(I,2*M+2*x+1),I[2*M+2*x+1]+=R*ne,Tt(I,2*M+2*x+1),I[2*M+2*x+2]+=U*ne,Tt(I,2*M+2*x+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function Tt(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ct(C,S){this.g=C,this.h=S}function ht(C,S){if(tt(S))throw Error("division by zero");if(tt(C))return new ct(A,A);if(rt(C))return S=ht(W(C),S),new ct(W(S.g),W(S.h));if(rt(S))return S=ht(C,W(S)),new ct(W(S.g),S.h);if(C.g.length>30){if(rt(C)||rt(S))throw Error("slowDivide_ only works with positive integers.");for(var I=N,M=S;M.l(C)<=0;)I=nt(I),M=nt(M);var x=_t(I,1),U=_t(M,1);for(M=_t(M,2),I=_t(I,2);!tt(M);){var R=U.add(M);R.l(C)<=0&&(x=x.add(I),U=R),M=_t(M,1),I=_t(I,1)}return S=bt(C,x.j(S)),new ct(x,S)}for(x=A;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=_(I),R=U.j(S);rt(R)||R.l(C)>0;)I-=M,U=_(I),R=U.j(S);tt(U)&&(U=N),x=x.add(U),C=bt(C,R)}return new ct(x,C)}r.B=function(C){return ht(this,C).h},r.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<S;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function nt(C){const S=C.g.length+1,I=[];for(let M=0;M<S;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function _t(C,S){const I=S>>5;S%=32;const M=C.g.length-I,x=[];for(let U=0;U<M;U++)x[U]=S>0?C.i(U+I)>>>S|C.i(U+I+1)<<32-S:C.i(U+I);return new d(x,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Xm=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Ki=d}).apply(typeof Km!="undefined"?Km:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var Uo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $m,Wa,Zm,Lo,rh,Jm,Wm,tg;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uo=="object"&&Uo];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var E=0;E<u.length-1;E++){var z=u[E];if(!(z in p))break t;p=p[z]}u=u[u.length-1],E=p[u],m=m(E),m!=E&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var p=[],E;for(E in m)Object.prototype.hasOwnProperty.call(m,E)&&p.push([E,m[E]]);return p}});/** @license

	 Copyright The Closure Library Authors.
	 SPDX-License-Identifier: Apache-2.0
	*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,p){return u.call.apply(u.bind,arguments)}function _(u,m,p){return _=v,_.apply(null,arguments)}function T(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function A(u,m){function p(){}p.prototype=m.prototype,u.Z=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Ob=function(E,z,q){for(var it=Array(arguments.length-2),It=2;It<arguments.length;It++)it[It-2]=arguments[It];return m.prototype[z].apply(E,it)}}var N=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const p=Array(m);for(let E=0;E<m;E++)p[E]=u[E];return p}return[]}function tt(u,m){for(let E=1;E<arguments.length;E++){const z=arguments[E];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=u.length||0;const q=z.length||0;u.length=p+q;for(let it=0;it<q;it++)u[p+it]=z[it]}else u.push(z)}}class rt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function bt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,p){const E=ct.get();E.set(m,p),this.h?this.h.next=E:this.g=E,this.h=E}}var ct=new rt(()=>new ht,u=>u.reset());class ht{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,_t=!1,C=new Tt,S=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(I)}};function I(){for(var u;u=bt();){try{u.h.call(u.g)}catch(p){W(p)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}_t=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch(p){}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(ne,x),ne.prototype.init=function(u,m){const p=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Jt="closure_listenable_"+(Math.random()*1e6|0),F=0;function B(u,m,p,E,z){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!E,this.ha=z,this.key=++F,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Et(u,m,p){for(const E in u)m.call(p,u[E],E,u)}function D(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function $(u){const m={};for(const p in u)m[p]=u[p];return m}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let p,E;for(let z=1;z<arguments.length;z++){E=arguments[z];for(p in E)u[p]=E[p];for(let q=0;q<at.length;q++)p=at[q],Object.prototype.hasOwnProperty.call(E,p)&&(u[p]=E[p])}}function dt(u){this.src=u,this.g={},this.h=0}dt.prototype.add=function(u,m,p,E,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=vt(u,m,E,z);return it>-1?(m=u[it],p||(m.fa=!1)):(m=new B(m,this.src,q,!!E,z),m.fa=p,u.push(m)),m};function Ot(u,m){const p=m.type;if(p in u.g){var E=u.g[p],z=Array.prototype.indexOf.call(E,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(E,z,1),q&&(et(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function vt(u,m,p,E){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==E)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ft={};function zn(u,m,p,E,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)zn(u,m[q],p,E,z);return null}return p=Eu(p),u&&u[Jt]?u.J(m,p,g(E)?!!E.capture:!1,z):El(u,m,p,!1,E,z)}function El(u,m,p,E,z,q){if(!m)throw Error("Invalid event type");const it=g(z)?!!z.capture:!!z;let It=Tl(u);if(It||(u[ke]=It=new dt(u)),p=It.add(m,p,E,it,q),p.proxy)return p;if(E=ia(),p.proxy=E,E.src=u,E.listener=p,u.addEventListener)U||(z=it),z===void 0&&(z=!1),u.addEventListener(m.toString(),E,z);else if(u.attachEvent)u.attachEvent(ra(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ia(){function u(p){return m.call(u.src,u.listener,p)}const m=yf;return u}function sa(u,m,p,E,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)sa(u,m[q],p,E,z);else E=g(E)?!!E.capture:!!E,p=Eu(p),u&&u[Jt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],p=vt(m,p,E,z),p>-1&&(et(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Tl(u))&&(m=u.g[m.toString()],u=-1,m&&(u=vt(m,p,E,z)),(p=u>-1?m[u]:null)&&tr(p))}function tr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Jt])Ot(m.i,u);else{var p=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(p,E,u.capture):m.detachEvent?m.detachEvent(ra(p),E):m.addListener&&m.removeListener&&m.removeListener(E),(p=Tl(m))?(Ot(p,u),p.h==0&&(p.src=null,m[ke]=null)):et(u)}}}function ra(u){return u in Ft?Ft[u]:Ft[u]="on"+u}function yf(u,m){if(u.da)u=!0;else{m=new ne(m,this);const p=u.listener,E=u.ha||u.src;u.fa&&tr(u),u=p.call(E,m)}return u}function Tl(u){return u=u[ke],u instanceof dt?u:null}var ln="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eu(u){return typeof u=="function"?u:(u[ln]||(u[ln]=function(m){return u.handleEvent(m)}),u[ln])}function Re(){M.call(this),this.i=new dt(this),this.M=this,this.G=null}A(Re,M),Re.prototype[Jt]=!0,Re.prototype.removeEventListener=function(u,m,p,E){sa(this,u,m,p,E)};function Ve(u,m){var p,E=u.G;if(E)for(p=[];E;E=E.G)p.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var z=m;m=new x(E,u),st(m,z)}z=!0;let q,it;if(p)for(it=p.length-1;it>=0;it--)q=m.g=p[it],z=Ti(q,E,!0,m)&&z;if(q=m.g=u,z=Ti(q,E,!0,m)&&z,z=Ti(q,E,!1,m)&&z,p)for(it=0;it<p.length;it++)q=m.g=p[it],z=Ti(q,E,!1,m)&&z}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const p=u.g[m];for(let E=0;E<p.length;E++)et(p[E]);delete u.g[m],u.h--}}this.G=null},Re.prototype.J=function(u,m,p,E){return this.i.add(String(u),m,!1,p,E)},Re.prototype.K=function(u,m,p,E){return this.i.add(String(u),m,!0,p,E)};function Ti(u,m,p,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==p){const It=it.listener,ee=it.ha||it.src;it.fa&&Ot(u.i,it),z=It.call(ee,E)!==!1&&z}}return z&&!E.defaultPrevented}function _f(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Al(u){u.g=_f(()=>{u.g=null,u.i&&(u.i=!1,Al(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class vf extends M{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(u){M.call(this),this.h=u,this.g={}}A(er,M);var is=[];function Xe(u){Et(u.g,function(m,p){this.g.hasOwnProperty(p)&&tr(m)},u),u.g={}}er.prototype.N=function(){er.Z.N.call(this),Xe(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=d.JSON.stringify,tn=d.JSON.parse,wf=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Tu(){}function Au(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ss(){x.call(this,"d")}A(ss,x);function Pn(){x.call(this,"c")}A(Pn,x);var An={},rs=null;function aa(){return rs=rs||new Re}An.Ia="serverreachability";function Sl(u){x.call(this,An.Ia,u)}A(Sl,x);function as(u){const m=aa();Ve(m,new Sl(m))}An.STAT_EVENT="statevent";function la(u,m){x.call(this,An.STAT_EVENT,u),this.stat=m}A(la,x);function fe(u){const m=aa();Ve(m,new la(m,u))}An.Ja="timingevent";function Su(u,m){x.call(this,An.Ja,u),this.size=m}A(Su,x);function ls(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function os(){this.g=!0}os.prototype.ua=function(){this.g=!1};function bl(u,m,p,E,z,q){u.info(function(){if(u.g)if(q){var it="",It=q.split("&");for(let qt=0;qt<It.length;qt++){var ee=It[qt].split("=");if(ee.length>1){const ge=ee[0];ee=ee[1];const fn=ge.split("_");it=fn.length>=2&&fn[1]=="type"?it+(ge+"="+ee+"&"):it+(ge+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+E+") [attempt "+z+"]: "+m+`
`+p+`
`+it})}function Rl(u,m,p,E,z,q,it){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+z+"]: "+m+`
`+p+`
`+q+" "+it})}function Ai(u,m,p,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+si(u,p)+(E?" "+E:"")})}function Ef(u,m){u.info(function(){return"TIMEOUT: "+m})}os.prototype.info=function(){};function si(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var p=q[u];if(!(p.length<2)){var E=p[1];if(Array.isArray(E)&&!(E.length<1)){var z=E[0];if(z!="noop"&&z!="stop"&&z!="close")for(let it=1;it<E.length;it++)E[it]=""}}}}return Tn(q)}catch(q){return m}}var de={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Be={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function nr(){}A(nr,Tu),nr.prototype.g=function(){return new XMLHttpRequest},Si=new nr;function ir(u){return encodeURIComponent(String(u))}function Tf(u){var m=1;u=u.split(":");const p=[];for(;m>0&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function jn(u,m,p,E){this.j=u,this.i=m,this.l=p,this.S=E||1,this.V=new er(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new us}function us(){this.i=null,this.g="",this.h=!1}var oa={},ri={};function ai(u,m,p){u.M=1,u.A=Ri(ae(m)),u.u=p,u.R=!0,cs(u,null)}function cs(u,m){u.F=Date.now(),sr(u),u.B=ae(u.A);var p=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Cu(p.i,"t",E),u.C=0,p=u.j.L,u.h=new us,u.g=_a(u.j,p?m:null,!u.u),u.P>0&&(u.O=new vf(_(u.Y,u,u.g),u.P)),m=u.V,p=u.g,E=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(is[0]=z.toString()),z=is);for(let q=0;q<z.length;q++){const it=zn(p,z[q],E||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?$(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),as(),bl(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&$e(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const It=$e(this.g),ee=this.g.ya(),qt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||gr(this.g)))){this.K||It!=4||ee==7||(ee==8||qt<=0?as(3):as(2)),oi(this);var m=this.g.ca();this.X=m;var p=hs(this);if(this.o=m==200,Rl(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var E,z=this.g;if((E=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(E)){var q=E;break e}}q=null}if(u=q)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ua(this,u);else{this.o=!1,this.m=3,fe(12),ui(this),rr(this);break t}}if(this.R){u=!0;let ge;for(;!this.K&&this.C<p.length;)if(ge=bu(this,p),ge==ri){It==4&&(this.m=4,fe(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==oa){this.m=4,fe(15),Ai(this.i,this.l,p,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,ge,null),ua(this,ge);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||p.length!=0||this.h.h||(this.m=1,fe(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,p,"[Invalid Chunked Response]"),ui(this),rr(this);else if(p.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),Ll(it),it.P=!0,fe(11))}}else Ai(this.i,this.l,p,null),ua(this,p);It==4&&ui(this),this.o&&!this.K&&(It==4?zl(this.j,this):(this.o=!1,sr(this)))}else pr(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,fe(12)):(this.m=0,fe(13)),ui(this),rr(this)}}}catch(It){}finally{}};function hs(u){if(!me(u))return u.g.la();const m=gr(u.g);if(m==="")return"";let p="";const E=m.length,z=$e(u.g)==4;if(!u.h.i){if(typeof TextDecoder=="undefined")return ui(u),rr(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<E;q++)u.h.h=!0,p+=u.h.i.decode(m[q],{stream:!(z&&q==E-1)});return m.length=0,u.h.g+=p,u.C=0,u.h.g}function me(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bu(u,m){var p=u.C,E=m.indexOf(`
`,p);return E==-1?ri:(p=Number(m.substring(p,E)),isNaN(p)?oa:(E+=1,E+p>m.length?ri:(m=m.slice(E,E+p),u.C=E+p,m)))}jn.prototype.cancel=function(){this.K=!0,ui(this)};function sr(u){u.T=Date.now()+u.H,li(u,u.H)}function li(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ls(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ef(this.i,this.B),this.M!=2&&(as(),fe(17)),ui(this),this.m=2,rr(this)):li(this,this.T-u)};function rr(u){u.j.I==0||u.K||zl(u.j,u)}function ui(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ua(u,m){try{var p=u.j;if(p.I!=0&&(p.g==u||or(p.h,u))){if(!u.L&&or(p.h,u)&&p.I==3){try{var E=p.Ba.g.parse(m)}catch(qt){E=null}if(Array.isArray(E)&&E.length==3){var z=E;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<u.F)ya(p),ci(p);else break t;Ul(p),fe(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ls(_(p.Va,p),6e3));Sn(p.h)<=1&&p.ta&&(p.ta=void 0)}else Di(p,11)}else if((u.L||p.g==u)&&ya(p),!R(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let qt=z[m];const ge=qt[0];if(!(ge<=p.K))if(p.K=ge,qt=qt[1],p.I==2)if(qt[0]=="c"){p.M=qt[1],p.ba=qt[2];const fn=qt[3];fn!=null&&(p.ka=fn,p.j.info("VER="+p.ka));const hi=qt[4];hi!=null&&(p.za=hi,p.j.info("SVER="+p.za));const qn=qt[5];qn!=null&&typeof qn=="number"&&qn>0&&(E=1.5*qn,p.O=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const Hn=u.g;if(Hn){const Gn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var q=E.h;q.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(ca(q,q.h),q.h=null))}if(E.G){const jl=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(E.wa=jl,Qt(E.J,E.G,jl))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-u.F,p.j.info("Handshake RTT: "+p.T+"ms")),E=p;var it=u;if(E.na=zu(E,E.L?E.ba:null,E.W),it.L){bi(E.h,it);var It=it,ee=E.O;ee&&(It.H=ee),It.D&&(oi(It),sr(It)),E.g=it}else Mu(E);p.i.length>0&&wr(p)}else qt[0]!="stop"&&qt[0]!="close"||Di(p,7);else p.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Di(p,7):_r(p):qt[0]!="noop"&&p.l&&p.l.qa(qt),p.A=0)}}as(4)}catch(qt){}}var Af=class{constructor(u,m){this.g=u,this.map=m}};function ar(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Sn(u){return u.h?1:u.g?u.g.size:0}function or(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ca(u,m){u.g?u.g.add(m):u.h=m}function bi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ar.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ha(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.G);return m}return G(u.i)}var fa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(u,m){if(u){u=u.split("&");for(let p=0;p<u.length;p++){const E=u[p].indexOf("=");let z,q=null;E>=0?(z=u[p].substring(0,E),q=u[p].substring(E+1)):z=u[p],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,fs(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.u),this.h=u.h,ds(this,Du(u.i)),this.m=u.m):u&&(m=String(u).match(fa))?(this.l=!1,fs(this,m[1]||"",!0),this.o=cr(m[2]||""),this.g=cr(m[3]||"",!0),ur(this,m[4]),this.h=cr(m[5]||"",!0),ds(this,m[6]||"",!0),this.m=cr(m[7]||"")):(this.l=!1,this.i=new bn(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Me(m,Cl,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Me(m,Cl,!0),"@"),u.push(ir(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&u.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Me(p,p.charAt(0)=="/"?ms:Dl,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Me(p,Iu)),u.join("")},kn.prototype.resolve=function(u){const m=ae(this);let p=!!u.j;p?fs(m,u.j):p=!!u.o,p?m.o=u.o:p=!!u.g,p?m.g=u.g:p=u.u!=null;var E=u.h;if(p)ur(m,u.u);else if(p=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var z=m.h.lastIndexOf("/");z!=-1&&(E=m.h.slice(0,z+1)+E)}if(z=E,z==".."||z==".")E="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){E=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let it=0;it<z.length;){const It=z[it++];It=="."?E&&it==z.length&&q.push(""):It==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),E&&it==z.length&&q.push("")):(q.push(It),E=!0)}E=q.join("/")}else E=z}return p?m.h=E:p=u.i.toString()!=="",p?ds(m,Du(u.i)):p=!!u.m,p&&(m.m=u.m),m};function ae(u){return new kn(u)}function fs(u,m,p){u.j=p?cr(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ds(u,m,p){m instanceof bn?(u.i=m,Vl(u.i,u.l)):(p||(m=Me(m,Ru)),u.i=new bn(m,u.l))}function Qt(u,m,p){u.i.set(m,p)}function Ri(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function cr(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Me(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Il),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Il(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Cl=/[#\/\?@]/g,Dl=/[#\?:]/g,ms=/[#\?]/g,Ru=/[#\?@]/g,Iu=/#/g;function bn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ii(u){u.g||(u.g=new Map,u.h=0,u.i&&Sf(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=bn.prototype,r.add=function(u,m){Ii(this),this.i=null,u=Bn(this,u);let p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function xl(u,m){Ii(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Nl(u,m){return Ii(u),m=Bn(u,m),u.g.has(m)}r.forEach=function(u,m){Ii(this),this.g.forEach(function(p,E){p.forEach(function(z){u.call(m,z,E,this)},this)},this)};function da(u,m){Ii(u);let p=[];if(typeof m=="string")Nl(u,m)&&(p=p.concat(u.g.get(Bn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)p=p.concat(u[m]);return p}r.set=function(u,m){return Ii(this),this.i=null,u=Bn(this,u),Nl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=da(this,u),u.length>0?String(u[0]):m):m};function Cu(u,m,p){xl(u,m),p.length>0&&(u.i=null,u.g.set(Bn(u,m),G(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let E=0;E<m.length;E++){var p=m[E];const z=ir(p);p=da(this,p);for(let q=0;q<p.length;q++){let it=z;p[q]!==""&&(it+="="+ir(p[q])),u.push(it)}}return this.i=u.join("&")};function Du(u){const m=new bn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Vl(u,m){m&&!u.j&&(Ii(u),u.i=null,u.g.forEach(function(p,E){const z=E.toLowerCase();E!=z&&(xl(this,E),Cu(this,z,p))},u)),u.j=m}function Ml(u,m){const p=new os;if(d.Image){const E=new Image;E.onload=T(en,p,"TestLoadImage: loaded",!0,m,E),E.onerror=T(en,p,"TestLoadImage: error",!1,m,E),E.onabort=T(en,p,"TestLoadImage: abort",!1,m,E),E.ontimeout=T(en,p,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function gs(u,m){const p=new os,E=new AbortController,z=setTimeout(()=>{E.abort(),en(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(q=>{clearTimeout(z),q.ok?en(p,"TestPingServer: ok",!0,m):en(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),en(p,"TestPingServer: error",!1,m)})}function en(u,m,p,E,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),E(p)}catch(q){}}function xu(){this.g=new wf}function hr(u){this.i=u.Sb||null,this.h=u.ab||!1}A(hr,Tu),hr.prototype.g=function(){return new fr(this.i,this.h)};function fr(u,m){Re.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(fr,Re),r=fr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ci(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nn(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream!="undefined"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ps(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ps(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?nn(this):Ci(this),this.readyState==3&&ps(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,nn(this))},r.Na=function(u){this.g&&(this.response=u,nn(this))},r.ga=function(){this.g&&nn(this)};function nn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ci(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ys(u){let m="";return Et(u,function(p,E){m+=E,m+=":",m+=p,m+=`\r
`}),m}function Rn(u,m,p){t:{for(E in p){var E=!1;break t}E=!0}E||(p=ys(p),typeof u=="string"?p!=null&&ir(p):Qt(u,m,p))}function Wt(u){Re.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Wt,Re);var ma=/^https?$/i,Nu=["POST","PUT"];r=Wt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){dr(this,q);return}if(u=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var z in E)p.set(z,E[z]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const q of E.keys())p.set(q,E.get(q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Nu,m,void 0)>=0)||E||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of p)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){dr(this,q)}};function dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,mr(u),Ie(u)}function mr(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),Ie(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ie(this,!0)),Wt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ol(this):this.Xa())},r.Xa=function(){Ol(this)};function Ol(u){if(u.h&&typeof h!="undefined"){if(u.v&&$e(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),$e(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var E;if(E=q===0){let it=String(u.D).match(fa)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),E=!ma.test(it?it.toLowerCase():"")}p=E}if(p)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var z=$e(u)>2?u.g.statusText:""}catch(it){z=""}u.l=z+" ["+u.ca()+"]",mr(u)}}finally{Ie(u)}}}}function Ie(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const p=u.g;u.g=null,m||Ve(u,"ready");try{p.onreadystatechange=null}catch(E){}}}r.isActive=function(){return!!this.g};function $e(u){return u.g?u.g.readyState:0}r.ca=function(){try{return $e(this)>2?this.g.status:-1}catch(u){return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),tn(m)}};function gr(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(m){return null}}function pr(u){const m={};u=(u.g&&$e(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(R(u[E]))continue;var p=Tf(u[E]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[z]||[];m[z]=q,q.push(p)}D(m,function(E){return E.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ga(u){this.za=0,this.i=[],this.j=new os,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yr("baseRetryDelayMs",5e3,u),this.Za=yr("retryDelaySeedMs",1e4,u),this.Ta=yr("forwardChannelMaxRetries",2,u),this.va=yr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ar(u&&u.concurrentRequestLimit),this.Ba=new xu,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ga.prototype,r.ka=8,r.I=1,r.connect=function(u,m,p,E){fe(0),this.W=u,this.H=m||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.J=zu(this,null,this.W),wr(this)};function _r(u){if(vr(u),u.I==3){var m=u.V++,p=ae(u.J);if(Qt(p,"SID",u.M),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Er(u,p),m=new jn(u,u.j,m),m.M=2,m.A=Ri(ae(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch(E){}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=_a(m.j,null),m.g.ea(m.A)),m.F=Date.now(),sr(m)}Lu(u)}function ci(u){u.g&&(Ll(u),u.g.cancel(),u.g=null)}function vr(u){ci(u),u.v&&(d.clearTimeout(u.v),u.v=null),ya(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wr(u){if(!lr(u.h)&&!u.m){u.m=!0;var m=u.Ea;nt||S(),_t||(nt(),_t=!0),C.add(m,u),u.D=0}}function bf(u,m){return Sn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ls(_(u.Ea,u,m),Uu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new jn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=$(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break e}E=void 0}if(E===void 0)break;if(m+=E,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=pa(this,z,m),p=ae(this.J),Qt(p,"RID",u),Qt(p,"CVER",22),this.G&&Qt(p,"X-HTTP-Session-Id",this.G),Er(this,p),q&&(this.R?m="headers="+ir(ys(q))+"&"+m:this.u&&Rn(p,this.u,q)),ca(this.h,z),this.Ra&&Qt(p,"TYPE","init"),this.S?(Qt(p,"$req",m),Qt(p,"SID","null"),z.U=!0,ai(z,p,null)):ai(z,p,m),this.I=2}}else this.I==3&&(u?Vu(this,u):this.i.length==0||lr(this.h)||Vu(this))};function Vu(u,m){var p;m?p=m.l:p=u.V++;const E=ae(u.J);Qt(E,"SID",u.M),Qt(E,"RID",p),Qt(E,"AID",u.K),Er(u,E),u.u&&u.o&&Rn(E,u.u,u.o),p=new jn(u,u.j,p,u.D+1),u.u===null&&(p.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pa(u,p,1e3),p.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ca(u.h,p),ai(p,E,m)}function Er(u,m){u.H&&Et(u.H,function(p,E){Qt(m,E,p)}),u.l&&Et({},function(p,E){Qt(m,E,p)})}function pa(u,m,p){p=Math.min(u.i.length,p);const E=u.l?_(u.l.Ka,u.l,u):null;t:{var z=u.i;let It=-1;for(;;){const ee=["count="+p];It==-1?p>0?(It=z[0].g,ee.push("ofs="+It)):It=0:ee.push("ofs="+It);let qt=!0;for(let ge=0;ge<p;ge++){var q=z[ge].g;const fn=z[ge].map;if(q-=It,q<0)It=Math.max(0,z[ge].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var it=fn instanceof Map?fn:Object.entries(fn);for(const[hi,qn]of it){let Hn=qn;g(qn)&&(Hn=Tn(qn)),ee.push(q+hi+"="+encodeURIComponent(Hn))}}catch(hi){throw ee.push(q+"type="+encodeURIComponent("_badmap")),hi}}catch(hi){E&&E(fn)}}if(qt){it=ee.join("&");break t}}it=void 0}return u=u.i.splice(0,p),m.G=u,it}function Mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;nt||S(),_t||(nt(),_t=!0),C.add(m,u),u.A=0}}function Ul(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ls(_(u.Da,u),Uu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ls(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fe(10),ci(this),Ou(this))};function Ll(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Ou(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&Rn(m,u.u,u.o),u.O&&(u.g.H=u.O);var p=u.g;u=u.ba,p.M=1,p.A=Ri(ae(m)),p.u=null,p.R=!0,cs(p,u)}r.Va=function(){this.C!=null&&(this.C=null,ci(this),Ul(this),fe(19))};function ya(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function zl(u,m){var p=null;if(u.g==m){ya(u),Ll(u),u.g=null;var E=2}else if(or(u.h,m))p=m.G,bi(u.h,m),E=1;else return;if(u.I!=0){if(m.o)if(E==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;E=aa(),Ve(E,new Su(E,p)),wr(u)}else Mu(u);else if(z=m.m,z==3||z==0&&m.X>0||!(E==1&&bf(u,m)||E==2&&Ul(u)))switch(p&&p.length>0&&(m=u.h,m.i=m.i.concat(p)),z){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Uu(u,m){let p=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(p*=2),p*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var p=_(u.bb,u),E=u.Ua;const z=!E;E=new kn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||fs(E,"https"),Ri(E),z?Ml(E.toString(),p):gs(E.toString(),p)}else fe(2);u.I=0,u.l&&u.l.pa(m),Lu(u),vr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function Lu(u){if(u.I=0,u.ja=[],u.l){const m=ha(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function zu(u,m,p){var E=p instanceof kn?ae(p):new kn(p);if(E.g!="")m&&(E.g=m+"."+E.g),ur(E,E.u);else{var z=d.location;E=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new kn(null);E&&fs(q,E),m&&(q.g=m),z&&ur(q,z),p&&(q.h=p),E=q}return p=u.G,m=u.wa,p&&m&&Qt(E,p,m),Qt(E,"VER",u.ka),Er(u,E),E}function _a(u,m,p){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Wt(new hr({ab:p})):new Wt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function va(){}va.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Re.call(this),this.g=new ga(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new _s(this)}A(sn,Re),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){_r(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.v&&(p={},p.__data__=Tn(u),u=p);m.i.push(new Af(m.Ya++,u)),m.I==3&&wr(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,_r(this.g),delete this.g,sn.Z.N.call(this)};function Pl(u){ss.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Pl,ss);function ju(){Pn.call(this),this.status=1}A(ju,Pn);function _s(u){this.g=u}A(_s,Pu),_s.prototype.ra=function(){Ve(this.g,"a")},_s.prototype.qa=function(u){Ve(this.g,new Pl(u))},_s.prototype.pa=function(u){Ve(this.g,new ju)},_s.prototype.oa=function(){Ve(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,tg=function(){return new va},Wm=function(){return aa()},Jm=An,rh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,Lo=de,Be.COMPLETE="complete",Zm=Be,Au.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",Re.prototype.listen=Re.prototype.J,Wa=Au,Wt.prototype.listenOnce=Wt.prototype.K,Wt.prototype.getLastError=Wt.prototype.Ha,Wt.prototype.getLastErrorCode=Wt.prototype.ya,Wt.prototype.getStatus=Wt.prototype.ca,Wt.prototype.getResponseJson=Wt.prototype.La,Wt.prototype.getResponseText=Wt.prototype.la,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Fa,$m=Wt}).apply(typeof Uo!="undefined"?Uo:typeof self!="undefined"?self:typeof window!="undefined"?window:{});const eg="@firebase/firestore",ng="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Kc("@firebase/firestore");function Pr(){return Bs.logLevel}function ot(r,...e){if(Bs.logLevel<=Ut.DEBUG){const i=e.map(ah);Bs.debug(`Firestore (${zr}): ${r}`,...i)}}function vi(r,...e){if(Bs.logLevel<=Ut.ERROR){const i=e.map(ah);Bs.error(`Firestore (${zr}): ${r}`,...i)}}function jr(r,...e){if(Bs.logLevel<=Ut.WARN){const i=e.map(ah);Bs.warn(`Firestore (${zr}): ${r}`,...i)}}function ah(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch(e){return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,ig(r,a,i)}function ig(r,e,i){let a=`FIRESTORE (${zr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch(o){a+=" CONTEXT: "+i}throw vi(a),new Error(a)}function kt(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||ig(e,o,a)}function Rt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Gi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class hT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class fT{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new qs,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(()=>Y(this,null,function*(){yield v.promise,yield o(this.currentUser)}))},g=v=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new qs)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string",31837,{l:a}),new sg(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class dT{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mT{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new dT(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gT{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$E(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0,3512);const a=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new rg(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=pT(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Vt(r,e){return r<e?-1:r>e?1:0}function oh(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return uh(o)===uh(h)?Vt(o,h):uh(o)?1:-1}return Vt(r.length,e.length)}const yT=55296,_T=57343;function uh(r){const e=r.charCodeAt(0);return e>=yT&&e<=_T}function kr(r,e,i){return r.length===e.length&&r.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&yt(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&yt(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=$n.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),o=$n.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?$n.extractNumericId(e).compare($n.extractNumericId(i)):oh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Zt extends $n{construct(e,i,a){return new Zt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const vT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ze extends $n{construct(e,i,a){return new ze(e,i,a)}static isValidIdentifier(e){return vT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ag}static keyField(){return new ze([ag])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ze(i)}static emptyPath(){return new ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(Zt.fromString(e))}static fromName(e){return new mt(Zt.fromString(e).popFirst(5))}static empty(){return new mt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e,i){if(!i)throw new lt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function wT(r,e,i,a){if(e===!0&&a===!0)throw new lt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function og(r){if(!mt.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ug(r){if(mt.isDocumentKey(r))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cg(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zo(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function tl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zo(r);throw new lt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,e){const i={typeString:r};return e&&(i.value=e),i}function el(r,e){if(!cg(r))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new lt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=-62135596800,fg=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*fg);return new Bt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<hg)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fg}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(el(e,Bt._jsonSchema))return new Bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:_e("string",Bt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new Bt(0,0))}static max(){return new St(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=-1;function ET(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(a===1e9?new Bt(i+1,0):new Bt(i,a));return new Xi(o,mt.empty(),e)}function TT(r){return new Xi(r.readTime,r.key,nl)}class Xi{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Xi(St.min(),mt.empty(),nl)}static max(){return new Xi(St.max(),mt.empty(),nl)}}function AT(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(r){return Y(this,null,function*(){if(r.code!==X.FAILED_PRECONDITION||r.message!==ST)throw r;ot("LocalStore","Unexpectedly lost primary lease")})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):J.reject(i)}static resolve(e){return new J((i,a)=>{i(e)})}static reject(e){return new J((i,a)=>{a(e)})}static waitFor(e){return new J((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>a(v))}),d=!0,h===o&&i()})}static or(e){let i=J.resolve(!1);for(const a of e)i=i.next(o=>o?J.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new J((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(T=>{d[_]=T,++g,g===h&&a(d)},T=>o(T))}})}static doWhile(e,i){return new J((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function RT(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function qr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Po.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=-1;function jo(r){return r==null}function ko(r){return r===0&&1/r==-1/0}function IT(r){return typeof r=="number"&&Number.isInteger(r)&&!ko(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="";function CT(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=mg(e)),e=DT(r.get(i),e);return mg(e)}function DT(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case dg:i+="";break;default:i+=h}}return i}function mg(r){return r+dg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Hs(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function pg(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bo(this.root,e,this.comparator,!0)}}class Bo{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a!=null?a:Pe.RED,this.left=o!=null?o:Pe.EMPTY,this.right=h!=null?h:Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Pe(e!=null?e:this.key,i!=null?i:this.value,a!=null?a:this.color,o!=null?o:this.left,h!=null?h:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yt(27949);return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1,Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new yg(this.data.getIterator())}getIteratorFrom(e){return new yg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class yg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(ze.comparator)}static empty(){return new Un([])}unionWith(e){let i=new Se(ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return kr(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException!="undefined"&&h instanceof DOMException?new _g("Invalid base64 string: "+h):h}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const xT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(r){if(kt(!!r,39018),typeof r=="string"){let e=0;const i=xT.exec(r);if(kt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zi(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="server_timestamp",wg="__type__",Eg="__previous_value__",Tg="__local_write_time__";function hh(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[wg])==null?void 0:a.stringValue)===vg}function qo(r){const e=r.mapValue.fields[Eg];return hh(e)?qo(e):e}function il(r){const e=$i(r.mapValue.fields[Tg].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,i,a,o,h,d,g,v,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=T}}const Ho="(default)";class sl{constructor(e,i){this.projectId=e,this.database=i||Ho}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database===Ho}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="__type__",VT="__max__",Go={mapValue:{}},Sg="__vector__",Fo="value";function Ji(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hh(r)?4:OT(r)?9007199254740991:MT(r)?10:11:yt(28295,{value:r})}function Zn(r,e){if(r===e)return!0;const i=Ji(r);if(i!==Ji(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return il(r).isEqual(il(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=$i(o.timestampValue),g=$i(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,h){return Zi(o.bytesValue).isEqual(Zi(h.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(r,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?ko(d)===ko(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return kr(r.arrayValue.values||[],e.arrayValue.values||[],Zn);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(gg(d)!==gg(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Zn(d[v],g[v])))return!1;return!0}(r,e);default:return yt(52216,{left:r})}}function rl(r,e){return(r.values||[]).find(i=>Zn(i,e))!==void 0}function Hr(r,e){if(r===e)return 0;const i=Ji(r),a=Ji(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,e);case 3:return bg(r.timestampValue,e.timestampValue);case 4:return bg(il(r),il(e));case 5:return oh(r.stringValue,e.stringValue);case 6:return function(h,d){const g=Zi(h),v=Zi(d);return g.compareTo(v)}(r.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const T=Vt(g[_],v[_]);if(T!==0)return T}return Vt(g.length,v.length)}(r.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Vt(he(h.latitude),he(d.latitude));return g!==0?g:Vt(he(h.longitude),he(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Rg(r.arrayValue,e.arrayValue);case 10:return function(h,d){var N,G,tt,rt;const g=h.fields||{},v=d.fields||{},_=(N=g[Fo])==null?void 0:N.arrayValue,T=(G=v[Fo])==null?void 0:G.arrayValue,A=Vt(((tt=_==null?void 0:_.values)==null?void 0:tt.length)||0,((rt=T==null?void 0:T.values)==null?void 0:rt.length)||0);return A!==0?A:Rg(_,T)}(r.mapValue,e.mapValue);case 11:return function(h,d){if(h===Go.mapValue&&d===Go.mapValue)return 0;if(h===Go.mapValue)return 1;if(d===Go.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},T=Object.keys(_);v.sort(),T.sort();for(let A=0;A<v.length&&A<T.length;++A){const N=oh(v[A],T[A]);if(N!==0)return N;const G=Hr(g[v[A]],_[T[A]]);if(G!==0)return G}return Vt(v.length,T.length)}(r.mapValue,e.mapValue);default:throw yt(23264,{he:i})}}function bg(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=$i(r),a=$i(e),o=Vt(i.seconds,a.seconds);return o!==0?o:Vt(i.nanos,a.nanos)}function Rg(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Hr(i[o],a[o]);if(h)return h}return Vt(i.length,a.length)}function Gr(r){return fh(r)}function fh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=$i(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Zi(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return mt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=fh(h);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${fh(i.fields[d])}`;return o+"}"}(r.mapValue):yt(61005,{value:r})}function Qo(r){switch(Ji(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qo(r);return e?16+Qo(e):16;case 5:return 2*r.stringValue.length;case 6:return Zi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+Qo(h),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Hs(a.fields,(h,d)=>{o+=h.length+Qo(d)}),o}(r.mapValue);default:throw yt(13486,{value:r})}}function Ig(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dh(r){return!!r&&"integerValue"in r}function mh(r){return!!r&&"arrayValue"in r}function Cg(r){return!!r&&"nullValue"in r}function Dg(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yo(r){return!!r&&"mapValue"in r}function MT(r){var i,a;return((a=(((i=r==null?void 0:r.mapValue)==null?void 0:i.fields)||{})[Ag])==null?void 0:a.stringValue)===Sg}function al(r){if(r.geoPointValue)return{geoPointValue:Ae({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Ae({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hs(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=al(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=al(r.arrayValue.values[i]);return e}return Ae({},r)}function OT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===VT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(i)}setAll(e){let i=ze.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=al(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Yo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Zn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yo(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Hs(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new wn(al(this.value))}}function xg(r){const e=[];return Hs(r.fields,(i,a)=>{const o=new ze([i]);if(Yo(a)){const h=xg(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,St.min(),St.min(),St.min(),wn.empty(),0)}static newFoundDocument(e,i,a,o){return new Ye(e,1,i,St.min(),a,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,St.min(),St.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,St.min(),St.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,i){this.position=e,this.inclusive=i}}function Ng(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Hr(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Vg(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Zn(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,i="asc"){this.field=e,this.dir=i}}function UT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{}class ve extends Mg{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new zT(e,i,a):i==="array-contains"?new kT(e,a):i==="in"?new BT(e,a):i==="not-in"?new qT(e,a):i==="array-contains-any"?new HT(e,a):new ve(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new PT(e,a):new jT(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Hr(i,this.value)):i!==null&&Ji(this.value)===Ji(i)&&this.matchesComparison(Hr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Mg{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ln(e,i)}matches(e){return Og(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Og(r){return r.op==="and"}function Ug(r){return LT(r)&&Og(r)}function LT(r){for(const e of r.filters)if(e instanceof Ln)return!1;return!0}function gh(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Gr(r.value);if(Ug(r))return r.filters.map(e=>gh(e)).join(",");{const e=r.filters.map(i=>gh(i)).join(",");return`${r.op}(${e})`}}function Lg(r,e){return r instanceof ve?function(a,o){return o instanceof ve&&a.op===o.op&&a.field.isEqual(o.field)&&Zn(a.value,o.value)}(r,e):r instanceof Ln?function(a,o){return o instanceof Ln&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&Lg(d,o.filters[g]),!0):!1}(r,e):void yt(19439)}function zg(r){return r instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Gr(i.value)}`}(r):r instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(zg).join(" ,")+"}"}(r):"Filter"}class zT extends ve{constructor(e,i,a){super(e,i,a),this.key=mt.fromName(a.referenceValue)}matches(e){const i=mt.comparator(e.key,this.key);return this.matchesComparison(i)}}class PT extends ve{constructor(e,i){super(e,"in",i),this.keys=Pg("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class jT extends ve{constructor(e,i){super(e,"not-in",i),this.keys=Pg("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Pg(r,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map(a=>mt.fromName(a.referenceValue))}class kT extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return mh(i)&&rl(i.arrayValue,this.value)}}class BT extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&rl(this.value.arrayValue,i)}}class qT extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!rl(this.value.arrayValue,i)}}class HT extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!mh(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>rl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function jg(r,e=null,i=[],a=[],o=null,h=null,d=null){return new GT(r,e,i,a,o,h,d)}function ph(r){const e=Rt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>gh(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Gr(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Gr(a)).join(",")),e.Te=i}return e.Te}function yh(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!UT(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Lg(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vg(r.startAt,e.startAt)&&Vg(r.endAt,e.endAt)}function _h(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FT(r,e,i,a,o,h,d,g){return new Fr(r,e,i,a,o,h,d,g)}function vh(r){return new Fr(r)}function kg(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Bg(r){return r.collectionGroup!==null}function ol(r){const e=Rt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(ze.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ll(h,a))}),i.has(ze.keyField().canonicalString())||e.Ie.push(new ll(ze.keyField(),a))}return e.Ie}function Jn(r){const e=Rt(r);return e.Ee||(e.Ee=QT(e,ol(r))),e.Ee}function QT(r,e){if(r.limitType==="F")return jg(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new ll(o.field,h)});const i=r.endAt?new Ko(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ko(r.startAt.position,r.startAt.inclusive):null;return jg(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function wh(r,e){const i=r.filters.concat([e]);return new Fr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Eh(r,e,i){return new Fr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Xo(r,e){return yh(Jn(r),Jn(e))&&r.limitType===e.limitType}function qg(r){return`${ph(Jn(r))}|lt:${r.limitType}`}function Qr(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>zg(o)).join(", ")}]`),jo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Gr(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Gr(o)).join(",")),`Target(${a})`}(Jn(r))}; limitType=${r.limitType})`}function $o(r,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(r,e)&&function(a,o){for(const h of ol(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,g,v){const _=Ng(d,g,v);return d.inclusive?_<=0:_<0}(a.startAt,ol(a),o)||a.endAt&&!function(d,g,v){const _=Ng(d,g,v);return d.inclusive?_>=0:_>0}(a.endAt,ol(a),o))}(r,e)}function YT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hg(r){return(e,i)=>{let a=!1;for(const o of ol(r)){const h=KT(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function KT(r,e,i){const a=r.field.isKeyField()?mt.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Hr(v,_):yt(42886)}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return pg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new re(mt.comparator);function wi(){return XT}const Gg=new re(mt.comparator);function ul(...r){let e=Gg;for(const i of r)e=e.insert(i.key,i);return e}function Fg(r){let e=Gg;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function Fs(){return cl()}function Qg(){return cl()}function cl(){return new Gs(r=>r.toString(),(r,e)=>r.isEqual(e))}const $T=new re(mt.comparator),ZT=new Se(mt.comparator);function Mt(...r){let e=ZT;for(const i of r)e=e.add(i);return e}const JT=new Se(Vt);function WT(){return JT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(e)?"-0":e}}function Yg(r){return{integerValue:""+r}}function t1(r,e){return IT(e)?Yg(e):Th(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this._=void 0}}function e1(r,e,i){return r instanceof Jo?function(o,h){const d={fields:{[wg]:{stringValue:vg},[Tg]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&hh(h)&&(h=qo(h)),h&&(d.fields[Eg]=h),{mapValue:d}}(i,e):r instanceof hl?Xg(r,e):r instanceof fl?$g(r,e):function(o,h){const d=Kg(o,h),g=Zg(d)+Zg(o.Ae);return dh(d)&&dh(o.Ae)?Yg(g):Th(o.serializer,g)}(r,e)}function n1(r,e,i){return r instanceof hl?Xg(r,e):r instanceof fl?$g(r,e):i}function Kg(r,e){return r instanceof Wo?function(a){return dh(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Jo extends Zo{}class hl extends Zo{constructor(e){super(),this.elements=e}}function Xg(r,e){const i=Jg(e);for(const a of r.elements)i.some(o=>Zn(o,a))||i.push(a);return{arrayValue:{values:i}}}class fl extends Zo{constructor(e){super(),this.elements=e}}function $g(r,e){let i=Jg(e);for(const a of r.elements)i=i.filter(o=>!Zn(o,a));return{arrayValue:{values:i}}}class Wo extends Zo{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Zg(r){return he(r.integerValue||r.doubleValue)}function Jg(r){return mh(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function i1(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof hl&&o instanceof hl||a instanceof fl&&o instanceof fl?kr(a.elements,o.elements,Zn):a instanceof Wo&&o instanceof Wo?Zn(a.Ae,o.Ae):a instanceof Jo&&o instanceof Jo}(r.transform,e.transform)}class s1{constructor(e,i){this.version=e,this.transformResults=i}}class Ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class eu{}function Wg(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new sp(r.key,Ei.none()):new ml(r.key,r.data,Ei.none());{const i=r.data,a=wn.empty();let o=new Se(ze.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Qs(r.key,a,new Un(o.toArray()),Ei.none())}}function r1(r,e,i){r instanceof ml?function(o,h,d){const g=o.value.clone(),v=np(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Qs?function(o,h,d){if(!tu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=np(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(ep(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function dl(r,e,i,a){return r instanceof ml?function(h,d,g,v){if(!tu(h.precondition,d))return g;const _=h.value.clone(),T=ip(h.fieldTransforms,v,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,e,i,a):r instanceof Qs?function(h,d,g,v){if(!tu(h.precondition,d))return g;const _=ip(h.fieldTransforms,v,d),T=d.data;return T.setAll(ep(h)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(A=>A.field))}(r,e,i,a):function(h,d,g){return tu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function a1(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=Kg(a.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(a.field,h))}return i||null}function tp(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&kr(a,o,(h,d)=>i1(h,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ml extends eu{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends eu{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function ep(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function np(r,e,i){const a=new Map;kt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,n1(d,g,i[o]))}return a}function ip(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,e1(h,d,e))}return a}class sp extends eu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l1 extends eu{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&r1(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=dl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=dl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Qg();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=Wg(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(St.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Mt())}isEqual(e){return this.batchId===e.batchId&&kr(this.mutations,e.mutations,(i,a)=>tp(i,a))&&kr(this.baseMutations,e.baseMutations,(i,a)=>tp(i,a))}}class Ah{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){kt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return $T}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Ah(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Lt;function h1(r){switch(r){case X.OK:return yt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function rp(r){if(r===void 0)return vi("GRPC error has no .code"),X.UNKNOWN;switch(r){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=new Ki([4294967295,4294967295],0);function ap(r){const e=f1().encode(r),i=new Xm;return i.update(e),new Uint8Array(i.digest())}function lp(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ki([i,a],0),new Ki([o,h],0)]}class Sh{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new gl(`Invalid padding: ${i}`);if(a<0)throw new gl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ki.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Ki.fromNumber(a)));return o.compare(d1)===1&&(o=new Ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=ap(e),[a,o]=lp(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Sh(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=ap(e),[a,o]=lp(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new nu(St.min(),o,new re(Vt),wi(),Mt())}}class pl{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new pl(a,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class op{constructor(e,i){this.targetId=e,this.Ce=i}}class up{constructor(e,i,a=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class cp{constructor(){this.ve=0,this.Fe=hp(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),a=Mt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:h})}}),new pl(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=hp()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m1{constructor(e){this.Ge=e,this.ze=new Map,this.je=wi(),this.Je=su(),this.He=su(),this.Ye=new re(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:yt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((a,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(_h(h))if(a===0){const d=new mt(h.path);this.et(i,d,Ye.newNoDocument(d,St.min()))}else kt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Zi(a).toUint8Array()}catch(v){if(v instanceof _g)return jr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Sh(d,o,h)}catch(v){return jr(v instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&_h(g.target)){const v=new mt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ye.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=Mt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new nu(e,i,this.Ye,this.je,a);return this.je=wi(),this.Je=su(),this.He=su(),this.Ye=new re(Vt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new cp,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Se(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Se(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cp),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function su(){return new re(mt.comparator)}function hp(){return new re(mt.comparator)}const g1={asc:"ASCENDING",desc:"DESCENDING"},p1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y1={and:"AND",or:"OR"};class _1{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bh(r,e){return r.useProto3Json||jo(e)?e:{value:e}}function ru(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fp(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function v1(r,e){return ru(r,e.toTimestamp())}function Wn(r){return kt(!!r,49232),St.fromTimestamp(function(i){const a=$i(i);return new Bt(a.seconds,a.nanos)}(r))}function Rh(r,e){return Ih(r,e).canonicalString()}function Ih(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function dp(r){const e=Zt.fromString(r);return kt(vp(e),10190,{key:e.toString()}),e}function Ch(r,e){return Rh(r.databaseId,e.path)}function Dh(r,e){const i=dp(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(gp(i))}function mp(r,e){return Rh(r.databaseId,e)}function w1(r){const e=dp(r);return e.length===4?Zt.emptyPath():gp(e)}function xh(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gp(r){return kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function pp(r,e,i){return{name:Ch(r,e),fields:i.value.mapValue.fields}}function E1(r,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:yt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,T){return _.useProto3Json?(kt(T===void 0||typeof T=="string",58123),je.fromBase64String(T||"")):(kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),je.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const T=_.code===void 0?X.UNKNOWN:rp(_.code);return new lt(T,_.message||"")}(d);i=new up(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Dh(r,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):St.min(),g=new wn({mapValue:{fields:a.document.fields}}),v=Ye.newFoundDocument(o,h,d,g),_=a.targetIds||[],T=a.removedTargetIds||[];i=new iu(_,T,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Dh(r,a.document),h=a.readTime?Wn(a.readTime):St.min(),d=Ye.newNoDocument(o,h),g=a.removedTargetIds||[];i=new iu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Dh(r,a.document),h=a.removedTargetIds||[];i=new iu([],h,o,null)}else{if(!("filter"in e))return yt(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new c1(o,h),g=a.targetId;i=new op(g,d)}}return i}function T1(r,e){let i;if(e instanceof ml)i={update:pp(r,e.key,e.value)};else if(e instanceof sp)i={delete:Ch(r,e.key)};else if(e instanceof Qs)i={update:pp(r,e.key,e.data),updateMask:N1(e.fieldMask)};else{if(!(e instanceof l1))return yt(16599,{Vt:e.type});i={verify:Ch(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Jo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Wo)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:v1(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:yt(27497)}(r,e.precondition)),i}function A1(r,e){return r&&r.length>0?(kt(e!==void 0,14353),r.map(i=>function(o,h){let d=o.updateTime?Wn(o.updateTime):Wn(h);return d.isEqual(St.min())&&(d=Wn(h)),new s1(d,o.transformResults||[])}(i,e))):[]}function S1(r,e){return{documents:[mp(r,e.path)]}}function b1(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=mp(r,o);const h=function(_){if(_.length!==0)return _p(Ln.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(T=>function(N){return{field:Yr(N.field),direction:C1(N.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=bh(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function R1(r){let e=w1(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){kt(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(A){const N=yp(A);return N instanceof Ln&&Ug(N)?N.getFilters():[N]}(i.where));let d=[];i.orderBy&&(d=function(A){return A.map(N=>function(tt){return new ll(Kr(tt.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(tt.direction))}(N))}(i.orderBy));let g=null;i.limit&&(g=function(A){let N;return N=typeof A=="object"?A.value:A,jo(N)?null:N}(i.limit));let v=null;i.startAt&&(v=function(A){const N=!!A.before,G=A.values||[];return new Ko(G,N)}(i.startAt));let _=null;return i.endAt&&(_=function(A){const N=!A.before,G=A.values||[];return new Ko(G,N)}(i.endAt)),FT(e,o,d,h,g,"F",v,_)}function I1(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function yp(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Kr(i.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Kr(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Kr(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Kr(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}}(r):r.fieldFilter!==void 0?function(i){return ve.create(Kr(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(a=>yp(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}}(i.compositeFilter.op))}(r):yt(30097,{filter:r})}function C1(r){return g1[r]}function D1(r){return p1[r]}function x1(r){return y1[r]}function Yr(r){return{fieldPath:r.canonicalString()}}function Kr(r){return ze.fromServerFormat(r.fieldPath)}function _p(r){return r instanceof ve?function(i){if(i.op==="=="){if(Dg(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NAN"}};if(Cg(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dg(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NOT_NAN"}};if(Cg(i.value))return{unaryFilter:{field:Yr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yr(i.field),op:D1(i.op),value:i.value}}}(r):r instanceof Ln?function(i){const a=i.getFilters().map(o=>_p(o));return a.length===1?a[0]:{compositeFilter:{op:x1(i.op),filters:a}}}(r):yt(54877,{filter:r})}function N1(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function vp(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,i,a,o,h=St.min(),d=St.min(),g=je.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.yt=e}}function M1(r){const e=R1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Eh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.Cn=new U1}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Xi.min())}updateCollectionGroup(e,i,a){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class U1{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Se(Zt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Se(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ep=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Ep,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Xr(0)}static cr(){return new Xr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="LruGarbageCollector",L1=1048576;function Ap([r,e],[i,a]){const o=Vt(r,i);return o===0?Vt(e,a):o}class z1{constructor(e){this.Ir=e,this.buffer=new Se(Ap),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ap(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class P1{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(Tp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>Y(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){qr(i)?ot(Tp,"Ignoring IndexedDB error during garbage collection: ",i):yield Br(i)}yield this.Vr(3e5)}))}}class j1{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Po.ce);const a=new z1(i);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(wp)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wp):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,v,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(a=A,g=Date.now(),this.removeTargets(e,a,i))).next(A=>(h=A,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(A=>(_=Date.now(),Pr()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${A} documents in `+(_-v)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A})))}}function k1(r,e){return new j1(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.changes=new Gs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&dl(a.mutation,o,Un.empty(),Bt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Mt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Mt()){const o=Fs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=ul();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=Fs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Mt()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=wi();const d=cl(),g=function(){return cl()}();return i.forEach((v,_)=>{const T=a.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Qs)?h=h.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),dl(T.mutation,_,T.mutation.getFieldMask(),Bt.now())):d.set(_.key,Un.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,T)=>d.set(_,T)),i.forEach((_,T)=>{var A;return g.set(_,new q1(T,(A=d.get(_))!=null?A:null))}),g))}recalculateAndSaveOverlays(e,i){const a=cl();let o=new re((d,g)=>d-g),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let T=a.get(v)||Un.empty();T=g.applyToLocalView(_,T),a.set(v,T);const A=(o.get(g.batchId)||Mt()).add(v);o=o.insert(g.batchId,A)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,T=v.value,A=Qg();T.forEach(N=>{if(!h.has(N)){const G=Wg(i.get(N),a.get(N));G!==null&&A.set(N,G),h=h.add(N)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return J.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Bg(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):J.resolve(Fs());let g=nl,v=h;return d.next(_=>J.forEach(_,(T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),h.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(N=>{v=v.insert(T,N)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Mt())).next(T=>({batchId:g,changes:Fg(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new mt(i)).next(a=>{let o=ul();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=ul();return this.indexManager.getCollectionParents(e,h).next(g=>J.forEach(g,v=>{const _=function(A,N){return new Fr(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next(T=>{T.forEach((A,N)=>{d=d.insert(A,N)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((v,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ye.newInvalidDocument(T)))});let g=ul();return d.forEach((v,_)=>{const T=h.get(v);T!==void 0&&dl(T.mutation,_,Un.empty(),Bt.now()),$o(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Wn(o.createTime)}}(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:M1(o.bundledQuery),readTime:Wn(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.overlays=new re(mt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Fs();return J.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.St(e,i,h)}),J.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(e,i,a){const o=Fs(),h=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new re((_,T)=>_-T);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let T=h.get(_.largestBatchId);T===null&&(T=Fs(),h=h.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Fs(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=o)););return J.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new u1(i,a));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.Qr=new Se(Ne.$r),this.Ur=new Se(Ne.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.Gr(new Ne(e,i))}zr(e,i){e.forEach(a=>this.removeReference(a,i))}jr(e){const i=new mt(new Zt([])),a=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.Ur.forEachInRange([a,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new mt(new Zt([])),a=new Ne(i,e),o=new Ne(i,e+1);let h=Mt();return this.Ur.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return mt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||mt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Se(Ne.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new o1(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?ch:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(Vt);return i.forEach(o=>{const h=new Ne(o,0),d=new Ne(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{a=a.add(g.Yr)})}),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;mt.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new mt(h),0);let g=new Se(Vt);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)},d),J.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,o=>{const h=new Ne(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,i){const a=new Ne(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.ri=e,this.docs=function(){return new re(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let a=wi();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))}),J.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=wi();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:T}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||AT(TT(T),a)<=0||(o.has(T.key)||$o(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(e,i,a,o){yt(9500)}ii(e,i){return J.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new X1(this)}getSize(e){return J.resolve(this.size)}}class X1 extends B1{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.persistence=e,this.si=new Gs(i=>ph(i),yh),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Nh,this.targetCount=0,this.ai=Xr.ur()}forEachTarget(e,i){return this.si.forEach((a,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Xr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),J.waitFor(h).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),J.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,i){this.ui={},this.overlays={},this.ci=new Po(0),this.li=!1,this.li=!0,this.hi=new Q1,this.referenceDelegate=e(this),this.Pi=new $1(this),this.indexManager=new O1,this.remoteDocumentCache=function(o){return new K1(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new V1(i),this.Ii=new G1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new F1,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new Y1(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ot("MemoryPersistence","Starting transaction:",e);const o=new Z1(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return J.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,i)))}}class Z1 extends bT{constructor(e){super(),this.currentSequenceNumber=e}}class Vh{constructor(e){this.persistence=e,this.Ri=new Nh,this.Vi=null}static mi(e){return new Vh(e)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,a=>{const o=mt.fromPath(a);return this.gi(e,o).next(h=>{h||i.removeEntry(o,St.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class au{constructor(e,i){this.persistence=e,this.pi=new Gs(a=>CT(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=k1(this,i)}static mi(e,i){return new au(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}wr(e){let i=0;return this.pr(e,a=>{i++}).next(()=>i)}pr(e,i){return J.forEach(this.pi,(a,o)=>this.br(e,a,o).next(h=>h?J.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(a++,h.removeEntry(d,St.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qo(e.data.value)),i}br(e,i,a){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Mh(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Qw()?8:RT(Hw())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new J1;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,a,o){return a.documentReadCount<this.fs?(Pr()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Qr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Pr()<=Ut.DEBUG&&ot("QueryEngine","Query:",Qr(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Pr()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Qr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):J.resolve())}ys(e,i){if(kg(i))return J.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Eh(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,Eh(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,a,o){return kg(i)||o.isEqual(St.min())?J.resolve(null):this.ps.getDocuments(e,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?J.resolve(null):(Pr()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qr(i)),this.vs(e,d,i,ET(o,nl)).next(g=>g))})}Ds(e,i){let a=new Se(Hg(e));return i.forEach((o,h)=>{$o(e,h)&&(a=a.add(h))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return Pr()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Qr(i)),this.ps.getDocumentsMatchingQuery(e,i,Xi.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh="LocalStore",tA=3e8;class eA{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new re(Vt),this.xs=new Gs(h=>ph(h),yh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H1(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function nA(r,e,i,a){return new eA(r,e,i,a)}function bp(r,e){return Y(this,null,function*(){const i=Rt(r);return yield i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let v=Mt();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}for(const _ of h){g.push(_.batchId);for(const T of _.mutations)v=v.add(T.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})})}function iA(r,e){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,v,_,T){const A=_.batch,N=A.keys();let G=J.resolve();return N.forEach(tt=>{G=G.next(()=>T.getEntry(v,tt)).next(rt=>{const W=_.docVersions.get(tt);kt(W!==null,48541),rt.version.compareTo(W)<0&&(A.applyToRemoteDocument(rt,_),rt.isValidDocument()&&(rt.setReadTime(_.commitVersion),T.addEntry(rt)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(v,A))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let v=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Rp(r){const e=Rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function sA(r,e){const i=Rt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((T,A)=>{const N=o.get(A);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,A).next(()=>i.Pi.addMatchingKeys(h,T.addedDocuments,A)));let G=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?G=G.withResumeToken(je.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,a)),o=o.insert(A,G),function(rt,W,bt){return rt.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=tA?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0}(N,G,T)&&g.push(i.Pi.updateTargetData(h,G))});let v=wi(),_=Mt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(rA(h,d,e.documentUpdates).next(T=>{v=T.ks,_=T.qs})),!a.isEqual(St.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next(A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(T)}return J.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=o,h))}function rA(r,e,i){let a=Mt(),o=Mt();return i.forEach(h=>a=a.add(h)),e.getEntries(r,a).next(h=>{let d=wi();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(St.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):ot(Oh,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:o}})}function aA(r,e){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ch),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function lA(r,e){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Pi.getTargetData(a,e).next(h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(a).next(d=>(o=new Wi(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a})}function Uh(r,e,i){return Y(this,null,function*(){const a=Rt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||(yield a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!qr(d))throw d;ot(Oh,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)})}function Ip(r,e,i){const a=Rt(r);let o=St.min(),h=Mt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,T){const A=Rt(v),N=A.xs.get(T);return N!==void 0?J.resolve(A.Ms.get(N)):A.Pi.getTargetData(_,T)}(a,d,Jn(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Mt())).next(g=>(oA(a,YT(e),g),{documents:g,Qs:h})))}function oA(r,e,i){let a=r.Os.get(e)||St.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),r.Os.set(e,a)}class Cp{constructor(){this.activeTargetIds=WT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uA{constructor(){this.Mo=new Cp,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Cp,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="ConnectivityMonitor";class xp{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Dp,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(Dp,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function Lh(){return lu===null?lu=function(){return 268435456+Math.round(2147483648*Math.random())}():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="RestConnection",hA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Ho?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=Lh(),g=this.zo(e,i.toUriEncodedString());ot(zh,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),T=Yc(_);return this.Jo(e,g,v,a,T).then(A=>(ot(zh,`Received RPC '${e}' ${d}: `,A),A),A=>{throw jr(zh,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",a),A})}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const a=hA[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class mA extends fA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=Lh();return new Promise((g,v)=>{const _=new $m;_.setWithCredentials(!0),_.listenOnce(Zm.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Lo.NO_ERROR:const A=_.getResponseJson();ot(Ke,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Lo.TIMEOUT:ot(Ke,`RPC '${e}' ${d} timed out`),v(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const N=_.getStatus();if(ot(Ke,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G==null?void 0:G.error;if(tt&&tt.status&&tt.message){const rt=function(bt){const Tt=bt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Tt)>=0?Tt:X.UNKNOWN}(tt.status);v(new lt(rt,tt.message))}else v(new lt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new lt(X.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Ke,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);ot(Ke,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,a,15)})}T_(e,i,a){const o=Lh(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tg(),g=Wm(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const T=h.join("");ot(Ke,`Creating RPC '${e}' stream ${o}: ${T}`,v);const A=d.createWebChannel(T,v);this.I_(A);let N=!1,G=!1;const tt=new dA({Yo:W=>{G?ot(Ke,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(N||(ot(Ke,`Opening RPC '${e}' stream ${o} transport.`),A.open(),N=!0),ot(Ke,`RPC '${e}' stream ${o} sending:`,W),A.send(W))},Zo:()=>A.close()}),rt=(W,bt,Tt)=>{W.listen(bt,ct=>{try{Tt(ct)}catch(ht){setTimeout(()=>{throw ht},0)}})};return rt(A,Wa.EventType.OPEN,()=>{G||(ot(Ke,`RPC '${e}' stream ${o} transport opened.`),tt.o_())}),rt(A,Wa.EventType.CLOSE,()=>{G||(G=!0,ot(Ke,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(A))}),rt(A,Wa.EventType.ERROR,W=>{G||(G=!0,jr(Ke,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),tt.a_(new lt(X.UNAVAILABLE,"The operation could not be completed")))}),rt(A,Wa.EventType.MESSAGE,W=>{var bt;if(!G){const Tt=W.data[0];kt(!!Tt,16349);const ct=Tt,ht=(ct==null?void 0:ct.error)||((bt=ct[0])==null?void 0:bt.error);if(ht){ot(Ke,`RPC '${e}' stream ${o} received error:`,ht);const nt=ht.status;let _t=function(I){const M=we[I];if(M!==void 0)return rp(M)}(nt),C=ht.message;_t===void 0&&(_t=X.INTERNAL,C="Unknown error status: "+nt+" with message "+ht.message),G=!0,tt.a_(new lt(_t,C)),A.close()}else ot(Ke,`RPC '${e}' stream ${o} received:`,Tt),tt.u_(Tt)}}),rt(g,Jm.STAT_EVENT,W=>{W.stat===rh.PROXY?ot(Ke,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===rh.NOPROXY&&ot(Ke,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{tt.__()},0),tt}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Ph(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(r){return new _1(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="PersistentStream";class Mp{constructor(e,i,a,o,h,d,g,v){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Np(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return Y(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}k_(){return Y(this,null,function*(){if(this.O_())return this.close(0)})}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,i){return Y(this,null,function*(){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(vi(i.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.r_(i)})}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===i&&this.G_(a,o)},a=>{e(()=>{const o=new lt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(()=>Y(this,null,function*(){this.state=0,this.start()}))}z_(e){return ot(Vp,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ot(Vp,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gA extends Mp{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=E1(this.serializer,e),a=function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?Wn(d.readTime):St.min()}(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=xh(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=_h(v)?{documents:S1(h,v)}:{query:b1(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=fp(h,d.resumeToken);const _=bh(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=ru(h,d.snapshotVersion.toTimestamp());const _=bh(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=I1(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=xh(this.serializer),i.removeTarget=e,this.q_(i)}}class pA extends Mp{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return kt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){kt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=A1(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=xh(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>T1(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{}class _A extends yA{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,Ih(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(X.UNKNOWN,h.toString())})}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,Ih(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(X.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class wA{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(()=>Y(this,null,function*(){Ks(this)&&(ot(Ys,"Restarting streams for network reachability change."),yield function(v){return Y(this,null,function*(){const _=Rt(v);_.Ea.add(4),yield yl(_),_.Ra.set("Unknown"),_.Ea.delete(4),yield uu(_)})}(this))}))}),this.Ra=new vA(a,o)}}function uu(r){return Y(this,null,function*(){if(Ks(r))for(const e of r.da)yield e(!0)})}function yl(r){return Y(this,null,function*(){for(const e of r.da)yield e(!1)})}function Op(r,e){const i=Rt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),qh(i)?Bh(i):$r(i).O_()&&kh(i,e))}function jh(r,e){const i=Rt(r),a=$r(i);i.Ia.delete(e),a.O_()&&Up(i,e),i.Ia.size===0&&(a.O_()?a.L_():Ks(i)&&i.Ra.set("Unknown"))}function kh(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}$r(r).Y_(e)}function Up(r,e){r.Va.Ue(e),$r(r).Z_(e)}function Bh(r){r.Va=new m1({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),$r(r).start(),r.Ra.ua()}function qh(r){return Ks(r)&&!$r(r).x_()&&r.Ia.size>0}function Ks(r){return Rt(r).Ea.size===0}function Lp(r){r.Va=void 0}function EA(r){return Y(this,null,function*(){r.Ra.set("Online")})}function TA(r){return Y(this,null,function*(){r.Ia.forEach((e,i)=>{kh(r,e)})})}function AA(r,e){return Y(this,null,function*(){Lp(r),qh(r)?(r.Ra.ha(e),Bh(r)):r.Ra.set("Unknown")})}function SA(r,e,i){return Y(this,null,function*(){if(r.Ra.set("Online"),e instanceof up&&e.state===2&&e.cause)try{yield function(o,h){return Y(this,null,function*(){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})}(r,e)}catch(a){ot(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield cu(r,a)}else if(e instanceof iu?r.Va.Ze(e):e instanceof op?r.Va.st(e):r.Va.tt(e),!i.isEqual(St.min()))try{const a=yield Rp(r.localStore);i.compareTo(a)>=0&&(yield function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const T=h.Ia.get(_);T&&h.Ia.set(_,T.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const T=h.Ia.get(v);if(!T)return;h.Ia.set(v,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),Up(h,v);const A=new Wi(T.target,v,_,T.sequenceNumber);kh(h,A)}),h.remoteSyncer.applyRemoteEvent(g)}(r,i))}catch(a){ot(Ys,"Failed to raise snapshot:",a),yield cu(r,a)}})}function cu(r,e,i){return Y(this,null,function*(){if(!qr(e))throw e;r.Ea.add(1),yield yl(r),r.Ra.set("Offline"),i||(i=()=>Rp(r.localStore)),r.asyncQueue.enqueueRetryable(()=>Y(null,null,function*(){ot(Ys,"Retrying IndexedDB access"),yield i(),r.Ea.delete(1),yield uu(r)}))})}function zp(r,e){return e().catch(i=>cu(r,i,e))}function hu(r){return Y(this,null,function*(){const e=Rt(r),i=ts(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ch;for(;bA(e);)try{const o=yield aA(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,RA(e,o)}catch(o){yield cu(e,o)}Pp(e)&&jp(e)})}function bA(r){return Ks(r)&&r.Ta.length<10}function RA(r,e){r.Ta.push(e);const i=ts(r);i.O_()&&i.X_&&i.ea(e.mutations)}function Pp(r){return Ks(r)&&!ts(r).x_()&&r.Ta.length>0}function jp(r){ts(r).start()}function IA(r){return Y(this,null,function*(){ts(r).ra()})}function CA(r){return Y(this,null,function*(){const e=ts(r);for(const i of r.Ta)e.ea(i.mutations)})}function DA(r,e,i){return Y(this,null,function*(){const a=r.Ta.shift(),o=Ah.from(a,e,i);yield zp(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),yield hu(r)})}function xA(r,e){return Y(this,null,function*(){e&&ts(r).X_&&(yield function(a,o){return Y(this,null,function*(){if(function(d){return h1(d)&&d!==X.ABORTED}(o.code)){const h=a.Ta.shift();ts(a).B_(),yield zp(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield hu(a)}})}(r,e)),Pp(r)&&jp(r)})}function kp(r,e){return Y(this,null,function*(){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),ot(Ys,"RemoteStore received new credentials");const a=Ks(i);i.Ea.add(3),yield yl(i),a&&i.Ra.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),yield uu(i)})}function NA(r,e){return Y(this,null,function*(){const i=Rt(r);e?(i.Ea.delete(2),yield uu(i)):e||(i.Ea.add(2),yield yl(i),i.Ra.set("Unknown"))})}function $r(r){return r.ma||(r.ma=function(i,a,o){const h=Rt(i);return h.sa(),new gA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{Xo:EA.bind(null,r),t_:TA.bind(null,r),r_:AA.bind(null,r),H_:SA.bind(null,r)}),r.da.push(e=>Y(null,null,function*(){e?(r.ma.B_(),qh(r)?Bh(r):r.Ra.set("Unknown")):(yield r.ma.stop(),Lp(r))}))),r.ma}function ts(r){return r.fa||(r.fa=function(i,a,o){const h=Rt(i);return h.sa(),new pA(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:IA.bind(null,r),r_:xA.bind(null,r),ta:CA.bind(null,r),na:DA.bind(null,r)}),r.da.push(e=>Y(null,null,function*(){e?(r.fa.B_(),yield hu(r)):(yield r.fa.stop(),r.Ta.length>0&&(ot(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Hh(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gh(r,e){if(vi("AsyncQueue",`${e}: ${r}`),qr(r))return new lt(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{static emptySet(e){return new Zr(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=ul(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Zr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Zr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(){this.ga=new re(mt.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):yt(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,a)=>{e.push(a)}),e}}class Jr{constructor(e,i,a,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Jr(e,i,Zr.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class MA{constructor(){this.queries=qp(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Rt(i),h=o.queries;o.queries=qp(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(a)})})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function qp(){return new Gs(r=>qg(r),Xo)}function OA(r,e){return Y(this,null,function*(){const i=Rt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new VA,a=e.Da()?0:1);try{switch(a){case 0:h.wa=yield i.onListen(o,!0);break;case 1:h.wa=yield i.onListen(o,!1);break;case 2:yield i.onFirstRemoteStoreListen(o)}}catch(d){const g=Gh(d,`Initialization of query '${Qr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Fh(i)})}function UA(r,e){return Y(this,null,function*(){const i=Rt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}})}function LA(r,e){const i=Rt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Fh(i)}function zA(r,e,i){const a=Rt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Fh(r){r.Ca.forEach(e=>{e.next()})}var Qh,Hp;(Hp=Qh||(Qh={})).Ma="default",Hp.Cache="cache";class PA{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Jr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Jr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.key=e}}class Fp{constructor(e){this.key=e}}class jA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Hg(e),this.tu=new Zr(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new Bp,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const N=o.get(T),G=$o(this.query,A)?A:null,tt=!!N&&this.mutatedKeys.has(N.key),rt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;N&&G?N.data.isEqual(G.data)?tt!==rt&&(a.track({type:3,doc:G}),W=!0):this.su(N,G)||(a.track({type:2,doc:G}),W=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(g=!0)):!N&&G?(a.track({type:0,doc:G}),W=!0):N&&!G&&(a.track({type:1,doc:N}),W=!0,(v||_)&&(g=!0)),W&&(G?(d=d.add(G),h=rt?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((T,A)=>function(G,tt){const rt=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:W})}};return rt(G)-rt(tt)}(T.type,A.type)||this.eu(T.doc,A.doc)),this.ou(a),o=o!=null?o:!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Jr(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return e.forEach(a=>{this.Xa.has(a)||i.push(new Fp(a))}),this.Xa.forEach(a=>{e.has(a)||i.push(new Gp(a))}),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Jr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yh="SyncEngine";class kA{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class BA{constructor(e){this.key=e,this.hu=!1}}class qA{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gs(g=>qg(g),Xo),this.Iu=new Map,this.Eu=new Set,this.du=new re(mt.comparator),this.Au=new Map,this.Ru=new Nh,this.Vu={},this.mu=new Map,this.fu=Xr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function HA(r,e,i=!0){return Y(this,null,function*(){const a=Wp(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=yield Qp(a,e,i,!0),o})}function GA(r,e){return Y(this,null,function*(){const i=Wp(r);yield Qp(i,e,!0,!1)})}function Qp(r,e,i,a){return Y(this,null,function*(){const o=yield lA(r.localStore,Jn(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=yield FA(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&Op(r.remoteStore,o),g})}function FA(r,e,i,a,o){return Y(this,null,function*(){r.pu=(A,N,G)=>function(rt,W,bt,Tt){return Y(this,null,function*(){let ct=W.view.ru(bt);ct.Cs&&(ct=yield Ip(rt.localStore,W.query,!1).then(({documents:C})=>W.view.ru(C,ct)));const ht=Tt&&Tt.targetChanges.get(W.targetId),nt=Tt&&Tt.targetMismatches.get(W.targetId)!=null,_t=W.view.applyChanges(ct,rt.isPrimaryClient,ht,nt);return Jp(rt,W.targetId,_t.au),_t.snapshot})}(r,A,N,G);const h=yield Ip(r.localStore,e,!0),d=new jA(e,h.Qs),g=d.ru(h.documents),v=pl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,v);Jp(r,i,_.au);const T=new kA(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot})}function QA(r,e,i){return Y(this,null,function*(){const a=Rt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter(d=>!Xo(d,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Uh(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&jh(a.remoteStore,o.targetId),Kh(a,o.targetId)}).catch(Br))):(Kh(a,o.targetId),yield Uh(a.localStore,o.targetId,!0))})}function YA(r,e){return Y(this,null,function*(){const i=Rt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),jh(i.remoteStore,a.targetId))})}function KA(r,e,i){return Y(this,null,function*(){const a=eS(r);try{const o=yield function(d,g){const v=Rt(d),_=Bt.now(),T=g.reduce((G,tt)=>G.add(tt.key),Mt());let A,N;return v.persistence.runTransaction("Locally write mutations","readwrite",G=>{let tt=wi(),rt=Mt();return v.Ns.getEntries(G,T).next(W=>{tt=W,tt.forEach((bt,Tt)=>{Tt.isValidDocument()||(rt=rt.add(bt))})}).next(()=>v.localDocuments.getOverlayedDocuments(G,tt)).next(W=>{A=W;const bt=[];for(const Tt of g){const ct=a1(Tt,A.get(Tt.key).overlayedDocument);ct!=null&&bt.push(new Qs(Tt.key,ct,xg(ct.value.mapValue),Ei.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,bt,g)}).next(W=>{N=W;const bt=W.applyToLocalDocumentSet(A,rt);return v.documentOverlayCache.saveOverlays(G,W.batchId,bt)})}).then(()=>({batchId:N.batchId,changes:Fg(A)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Vt)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_}(a,o.batchId,i),yield _l(a,o.changes),yield hu(a.remoteStore)}catch(o){const h=Gh(o,"Failed to persist write");i.reject(h)}})}function Yp(r,e){return Y(this,null,function*(){const i=Rt(r);try{const a=yield sA(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))}),yield _l(i,a,e)}catch(a){yield Br(a)}})}function Kp(r,e,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=Rt(d);v.onlineState=g;let _=!1;v.queries.forEach((T,A)=>{for(const N of A.Sa)N.va(g)&&(_=!0)}),_&&Fh(v)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function XA(r,e,i){return Y(this,null,function*(){const a=Rt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new re(mt.comparator);d=d.insert(h,Ye.newNoDocument(h,St.min()));const g=Mt().add(h),v=new nu(St.min(),new Map,new re(Vt),d,g);yield Yp(a,v),a.du=a.du.remove(h),a.Au.delete(e),Xh(a)}else yield Uh(a.localStore,e,!1).then(()=>Kh(a,e,i)).catch(Br)})}function $A(r,e){return Y(this,null,function*(){const i=Rt(r),a=e.batch.batchId;try{const o=yield iA(i.localStore,e);$p(i,a,null),Xp(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),yield _l(i,o)}catch(o){yield Br(o)}})}function ZA(r,e,i){return Y(this,null,function*(){const a=Rt(r);try{const o=yield function(d,g){const v=Rt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return v.mutationQueue.lookupMutationBatch(_,g).next(A=>(kt(A!==null,37113),T=A.keys(),v.mutationQueue.removeMutationBatch(_,A))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>v.localDocuments.getDocuments(_,T))})}(a.localStore,e);$p(a,e,i),Xp(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),yield _l(a,o)}catch(o){yield Br(o)}})}function Xp(r,e){(r.mu.get(e)||[]).forEach(i=>{i.resolve()}),r.mu.delete(e)}function $p(r,e,i){const a=Rt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Kh(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(a=>{r.Ru.containsKey(a)||Zp(r,a)})}function Zp(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(jh(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Xh(r))}function Jp(r,e,i){for(const a of i)a instanceof Gp?(r.Ru.addReference(a.key,e),JA(r,a)):a instanceof Fp?(ot(Yh,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||Zp(r,a.key)):yt(19791,{wu:a})}function JA(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(Yh,"New document in limbo: "+i),r.Eu.add(a),Xh(r))}function Xh(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new mt(Zt.fromString(e)),a=r.fu.next();r.Au.set(a,new BA(i)),r.du=r.du.insert(i,a),Op(r.remoteStore,new Wi(Jn(vh(i.path)),a,"TargetPurposeLimboResolution",Po.ce))}}function _l(r,e,i){return Y(this,null,function*(){const a=Rt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((g,v)=>{d.push(a.pu(v,e,i).then(_=>{var T;if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:(T=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:T.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Mh.As(v.targetId,_);h.push(A)}}))}),yield Promise.all(d),a.Pu.H_(o),yield function(v,_){return Y(this,null,function*(){const T=Rt(v);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>J.forEach(_,N=>J.forEach(N.Es,G=>T.persistence.referenceDelegate.addReference(A,N.targetId,G)).next(()=>J.forEach(N.ds,G=>T.persistence.referenceDelegate.removeReference(A,N.targetId,G)))))}catch(A){if(!qr(A))throw A;ot(Oh,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const G=T.Ms.get(N),tt=G.snapshotVersion,rt=G.withLastLimboFreeSnapshotVersion(tt);T.Ms=T.Ms.insert(N,rt)}}})}(a.localStore,h))})}function WA(r,e){return Y(this,null,function*(){const i=Rt(r);if(!i.currentUser.isEqual(e)){ot(Yh,"User change. New user:",e.toKey());const a=yield bp(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(v=>{v.reject(new lt(X.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield _l(i,a.Ls)}})}function tS(r,e){const i=Rt(r),a=i.Au.get(e);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function Wp(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XA.bind(null,e),e.Pu.H_=LA.bind(null,e.eventManager),e.Pu.yu=zA.bind(null,e.eventManager),e}function eS(r){const e=Rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$A.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZA.bind(null,e),e}class fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return Y(this,null,function*(){this.serializer=ou(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,i){return null}Mu(e,i){return null}vu(e){return nA(this.persistence,new W1,e.initialUser,this.serializer)}Cu(e){return new Sp(Vh.mi,this.serializer)}Du(e){return new uA}terminate(){return Y(this,null,function*(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}fu.provider={build:()=>new fu};class nS extends fu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){kt(this.persistence.referenceDelegate instanceof au,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new P1(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Sp(a=>au.mi(a,i),this.serializer)}}class $h{initialize(e,i){return Y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kp(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=WA.bind(null,this.syncEngine),yield NA(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new MA}()}createDatastore(e){const i=ou(e.databaseInfo.databaseId),a=function(h){return new mA(h)}(e.databaseInfo);return function(h,d,g,v){return new _A(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new wA(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Kp(this.syncEngine,i,0),function(){return xp.v()?new xp:new cA}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,T){const A=new qA(o,h,d,g,v,_);return T&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return Y(this,null,function*(){var e,i;yield function(o){return Y(this,null,function*(){const h=Rt(o);ot(Ys,"RemoteStore shutting down."),h.Ea.add(5),yield yl(h),h.Aa.shutdown(),h.Ra.set("Unknown")})}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()})}}$h.provider={build:()=>new $h};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class sS{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=lh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,d=>Y(this,null,function*(){ot(es,"Received user=",d.uid),yield this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,d=>(ot(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>Y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Gh(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}function Zh(r,e){return Y(this,null,function*(){r.asyncQueue.verifyOperationInProgress(),ot(es,"Initializing OfflineComponentProvider");const i=r.configuration;yield e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(o=>Y(null,null,function*(){a.isEqual(o)||(yield bp(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e})}function ty(r,e){return Y(this,null,function*(){r.asyncQueue.verifyOperationInProgress();const i=yield rS(r);ot(es,"Initializing OnlineComponentProvider"),yield e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>kp(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>kp(e.remoteStore,o)),r._onlineComponents=e})}function rS(r){return Y(this,null,function*(){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(es,"Using user provided OfflineComponentProvider");try{yield Zh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;jr("Error using user provided cache. Falling back to memory cache: "+i),yield Zh(r,new fu)}}else ot(es,"Using default OfflineComponentProvider"),yield Zh(r,new nS(void 0));return r._offlineComponents})}function ey(r){return Y(this,null,function*(){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(es,"Using user provided OnlineComponentProvider"),yield ty(r,r._uninitializedComponentsProvider._online)):(ot(es,"Using default OnlineComponentProvider"),yield ty(r,new $h))),r._onlineComponents})}function aS(r){return ey(r).then(e=>e.syncEngine)}function ny(r){return Y(this,null,function*(){const e=yield ey(r),i=e.eventManager;return i.onListen=HA.bind(null,e.syncEngine),i.onUnlisten=QA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YA.bind(null,e.syncEngine),i})}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry="firestore.googleapis.com",ay=!0;class ly{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ry,this.ssl=ay}else this.host=e.host,this.ssl=(i=e.ssl)!=null?i:ay;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ep;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L1)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iy((a=e.experimentalLongPollingOptions)!=null?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class du{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ly({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ly(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new cT;switch(a.type){case"firstParty":return new mT(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return Y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=sy.get(i);a&&(ot("ComponentProvider","Removing Datastore"),sy.delete(i),a.terminate())}(this),Promise.resolve()}}function lS(r,e,i,a={}){var _;r=tl(r,du);const o=Yc(e),h=r._getSettings(),d=Hi(Ae({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;o&&(Pw(`https://${g}`),qw("Firestore",!0)),h.host!==ry&&h.host!==g&&jr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Hi(Ae({},h),{host:g,ssl:o,emulatorOptions:a});if(!$a(v,d)&&(r._setSettings(v),a.mockUserToken)){let T,A;if(typeof a.mockUserToken=="string")T=a.mockUserToken,A=Qe.MOCK_USER;else{T=jw(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(N)}r._authCredentials=new hT(new sg(T,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class be{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new be(this.firestore,e,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(el(i,be._jsonSchema))return new be(e,a||null,new mt(Zt.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:_e("string",be._jsonSchemaVersion),referencePath:_e("string")};class ns extends Xs{constructor(e,i,a){super(e,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new be(this.firestore,null,new mt(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function Wr(r,e,...i){if(r=Kn(r),lg("collection","path",e),r instanceof du){const a=Zt.fromString(e,...i);return ug(a),new ns(r,null,a)}{if(!(r instanceof be||r instanceof ns))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Zt.fromString(e,...i));return ug(a),new ns(r.firestore,null,a)}}function oS(r,e,...i){if(r=Kn(r),arguments.length===1&&(e=lh.newId()),lg("doc","path",e),r instanceof du){const a=Zt.fromString(e,...i);return og(a),new be(r,null,new mt(a))}{if(!(r instanceof be||r instanceof ns))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Zt.fromString(e,...i));return og(a),new be(r.firestore,r instanceof ns?r.converter:null,new mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="AsyncQueue";class uy{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Np(this,"async_queue_retry"),this._c=()=>{const a=Ph();a&&ot(oy,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Ph();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ph();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}lc(){return Y(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qr(e))throw e;ot(oy,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",cy(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Hh.createAndSchedule(this,e,i,a,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:cy(this.nc)})}verifyOperationInProgress(){}Tc(){return Y(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function cy(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(r){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1}(r,["next","error","complete"])}class mu extends du{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new uy,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return Y(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uy(e),this._firestoreClient=void 0,yield e}})}}function uS(r,e){const i=typeof r=="object"?r:qm(),a=typeof r=="string"?r:Ho,o=Za(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=Lw("firestore");h&&lS(o,...h)}return o}function fy(r){if(r._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cS(r),r._firestoreClient}function cS(r){var a,o,h;const e=r._freezeSettings(),i=function(g,v,_,T){return new NT(g,v,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,iy(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sS(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(je.fromBase64String(e))}catch(i){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new En(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(el(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:_e("string",En._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ti._jsonSchemaVersion}}static fromJSON(e){if(el(e,ti._jsonSchema))return new ti(e.latitude,e.longitude)}}ti._jsonSchemaVersion="firestore/geoPoint/1.0",ti._jsonSchema={type:_e("string",ti._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(el(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ei(e.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:_e("string",ei._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=/^__.*__$/;class fS{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,i,this.fieldTransforms):new ml(e,this.data,i,this.fieldTransforms)}}function my(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Wh{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wh(Ae(Ae({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(my(this.Ac)&&hS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dS{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ou(e)}Cc(e,i,a,o=!1){return new Wh({Ac:e,methodName:i,Dc:a,path:ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gy(r){const e=r._freezeSettings(),i=ou(r._databaseId);return new dS(r._databaseId,!!e.ignoreUndefinedProperties,i)}function mS(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);_y("Data must be an object, but it was:",d,a);const g=py(a,d);let v,_;if(h.merge)v=new Un(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const N=pS(e,A,i);if(!d.contains(N))throw new lt(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);_S(T,N)||T.push(N)}v=new Un(T),_=d.fieldTransforms.filter(A=>v.covers(A.field))}else v=null,_=d.fieldTransforms;return new fS(new wn(g),v,_)}function gS(r,e,i,a=!1){return tf(i,r.Cc(a?4:3,e))}function tf(r,e){if(yy(r=Kn(r)))return _y("Unsupported field value:",e,r),py(r,e);if(r instanceof dy)return function(a,o){if(!my(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let v=tf(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(r,e)}return function(a,o){if((a=Kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return t1(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Bt.fromDate(a);return{timestampValue:ru(o.serializer,h)}}if(a instanceof Bt){const h=new Bt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ru(o.serializer,h)}}if(a instanceof ti)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof En)return{bytesValue:fp(o.serializer,a._byteString)};if(a instanceof be){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Rh(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ei)return function(d,g){return{mapValue:{fields:{[Ag]:{stringValue:Sg},[Fo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Th(g.serializer,_)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${zo(a)}`)}(r,e)}function py(r,e){const i={};return pg(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(r,(a,o)=>{const h=tf(o,e.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function yy(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Bt||r instanceof ti||r instanceof En||r instanceof be||r instanceof dy||r instanceof ei)}function _y(r,e,i){if(!yy(i)||!cg(i)){const a=zo(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function pS(r,e,i){if((e=Kn(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return vy(r,e);throw gu("Field path arguments must be of type string or ",r,!1,void 0,i)}const yS=new RegExp("[~\\*/\\[\\]]");function vy(r,e,i){if(e.search(yS)>=0)throw gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Jh(...e.split("."))._internalPath}catch(a){throw gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function gu(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new lt(X.INVALID_ARGUMENT,g+r+v)}function _S(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(ef("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class vS extends wy{data(){return super.data()}}function ef(r,e){return typeof e=="string"?vy(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nf{}class Ey extends nf{}function ES(r,e,...i){let a=[];e instanceof nf&&a.push(e),a=a.concat(i),function(h){const d=h.filter(v=>v instanceof rf).length,g=h.filter(v=>v instanceof sf).length;if(d>1||d>0&&g>0)throw new lt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class sf extends Ey{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new sf(e,i,a)}_apply(e){const i=this._parse(e);return Sy(e._query,i),new Xs(e.firestore,e.converter,wh(e._query,i))}_parse(e){const i=gy(e.firestore);return function(h,d,g,v,_,T,A){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ay(A,T);const tt=[];for(const rt of A)tt.push(Ty(v,h,rt));N={arrayValue:{values:tt}}}else N=Ty(v,h,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ay(A,T),N=gS(g,d,A,T==="in"||T==="not-in");return ve.create(_,T,N)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class rf extends nf{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new rf(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)Sy(d,v),d=wh(d,v)}(e._query,i),new Xs(e.firestore,e.converter,wh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class af extends Ey{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new af(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new lt(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ll(h,d)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Fr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function TS(r,e="asc"){const i=e,a=ef("orderBy",r);return af._create(a,i)}function Ty(r,e,i){if(typeof(i=Kn(i))=="string"){if(i==="")throw new lt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bg(e)&&i.indexOf("/")!==-1)throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Zt.fromString(i));if(!mt.isDocumentKey(a))throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ig(r,new mt(a))}if(i instanceof be)return Ig(r,i._key);throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zo(i)}.`)}function Ay(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sy(r,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new lt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class AS{convertValue(e,i="none"){switch(Ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Hs(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var a,o,h;const i=(h=(o=(a=e.fields)==null?void 0:a[Fo].arrayValue)==null?void 0:o.values)==null?void 0:h.map(d=>he(d.doubleValue));return new ei(i)}convertGeoPoint(e){return new ti(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=qo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const i=$i(e);return new Bt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Zt.fromString(e);kt(vp(a),9688,{name:e});const o=new sl(a.get(1),a.get(3)),h=new mt(a.popFirst(5));return o.isEqual(i)||vi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class vl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $s extends wy{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(ef("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=$s._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}$s._jsonSchemaVersion="firestore/documentSnapshot/1.0",$s._jsonSchema={type:_e("string",$s._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class pu extends $s{data(e={}){return super.data(e)}}class ta{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new pu(this._firestore,this._userDataWriter,a.key,a,new vl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new pu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new pu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:bS(g.type),doc:v,oldIndex:_,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bS(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:_e("string",ta._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class by extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new be(this.firestore,null,i)}}function wl(r,e){const i=tl(r.firestore,mu),a=oS(r),o=SS(r.converter,e);return IS(i,[mS(gy(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Ei.exists(!1))]).then(()=>a)}function RS(r,...e){var v,_,T;r=Kn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||hy(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(hy(e[a])){const A=e[a];e[a]=(v=A.next)==null?void 0:v.bind(A),e[a+1]=(_=A.error)==null?void 0:_.bind(A),e[a+2]=(T=A.complete)==null?void 0:T.bind(A)}let h,d,g;if(r instanceof be)d=tl(r.firestore,mu),g=vh(r._key.path),h={next:A=>{e[a]&&e[a](CS(d,r,A))},error:e[a+1],complete:e[a+2]};else{const A=tl(r,Xs);d=tl(A.firestore,mu),g=A._query;const N=new by(d);h={next:G=>{e[a]&&e[a](new ta(d,N,A,G))},error:e[a+1],complete:e[a+2]},wS(r._query)}return function(N,G,tt,rt){const W=new iS(rt),bt=new PA(G,W,tt);return N.asyncQueue.enqueueAndForget(()=>Y(null,null,function*(){return OA(yield ny(N),bt)})),()=>{W.Nu(),N.asyncQueue.enqueueAndForget(()=>Y(null,null,function*(){return UA(yield ny(N),bt)}))}}(fy(d),g,o,h)}function IS(r,e){return function(a,o){const h=new qs;return a.asyncQueue.enqueueAndForget(()=>Y(null,null,function*(){return KA(yield aS(a),o,h)})),h.promise}(fy(r),e)}function CS(r,e,i){const a=i.docs.get(e._key),o=new by(r);return new $s(r,o,e._key,a,new vl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){zr=o})(WE),Qi(new yi("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new mu(new fT(a.getProvider("auth-internal")),new gT(d,a.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(_.options.projectId,T)}(d,o),d);return h=Ae({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Xn(eg,ng,e),Xn(eg,ng,"esm2020")})();var DS="firebase",xS="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(DS,xS,"app");const Ry="@firebase/installations",lf="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=1e4,Cy=`w:${lf}`,Dy="FIS_v2",NS="https://firebaseinstallations.googleapis.com/v1",VS=3600*1e3,MS="installations",OS="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zs=new Mo(MS,OS,US);function xy(r){return r instanceof Gi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny({projectId:r}){return`${NS}/projects/${r}/installations`}function Vy(r){return{token:r.token,requestStatus:2,expiresIn:zS(r.expiresIn),creationTime:Date.now()}}function My(r,e){return Y(this,null,function*(){const a=(yield e.json()).error;return Zs.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})})}function Oy({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function LS(r,{refreshToken:e}){const i=Oy(r);return i.append("Authorization",PS(e)),i}function Uy(r){return Y(this,null,function*(){const e=yield r();return e.status>=500&&e.status<600?r():e})}function zS(r){return Number(r.replace("s","000"))}function PS(r){return`${Dy} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(a,o){return Y(this,arguments,function*({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const h=Ny(r),d=Oy(r),g=e.getImmediate({optional:!0});if(g){const A=yield g.getHeartbeatsHeader();A&&d.append("x-firebase-client",A)}const v={fid:i,authVersion:Dy,appId:r.appId,sdkVersion:Cy},_={method:"POST",headers:d,body:JSON.stringify(v)},T=yield Uy(()=>fetch(h,_));if(T.ok){const A=yield T.json();return{fid:A.fid||i,registrationStatus:2,refreshToken:A.refreshToken,authToken:Vy(A.authToken)}}else throw yield My("Create Installation",T)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=/^[cdef][\w-]{21}$/,of="";function qS(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=HS(r);return BS.test(i)?i:of}catch(r){return of}}function HS(r){return kS(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;function Py(r,e){const i=yu(r);jy(i,e),GS(i,e)}function jy(r,e){const i=zy.get(r);if(i)for(const a of i)a(e)}function GS(r,e){const i=FS();i&&i.postMessage({key:r,fid:e}),QS()}let Js=null;function FS(){return!Js&&"BroadcastChannel"in self&&(Js=new BroadcastChannel("[Firebase] FID Change"),Js.onmessage=r=>{jy(r.data.key,r.data.fid)}),Js}function QS(){zy.size===0&&Js&&(Js.close(),Js=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="firebase-installations-database",KS=1,Ws="firebase-installations-store";let uf=null;function cf(){return uf||(uf=zm(YS,KS,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ws)}}})),uf}function _u(r,e){return Y(this,null,function*(){const i=yu(r),o=(yield cf()).transaction(Ws,"readwrite"),h=o.objectStore(Ws),d=yield h.get(i);return yield h.put(e,i),yield o.done,(!d||d.fid!==e.fid)&&Py(r,e.fid),e})}function ky(r){return Y(this,null,function*(){const e=yu(r),a=(yield cf()).transaction(Ws,"readwrite");yield a.objectStore(Ws).delete(e),yield a.done})}function vu(r,e){return Y(this,null,function*(){const i=yu(r),o=(yield cf()).transaction(Ws,"readwrite"),h=o.objectStore(Ws),d=yield h.get(i),g=e(d);return g===void 0?yield h.delete(i):yield h.put(g,i),yield o.done,g&&(!d||d.fid!==g.fid)&&Py(r,g.fid),g})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r){return Y(this,null,function*(){let e;const i=yield vu(r.appConfig,a=>{const o=XS(a),h=$S(r,o);return e=h.registrationPromise,h.installationEntry});return i.fid===of?{installationEntry:yield e}:{installationEntry:i,registrationPromise:e}})}function XS(r){const e=r||{fid:qS(),registrationStatus:0};return qy(e)}function $S(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Zs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=ZS(r,i);return{installationEntry:i,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JS(r)}:{installationEntry:e}}function ZS(r,e){return Y(this,null,function*(){try{const i=yield jS(r,e);return _u(r.appConfig,i)}catch(i){throw xy(i)&&i.customData.serverCode===409?yield ky(r.appConfig):yield _u(r.appConfig,{fid:e.fid,registrationStatus:0}),i}})}function JS(r){return Y(this,null,function*(){let e=yield By(r.appConfig);for(;e.registrationStatus===1;)yield Ly(100),e=yield By(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:a}=yield hf(r);return a||i}return e})}function By(r){return vu(r,e=>{if(!e)throw Zs.create("installation-not-found");return qy(e)})}function qy(r){return WS(r)?{fid:r.fid,registrationStatus:0}:r}function WS(r){return r.registrationStatus===1&&r.registrationTime+Iy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(a,o){return Y(this,arguments,function*({appConfig:r,heartbeatServiceProvider:e},i){const h=eb(r,i),d=LS(r,i),g=e.getImmediate({optional:!0});if(g){const A=yield g.getHeartbeatsHeader();A&&d.append("x-firebase-client",A)}const v={installation:{sdkVersion:Cy,appId:r.appId}},_={method:"POST",headers:d,body:JSON.stringify(v)},T=yield Uy(()=>fetch(h,_));if(T.ok){const A=yield T.json();return Vy(A)}else throw yield My("Generate Auth Token",T)})}function eb(r,{fid:e}){return`${Ny(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(r,e=!1){return Y(this,null,function*(){let i;const a=yield vu(r.appConfig,h=>{if(!Gy(h))throw Zs.create("not-registered");const d=h.authToken;if(!e&&sb(d))return h;if(d.requestStatus===1)return i=nb(r,e),h;{if(!navigator.onLine)throw Zs.create("app-offline");const g=ab(h);return i=ib(r,g),g}});return i?yield i:a.authToken})}function nb(r,e){return Y(this,null,function*(){let i=yield Hy(r.appConfig);for(;i.authToken.requestStatus===1;)yield Ly(100),i=yield Hy(r.appConfig);const a=i.authToken;return a.requestStatus===0?ff(r,e):a})}function Hy(r){return vu(r,e=>{if(!Gy(e))throw Zs.create("not-registered");const i=e.authToken;return lb(i)?Hi(Ae({},e),{authToken:{requestStatus:0}}):e})}function ib(r,e){return Y(this,null,function*(){try{const i=yield tb(r,e),a=Hi(Ae({},e),{authToken:i});return yield _u(r.appConfig,a),i}catch(i){if(xy(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))yield ky(r.appConfig);else{const a=Hi(Ae({},e),{authToken:{requestStatus:0}});yield _u(r.appConfig,a)}throw i}})}function Gy(r){return r!==void 0&&r.registrationStatus===2}function sb(r){return r.requestStatus===2&&!rb(r)}function rb(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+VS}function ab(r){const e={requestStatus:1,requestTime:Date.now()};return Hi(Ae({},r),{authToken:e})}function lb(r){return r.requestStatus===1&&r.requestTime+Iy<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r){return Y(this,null,function*(){const e=r,{installationEntry:i,registrationPromise:a}=yield hf(e);return a?a.catch(console.error):ff(e).catch(console.error),i.fid})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(r,e=!1){return Y(this,null,function*(){const i=r;return yield cb(i),(yield ff(i,e)).token})}function cb(r){return Y(this,null,function*(){const{registrationPromise:e}=yield hf(r);e&&(yield e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(r){if(!r||!r.options)throw df("App Configuration");if(!r.name)throw df("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw df(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function df(r){return Zs.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="installations",fb="installations-internal",db=r=>{const e=r.getProvider("app").getImmediate(),i=hb(e),a=Za(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},mb=r=>{const e=r.getProvider("app").getImmediate(),i=Za(e,Fy).getImmediate();return{getId:()=>ob(i),getToken:o=>ub(i,o)}};function gb(){Qi(new yi(Fy,db,"PUBLIC")),Qi(new yi(fb,mb,"PRIVATE"))}gb(),Xn(Ry,lf),Xn(Ry,lf,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu="analytics",pb="firebase_id",yb="origin",_b=60*1e3,vb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=new Kc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hn=new Mo("analytics","Analytics",wb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r){if(!r.startsWith(mf)){const e=hn.create("invalid-gtag-resource",{gtagURL:r});return We.warn(e.message),""}return r}function Qy(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function Tb(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function Ab(r,e){const i=Tb("firebase-js-sdk-policy",{createScriptURL:Eb}),a=document.createElement("script"),o=`${mf}?l=${r}&id=${e}`;a.src=i?i==null?void 0:i.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function Sb(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}function bb(r,e,i,a,o,h){return Y(this,null,function*(){const d=a[o];try{if(d)yield e[d];else{const v=(yield Qy(i)).find(_=>_.measurementId===o);v&&(yield e[v.appId])}}catch(g){We.error(g)}r("config",o,h)})}function Rb(r,e,i,a,o){return Y(this,null,function*(){try{let h=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const g=yield Qy(i);for(const v of d){const _=g.find(A=>A.measurementId===v),T=_&&e[_.appId];if(T)h.push(T);else{h=[];break}}}h.length===0&&(h=Object.values(e)),yield Promise.all(h),r("event",a,o||{})}catch(h){We.error(h)}})}function Ib(r,e,i,a){function o(h,...d){return Y(this,null,function*(){try{if(h==="event"){const[g,v]=d;yield Rb(r,e,i,g,v)}else if(h==="config"){const[g,v]=d;yield bb(r,e,i,a,g,v)}else if(h==="consent"){const[g,v]=d;r("consent",g,v)}else if(h==="get"){const[g,v,_]=d;r("get",g,v,_)}else if(h==="set"){const[g]=d;r("set",g)}else r(h,...d)}catch(g){We.error(g)}})}return o}function Cb(r,e,i,a,o){let h=function(...d){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(h=window[o]),window[o]=Ib(h,r,e,i),{gtagCore:h,wrappedGtag:window[o]}}function Db(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(mf)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=30,Nb=1e3;class Vb{constructor(e={},i=Nb){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Yy=new Vb;function Mb(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}function Ob(r){return Y(this,null,function*(){var d;const{appId:e,apiKey:i}=r,a={method:"GET",headers:Mb(i)},o=vb.replace("{app-id}",e),h=yield fetch(o,a);if(h.status!==200&&h.status!==304){let g="";try{const v=yield h.json();(d=v.error)!=null&&d.message&&(g=v.error.message)}catch(v){}throw hn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:g})}return h.json()})}function Ub(a){return Y(this,arguments,function*(r,e=Yy,i){const{appId:o,apiKey:h,measurementId:d}=r.options;if(!o)throw hn.create("no-app-id");if(!h){if(d)return{measurementId:d,appId:o};throw hn.create("no-api-key")}const g=e.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},v=new Pb;return setTimeout(()=>Y(null,null,function*(){v.abort()}),_b),Ky({appId:o,apiKey:h,measurementId:d},g,v,e)})}function Ky(h,d,g){return Y(this,arguments,function*(r,{throttleEndTimeMillis:e,backoffCount:i},a,o=Yy){var T;const{appId:v,measurementId:_}=r;try{yield Lb(a,e)}catch(A){if(_)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${A==null?void 0:A.message}]`),{appId:v,measurementId:_};throw A}try{const A=yield Ob(r);return o.deleteThrottleMetadata(v),A}catch(A){const N=A;if(!zb(N)){if(o.deleteThrottleMetadata(v),_)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${N==null?void 0:N.message}]`),{appId:v,measurementId:_};throw A}const G=Number((T=N==null?void 0:N.customData)==null?void 0:T.httpStatus)===503?Vm(i,o.intervalMillis,xb):Vm(i,o.intervalMillis),tt={throttleEndTimeMillis:Date.now()+G,backoffCount:i+1};return o.setThrottleMetadata(v,tt),We.debug(`Calling attemptFetch again in ${G} millis`),Ky(r,tt,a,o)}})}function Lb(r,e){return new Promise((i,a)=>{const o=Math.max(e-Date.now(),0),h=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(h),a(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function zb(r){if(!(r instanceof Gi)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class Pb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function jb(r,e,i,a,o){return Y(this,null,function*(){if(o&&o.global){r("event",i,a);return}else{const h=yield e,d=Hi(Ae({},a),{send_to:h});r("event",i,d)}})}function kb(r,e,i,a){return Y(this,null,function*(){if(a&&a.global){const o={};for(const h of Object.keys(i))o[`user_properties.${h}`]=i[h];return r("set",o),Promise.resolve()}else{const o=yield e;r("config",o,{update:!0,user_properties:i})}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return Y(this,null,function*(){if(Dm())try{yield xm()}catch(r){return We.warn(hn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return We.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function qb(r,e,i,a,o,h,d){return Y(this,null,function*(){var N;const g=Ub(r);g.then(G=>{i[G.measurementId]=G.appId,r.options.measurementId&&G.measurementId!==r.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${G.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(G=>We.error(G)),e.push(g);const v=Bb().then(G=>{if(G)return a.getId()}),[_,T]=yield Promise.all([g,v]);Db(h)||Ab(h,_.measurementId),o("js",new Date);const A=(N=d==null?void 0:d.config)!=null?N:{};return A[yb]="firebase",A.update=!0,T!=null&&(A[pb]=T),o("config",_.measurementId,A),_.measurementId})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.app=e}_delete(){return delete ea[this.app.options.appId],Promise.resolve()}}let ea={},Xy=[];const $y={};let gf="dataLayer",Gb="gtag",Zy,pf,Jy=!1;function Fb(){const r=[];if(Fw()&&r.push("This is a browser extension environment."),Yw()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),i=hn.create("invalid-analytics-context",{errorInfo:e});We.warn(i.message)}}function Qb(r,e,i){Fb();const a=r.options.appId;if(!a)throw hn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hn.create("no-api-key");if(ea[a]!=null)throw hn.create("already-exists",{id:a});if(!Jy){Sb(gf);const{wrappedGtag:h,gtagCore:d}=Cb(ea,Xy,$y,gf,Gb);pf=h,Zy=d,Jy=!0}return ea[a]=qb(r,Xy,$y,e,Zy,gf,i),new Hb(r)}function Yb(r=qm()){r=Kn(r);const e=Za(r,wu);return e.isInitialized()?e.getImmediate():Kb(r)}function Kb(r,e={}){const i=Za(r,wu);if(i.isInitialized()){const o=i.getImmediate();if($a(e,i.getOptions()))return o;throw hn.create("already-initialized")}return i.initialize({options:e})}function Xb(r,e,i){r=Kn(r),kb(pf,ea[r.app.options.appId],e,i).catch(a=>We.error(a))}function $b(r,e,i,a){r=Kn(r),jb(pf,ea[r.app.options.appId],e,i,a).catch(o=>We.error(o))}const Wy="@firebase/analytics",t_="0.10.19";function Zb(){Qi(new yi(wu,(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Qb(a,o,i)},"PUBLIC")),Qi(new yi("analytics-internal",r,"PRIVATE")),Xn(Wy,t_),Xn(Wy,t_,"esm2020");function r(e){try{const i=e.getProvider(wu).getImmediate();return{logEvent:(a,o,h)=>$b(i,a,o,h),setUserProperties:(a,o)=>Xb(i,a,o)}}catch(i){throw hn.create("interop-component-reg-failed",{reason:i})}}}Zb();const ni={apiKey:"AIzaSyBKNcAC1mEfPkiY0K26Qp6yMHbBBYz4hGw",authDomain:"talk-ai-widget.firebaseapp.com",projectId:"talk-ai-widget",storageBucket:"talk-ai-widget.firebasestorage.app",messagingSenderId:"1034611317296",appId:"1:1034611317296:web:fe9037e152e413e800abf5",measurementId:"G-DEXEZREYXP"};if(!Object.values(ni).every(r=>r!==void 0&&r!==""))throw console.error("[Firebase] Invalid Firebase configuration. Make sure all environment variables are set:",{apiKey:ni.apiKey?"":"",authDomain:ni.authDomain?"":"",projectId:ni.projectId?"":"",storageBucket:ni.storageBucket?"":"",messagingSenderId:ni.messagingSenderId?"":"",appId:ni.appId?"":"",measurementId:ni.measurementId?"":""}),new Error("Firebase configuration is incomplete. Check your .env file.");console.log("[Firebase] Initializing with project:",ni.projectId);const e_=Bm(ni);typeof window!="undefined"&&Yb(e_);const na=uS(e_);console.log("[Firebase] Initialization complete");const Jb=(r={})=>{const{sessionId:e,onError:i,persistSession:a=!0,storageKey:o="talkai-session-id"}=r,h=()=>{if(e){if(a)try{localStorage.setItem(o,e)}catch(nt){console.warn("[useChat] Failed to save session to localStorage:",nt)}return e}if(a)try{const nt=localStorage.getItem(o);if(nt)return console.log("[useChat] Restored session from localStorage:",nt),nt}catch(nt){console.warn("[useChat] Failed to read from localStorage:",nt)}const ht=`session-${Date.now()}-${Math.random().toString(36).substring(7)}`;if(a)try{localStorage.setItem(o,ht),console.log("[useChat] Created and saved new session:",ht)}catch(nt){console.warn("[useChat] Failed to save new session to localStorage:",nt)}return ht},[d]=xe.useState(h),[g,v]=xe.useState([]),[_,T]=xe.useState(!0),[A,N]=xe.useState(!1),G=xe.useRef(i);return xe.useEffect(()=>{G.current=i},[i]),xe.useEffect(()=>{console.log("[useChat] Setting up Firestore subscription for session:",d);const ht=Wr(na,`sessions/${d}/messages`),nt=ES(ht,TS("timestamp","asc")),_t=RS(nt,C=>{console.log("[useChat] Received snapshot with",C.docs.length,"messages");const S=C.docs.map(I=>{var x;const M=I.data();return{id:I.id,type:M.type,content:M.content,sender:M.sender,timestamp:((x=M.timestamp)==null?void 0:x.toDate())||new Date,duration:M.duration,fileUrl:M.fileUrl,fileName:M.fileName,fileSize:M.fileSize,product:M.product}});v(S),T(!1)},C=>{var S;console.error("[useChat] Firestore error:",C),T(!1),(S=G.current)==null||S.call(G,C)});return()=>{console.log("[useChat] Cleaning up Firestore subscription"),_t()}},[d]),{sessionId:d,messages:g,isLoading:_,isSending:A,sendTextMessage:ht=>Y(null,null,function*(){if(ht.trim()){N(!0);try{const nt=Wr(na,`sessions/${d}/messages`);return(yield wl(nt,{type:"text",content:ht.trim(),sender:"user",timestamp:Bt.now()})).id}catch(nt){throw console.error("Error sending text message:",nt),i==null||i(nt),nt}finally{N(!1)}}}),sendVoiceMessage:(ht,nt)=>Y(null,null,function*(){if(!(ht<.5)){N(!0);try{const _t=Wr(na,`sessions/${d}/messages`);yield wl(_t,{type:"voice",content:"Voice message",sender:"user",timestamp:Bt.now(),duration:ht,fileUrl:nt})}catch(_t){throw console.error("Error sending voice message:",_t),i==null||i(_t),_t}finally{N(!1)}}}),sendFileMessage:(ht,nt)=>Y(null,null,function*(){const _t=ht.type.startsWith("image/");N(!0);try{const C=Wr(na,`sessions/${d}/messages`);yield wl(C,{type:_t?"image":"file",content:_t?"Image":"File attachment",sender:"user",timestamp:Bt.now(),fileUrl:nt,fileName:ht.name,fileSize:ht.size})}catch(C){throw console.error("Error sending file message:",C),i==null||i(C),C}finally{N(!1)}}),sendAIResponse:ht=>Y(null,null,function*(){N(!0);try{const nt=Wr(na,`sessions/${d}/messages`);yield wl(nt,{type:"text",content:ht,sender:"ai",timestamp:Bt.now()})}catch(nt){throw console.error("Error sending AI response:",nt),i==null||i(nt),nt}finally{N(!1)}}),sendProductRecommendation:ht=>Y(null,null,function*(){if(ht){N(!0);try{const nt=Wr(na,`sessions/${d}/messages`);yield wl(nt,{type:"product",content:"Product recommendation",sender:"ai",timestamp:Bt.now(),product:ht})}catch(nt){throw console.error("Error sending product recommendation:",nt),i==null||i(nt),nt}finally{N(!1)}}}),clearSession:()=>{if(a)try{localStorage.removeItem(o),console.log("[useChat] Session cleared from localStorage")}catch(ht){console.warn("[useChat] Failed to clear session from localStorage:",ht)}}}},Wb="http://localhost:3000";function t2(r,e,i){return Y(this,null,function*(){try{const a=yield fetch(`${Wb}/api/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:r,message:e,stream:!!i})});if(!a.ok){const h=yield a.json();throw new Error(h.error||"Failed to generate AI response")}return i&&a.body,yield a.json()}catch(a){return console.error("[aiService] Failed to generate AI response:",a),{success:!1,error:a.message||"Failed to generate AI response"}}})}function n_({isWidget:r=!1,onMinimize:e,onClose:i,sessionId:a}){const o=xe.useCallback((B,et,Et)=>{const D=new Date().toISOString(),$=`[TalkAI-${B.toUpperCase()}] ${D} - ${et}`;B==="error"?console.error($,Et):B==="warn"?console.warn($,Et):console.log($,Et)},[]),h=xe.useCallback(B=>{o("error","Firebase error",B)},[o]),{sessionId:d,messages:g,sendVoiceMessage:v,sendFileMessage:_,sendAIResponse:T,sendProductRecommendation:A}=Jb({sessionId:a,onError:h,persistSession:!0,storageKey:r?"talkai-widget-session":"talkai-chat-session"});xe.useEffect(()=>{o("info","Active session ID",{sessionId:d})},[d,o]);const[N,G]=xe.useState(""),[tt,rt]=xe.useState(!1),[W,bt]=xe.useState(0),[Tt,ct]=xe.useState(!1),[ht,nt]=xe.useState(!1),_t=()=>Y(null,null,function*(){if(!N.trim()){o("warn","Attempted to send empty message");return}const B=N.trim();o("info","Sending message to API",{content:B}),G("");try{ct(!0),o("info","Calling Next.js API",{sessionId:d,message:B});const et=yield t2(d,B);et.success||o("error","AI response generation failed",et.error),ct(!1),o("info","AI response completed",{success:et.success})}catch(et){o("error","Failed to send message or generate AI response",et),ct(!1)}}),C=()=>{o("info","Starting voice recording"),rt(!0),bt(0);const B=setInterval(()=>{bt(et=>et>=60?(o("warn","Recording reached maximum duration",{duration:et}),S(),clearInterval(B),60):et+.1)},100)},S=()=>Y(null,null,function*(){const B=Math.round(W*10)/10;if(o("info","Stopping voice recording",{duration:B,minDuration:.5}),rt(!1),W>.5){o("info","Voice recording valid, sending to Firebase",{duration:B});try{yield v(B),ct(!0),setTimeout(()=>Y(null,null,function*(){yield T("I received your voice message! This is a demo response."),ct(!1)}),2e3)}catch(et){o("error","Failed to send voice message",et),ct(!1)}}else o("warn","Voice recording too short, discarding",{duration:B});bt(0)}),I=B=>Y(null,null,function*(){const et=B.type.startsWith("image/"),Et=URL.createObjectURL(B);o("info","File uploaded",{fileName:B.name,fileSize:B.size,fileType:B.type,isImage:et});try{yield _(B,Et),ct(!0),setTimeout(()=>Y(null,null,function*(){const D=["I can see the file you've shared! How can I help you with it?","Thanks for sharing that image! What would you like to know about it?","I've received your file. What would you like me to do with it?","Nice! I can see your attachment. How can I assist you with this?"],$=D[Math.floor(Math.random()*D.length)];o("info","Generated AI response to file upload",{response:$}),yield T($),ct(!1)}),1500)}catch(D){o("error","Failed to send file message",D),ct(!1)}}),M=()=>Y(null,null,function*(){o("info","Sending demo product recommendation");const B=[{id:"1",title:"Wireless Bluetooth Headphones",price:"$89.99",image:"",rating:4.8,reviews:2156,url:"#"},{id:"2",title:"Smart Fitness Watch",price:"$199.99",image:"",rating:4.6,reviews:1834,url:"#"},{id:"3",title:"Portable Bluetooth Speaker",price:"$49.99",image:"",rating:4.7,reviews:956,url:"#"}],et=B[Math.floor(Math.random()*B.length)];o("info","Selected random product",et);try{yield A(et),o("info","Product recommendation sent to Firebase",et)}catch(Et){o("error","Failed to send product recommendation",Et)}}),x=B=>{B.preventDefault(),ht||(o("info","File drag detected"),nt(!0))},U=B=>{B.preventDefault(),nt(!1)},R=B=>{B.preventDefault(),nt(!1);const et=Array.from(B.dataTransfer.files);o("info","Files dropped",{count:et.length,fileNames:et.map(Et=>Et.name)}),et.length>0?I(et[0]):o("warn","No files in drop event")},ne=B=>{const et=B.target.files;o("info","File selected via input",{count:(et==null?void 0:et.length)||0}),et&&et.length>0?I(et[0]):o("warn","No files selected"),B.target.value=""},Jt=()=>{o("info","Chat minimize requested"),e&&e()},F=()=>{o("info","Chat close requested"),i&&i()};return H.jsxs("div",{className:"widget-root tw-min-h-screen",children:[!r&&H.jsx("nav",{className:"tw-bg-white tw-shadow-sm tw-border-b tw-border-gray-100",children:H.jsx("div",{className:"tw-max-w-7xl tw-mx-auto tw-px-4 sm:tw-px-6 lg:tw-px-8",children:H.jsxs("div",{className:"tw-flex tw-justify-between tw-h-16",children:[H.jsx("div",{className:"tw-flex tw-items-center tw-space-x-4",children:H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-3 tw-text-gray-900",children:[H.jsx("div",{className:"tw-w-8 tw-h-8 tw-bg-primary-500 tw-rounded-lg tw-flex tw-items-center tw-justify-center",children:H.jsx("svg",{className:"tw-w-5 tw-h-5 tw-text-white",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3.04 1.05 4.35L2 22l5.65-1.05C9.96 21.64 11.46 22 13 22h7c1.1 0 2-.9 2-2V12c0-5.52-4.48-10-10-10z"})})}),H.jsx("span",{className:"tw-text-lg tw-font-bold",children:"TalkAI"})]})}),H.jsx("div",{className:"tw-flex tw-items-center tw-space-x-4",children:H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-2",children:[H.jsx("div",{className:"tw-w-2 tw-h-2 tw-bg-green-500 tw-rounded-full tw-animate-pulse-slow"}),H.jsx("span",{className:"tw-text-sm tw-text-gray-600",children:"Live Demo"})]})})]})})}),H.jsx("div",{className:`tw-flex tw-flex-col tw-h-screen ${r?"tw-pt-0":"tw-pt-16"}`,children:H.jsx("div",{className:`tw-flex-1 tw-flex tw-justify-center ${r?"tw-items-end":"tw-items-center"} tw-p-6`,children:H.jsxs("div",{className:"tw-w-full tw-max-w-2xl tw-bg-white tw-rounded-2xl tw-shadow-2xl tw-overflow-hidden tw-border tw-border-gray-100",children:[H.jsx("div",{className:"tw-bg-gradient-to-r tw-from-primary-500 tw-to-primary-600 tw-text-white tw-p-4",children:H.jsxs("div",{className:"tw-flex tw-items-center tw-justify-between",children:[H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-3",children:[H.jsxs("div",{className:"tw-relative",children:[H.jsx("div",{className:"tw-w-10 tw-h-10 tw-bg-white tw-rounded-full tw-flex tw-items-center tw-justify-center tw-shadow-lg",children:H.jsx("svg",{className:"tw-w-5 tw-h-5 tw-text-primary-500",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3.04 1.05 4.35L2 22l5.65-1.05C9.96 21.64 11.46 22 13 22h7c1.1 0 2-.9 2-2V12c0-5.52-4.48-10-10-10z"})})}),H.jsx("div",{className:"tw-absolute tw--bottom-1 tw--right-1 tw-w-3 tw-h-3 tw-bg-green-500 tw-rounded-full tw-border-2 tw-border-white"})]}),H.jsxs("div",{children:[H.jsx("h3",{className:"tw-m-0 tw-text-base tw-font-semibold",children:"TalkAI Assistant"}),H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-2",children:[H.jsx("div",{className:"tw-w-2 tw-h-2 tw-bg-green-400 tw-rounded-full tw-animate-pulse"}),H.jsx("p",{className:"tw-m-0 tw-text-xs tw-opacity-90",children:"Online"})]})]})]}),H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-1",children:[H.jsx("button",{onClick:Jt,className:"tw-w-8 tw-h-8 tw-rounded-full tw-bg-white tw-bg-opacity-20 hover:tw-bg-opacity-30 tw-transition-all tw-duration-200 tw-flex tw-items-center tw-justify-center",title:"Minimize chat",children:H.jsx("svg",{className:"tw-w-3 tw-h-3 tw-text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),H.jsx("button",{onClick:F,className:"tw-w-8 tw-h-8 tw-rounded-full tw-bg-white tw-bg-opacity-20 hover:tw-bg-opacity-30 tw-transition-all tw-duration-200 tw-flex tw-items-center tw-justify-center",title:"Close chat",children:H.jsx("svg",{className:"tw-w-3 tw-h-3 tw-text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),H.jsxs("div",{className:`tw-h-96 tw-p-6 tw-overflow-y-auto tw-space-y-4 tw-transition-all tw-duration-200 ${ht?"tw-bg-primary-50 tw-border-2 tw-border-dashed tw-border-primary-300":""}`,onDragOver:x,onDragLeave:U,onDrop:R,children:[ht&&H.jsx("div",{className:"tw-absolute tw-inset-6 tw-flex tw-items-center tw-justify-center tw-bg-primary-50 tw-bg-opacity-90 tw-rounded-2xl tw-z-10",children:H.jsxs("div",{className:"tw-text-center",children:[H.jsx("svg",{className:"tw-w-12 tw-h-12 tw-text-primary-500 tw-mx-auto tw-mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),H.jsx("p",{className:"tw-text-primary-600 tw-font-medium",children:"Drop files here to upload"}),H.jsx("p",{className:"tw-text-primary-500 tw-text-sm",children:"Images and documents supported"})]})}),g.length===0&&H.jsxs("div",{className:"tw-flex tw-space-x-4",children:[H.jsx("div",{className:"tw-w-10 tw-h-10 tw-bg-gradient-to-br tw-from-primary-500 tw-to-primary-600 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-flex-shrink-0 tw-shadow-lg",children:H.jsx("svg",{className:"tw-w-5 tw-h-5 tw-text-white",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3.04 1.05 4.35L2 22l5.65-1.05C9.96 21.64 11.46 22 13 22h7c1.1 0 2-.9 2-2V12c0-5.52-4.48-10-10-10z"})})}),H.jsx("div",{className:"tw-bg-gray-50 tw-rounded-2xl tw-rounded-tl-sm tw-px-4 tw-py-3 tw-max-w-xs tw-shadow-sm",children:H.jsx("p",{className:"tw-text-gray-800",children:" Welcome! I'm your AI assistant. How can I help you today?"})})]}),g.map(B=>H.jsxs("div",{className:`tw-flex tw-space-x-4 ${B.sender==="user"?"tw-justify-end":""}`,children:[B.sender==="ai"&&H.jsx("div",{className:"tw-w-10 tw-h-10 tw-bg-gradient-to-br tw-from-primary-500 tw-to-primary-600 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-flex-shrink-0 tw-shadow-lg",children:H.jsx("svg",{className:"tw-w-5 tw-h-5 tw-text-white",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3.04 1.05 4.35L2 22l5.65-1.05C9.96 21.64 11.46 22 13 22h7c1.1 0 2-.9 2-2V12c0-5.52-4.48-10-10-10z"})})}),H.jsxs("div",{className:`tw-max-w-xs ${B.sender==="user"?"tw-order-first":""}`,children:[B.type==="text"&&H.jsx("div",{className:`tw-rounded-2xl tw-px-4 tw-py-3 tw-shadow-sm ${B.sender==="user"?"tw-bg-gradient-to-r tw-from-primary-500 tw-to-primary-600 tw-text-white tw-rounded-tr-sm":"tw-bg-gray-50 tw-text-gray-800 tw-rounded-tl-sm"}`,children:H.jsx("p",{className:"tw-text-sm",children:B.content})}),B.type==="voice"&&H.jsx("div",{className:"tw-bg-gradient-to-r tw-from-primary-500 tw-to-primary-600 tw-text-white tw-rounded-2xl tw-rounded-tr-sm tw-px-4 tw-py-3 tw-shadow-lg",children:H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-3",children:[H.jsx("div",{className:"tw-flex tw-items-center tw-justify-center tw-w-8 tw-h-8 tw-bg-white tw-bg-opacity-20 tw-rounded-full",children:H.jsx("svg",{className:"tw-w-4 tw-h-4",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M8 5v14l11-7z"})})}),H.jsx("div",{className:"tw-flex tw-items-center tw-space-x-1",children:[...Array(4)].map((et,Et)=>H.jsx("div",{className:"tw-w-1 tw-h-2 tw-bg-white tw-rounded-full"},Et))}),H.jsxs("span",{className:"tw-text-xs tw-font-medium",children:["0:",String(B.duration||0).padStart(2,"0")]}),H.jsx("span",{children:""})]})}),B.type==="image"&&H.jsxs("div",{className:`tw-rounded-2xl tw-overflow-hidden tw-shadow-lg ${B.sender==="user"?"tw-rounded-tr-sm":"tw-rounded-tl-sm"}`,children:[H.jsx("img",{src:B.fileUrl,alt:B.fileName,className:"tw-w-full tw-h-48 tw-object-cover"}),H.jsx("div",{className:`tw-px-3 tw-py-2 ${B.sender==="user"?"tw-bg-gradient-to-r tw-from-primary-500 tw-to-primary-600 tw-text-white":"tw-bg-gray-50 tw-text-gray-800"}`,children:H.jsx("p",{className:"tw-text-xs tw-font-medium",children:B.fileName})})]}),B.type==="file"&&H.jsxs("div",{className:`tw-rounded-2xl tw-px-4 tw-py-3 tw-shadow-sm tw-flex tw-items-center tw-space-x-3 ${B.sender==="user"?"tw-bg-gradient-to-r tw-from-primary-500 tw-to-primary-600 tw-text-white tw-rounded-tr-sm":"tw-bg-gray-50 tw-text-gray-800 tw-rounded-tl-sm"}`,children:[H.jsx("div",{className:`tw-w-10 tw-h-10 tw-rounded-lg tw-flex tw-items-center tw-justify-center ${B.sender==="user"?"tw-bg-white tw-bg-opacity-20":"tw-bg-primary-100"}`,children:H.jsx("svg",{className:`tw-w-5 tw-h-5 ${B.sender==="user"?"tw-text-white":"tw-text-primary-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),H.jsxs("div",{className:"tw-flex-1 tw-min-w-0",children:[H.jsx("p",{className:"tw-text-sm tw-font-medium tw-truncate",children:B.fileName}),H.jsx("p",{className:`tw-text-xs ${B.sender==="user"?"tw-text-white tw-opacity-75":"tw-text-gray-500"}`,children:B.fileSize?`${Math.round(B.fileSize/1024)} KB`:"File"})]})]}),B.type==="product"&&B.product&&H.jsxs("div",{className:"tw-bg-white tw-border tw-border-gray-100 tw-rounded-2xl tw-rounded-tl-sm tw-overflow-hidden tw-shadow-lg tw-max-w-sm",children:[H.jsx("div",{className:"tw-h-32 tw-bg-gradient-to-br tw-from-primary-50 tw-to-primary-100 tw-flex tw-items-center tw-justify-center",children:H.jsx("div",{className:"tw-text-center",children:H.jsx("div",{className:"tw-w-12 tw-h-12 tw-bg-white tw-rounded-xl tw-flex tw-items-center tw-justify-center tw-shadow-md tw-mx-auto",children:H.jsx("span",{className:"tw-text-2xl",children:B.product.image})})})}),H.jsxs("div",{className:"tw-p-4",children:[H.jsx("h4",{className:"tw-font-semibold tw-text-gray-900 tw-text-sm",children:B.product.title}),H.jsx("p",{className:"tw-text-primary-600 tw-font-bold tw-text-lg tw-mt-1",children:B.product.price}),H.jsx("div",{className:"tw-flex tw-items-center tw-mt-2 tw-text-sm tw-text-gray-600",children:H.jsxs("div",{className:"tw-flex tw-items-center",children:[[...Array(5)].map((et,Et)=>H.jsx("svg",{className:`tw-w-4 tw-h-4 ${Et<Math.floor(B.product.rating)?"tw-text-yellow-400":"tw-text-gray-300"}`,fill:"currentColor",viewBox:"0 0 20 20",children:H.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},Et)),H.jsxs("span",{className:"tw-ml-1",children:[B.product.rating," (",B.product.reviews.toLocaleString()," reviews)"]})]})}),H.jsx("button",{className:"tw-mt-3 tw-w-full tw-bg-primary-500 hover:tw-bg-primary-600 tw-text-white tw-text-sm tw-py-2 tw-px-3 tw-rounded-lg tw-font-medium tw-transition-colors tw-shadow-sm",children:"View Product "})]})]})]})]},B.id)),Tt&&H.jsxs("div",{className:"tw-flex tw-space-x-4",children:[H.jsx("div",{className:"tw-w-10 tw-h-10 tw-bg-gradient-to-br tw-from-primary-500 tw-to-primary-600 tw-rounded-full tw-flex tw-items-center tw-justify-center tw-flex-shrink-0 tw-shadow-lg",children:H.jsx("svg",{className:"tw-w-5 tw-h-5 tw-text-white",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3.04 1.05 4.35L2 22l5.65-1.05C9.96 21.64 11.46 22 13 22h7c1.1 0 2-.9 2-2V12c0-5.52-4.48-10-10-10z"})})}),H.jsx("div",{className:"tw-bg-gray-50 tw-rounded-2xl tw-rounded-tl-sm tw-px-4 tw-py-3 tw-shadow-sm",children:H.jsxs("div",{className:"tw-flex tw-items-center tw-space-x-1",children:[H.jsx("div",{className:"tw-w-2 tw-h-2 tw-bg-primary-400 tw-rounded-full tw-animate-pulse"}),H.jsx("div",{className:"tw-w-2 tw-h-2 tw-bg-primary-400 tw-rounded-full tw-animate-pulse",style:{animationDelay:"0.2s"}}),H.jsx("div",{className:"tw-w-2 tw-h-2 tw-bg-primary-400 tw-rounded-full tw-animate-pulse",style:{animationDelay:"0.4s"}})]})})]})]}),H.jsxs("div",{className:"tw-border-t tw-border-gray-100 tw-p-6 tw-bg-gray-50",children:[tt&&H.jsxs("div",{className:"tw-mb-4 tw-flex tw-items-center tw-justify-center tw-space-x-3 tw-bg-red-500 tw-text-white tw-rounded-2xl tw-px-4 tw-py-3",children:[H.jsx("div",{className:"tw-w-4 tw-h-4 tw-bg-white tw-rounded-full tw-animate-pulse"}),H.jsxs("span",{className:"tw-text-sm tw-font-medium",children:["Recording... ",Math.floor(W),":",String(Math.floor(W%1*10)).padStart(1,"0"),"s"]}),H.jsx("button",{onClick:S,className:"tw-px-3 tw-py-1 tw-bg-white tw-bg-opacity-20 tw-rounded-full tw-text-xs tw-font-medium hover:tw-bg-opacity-30 tw-transition-all",children:"Stop"})]}),H.jsxs("div",{className:"tw-flex tw-space-x-3 tw-items-end",children:[H.jsxs("div",{className:"tw-relative",children:[H.jsx("input",{type:"file",onChange:ne,accept:"image/*,.pdf,.doc,.docx,.txt",className:"tw-hidden",id:"file-upload",disabled:tt}),H.jsx("label",{htmlFor:"file-upload",className:`tw-flex tw-items-center tw-justify-center tw-w-12 tw-h-12 tw-rounded-full tw-transition-all tw-cursor-pointer tw-shadow-sm ${tt?"tw-bg-gray-300 tw-text-gray-500 tw-cursor-not-allowed":"tw-bg-gray-100 tw-text-gray-600 hover:tw-bg-gray-200 hover:tw-text-primary-500"}`,title:"Upload file or image",children:H.jsx("svg",{className:"tw-w-5 tw-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})})]}),H.jsx("div",{className:"tw-flex-1",children:H.jsxs("div",{className:"tw-relative",children:[H.jsx("input",{type:"text",value:N,onChange:B=>G(B.target.value),onKeyPress:B=>B.key==="Enter"&&_t(),placeholder:"Type your message here...",className:"tw-w-full tw-bg-white tw-border tw-border-gray-200 tw-rounded-2xl tw-px-4 tw-py-3 tw-pr-12 tw-text-sm tw-outline-none focus:tw-border-primary-300 focus:tw-ring-2 focus:tw-ring-primary-100 tw-transition-all",disabled:tt}),H.jsx("button",{onClick:_t,disabled:!N.trim()||tt,className:"tw-absolute tw-right-2 tw-top-1/2 tw-transform tw--translate-y-1/2 tw-p-2 tw-text-gray-400 hover:tw-text-primary-500 tw-transition-colors disabled:tw-opacity-50",children:H.jsx("svg",{className:"tw-w-5 tw-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})}),H.jsxs("button",{onMouseDown:C,onMouseUp:S,onTouchStart:C,onTouchEnd:S,disabled:N.trim().length>0,className:`tw-px-4 tw-py-3 tw-rounded-2xl tw-text-sm tw-font-medium tw-transition-all tw-shadow-sm tw-flex tw-items-center tw-space-x-2 disabled:tw-opacity-50 ${tt?"tw-bg-red-500 tw-text-white":"tw-bg-primary-500 hover:tw-bg-primary-600 tw-text-white"}`,title:N.trim()?"Clear text to send voice message":"Hold to record voice message",children:[H.jsx("svg",{className:"tw-w-5 tw-h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),H.jsx("span",{className:"tw-text-xs",children:tt?"Recording":"Hold"})]})]}),H.jsxs("div",{className:"tw-mt-4 tw-flex tw-flex-col tw-items-center tw-space-y-2",children:[H.jsx("p",{className:"tw-m-0 tw-text-xs tw-text-gray-500",children:tt?"Release to send voice message":"Type a message, upload files, or hold the voice button to record"}),!tt&&g.length>0&&H.jsx("button",{onClick:M,className:"tw-text-xs tw-text-primary-500 hover:tw-text-primary-600 tw-transition-colors tw-underline tw-decoration-dotted",children:" Send demo product recommendation"})]})]})]})})})]})}function e2({widgetConfig:r}={}){const[e,i]=xe.useState(!1),[a,o]=xe.useState(!1);if(r){const h=()=>{i(!e)},d=()=>{o(!0)};return a?null:e?H.jsx("div",{className:"widget-root",children:H.jsxs("button",{onClick:h,className:"tw-w-16 tw-h-16 tw-bg-gradient-to-r tw-from-primary-500 tw-to-primary-600 tw-rounded-full tw-shadow-2xl tw-flex tw-items-center tw-justify-center tw-text-white hover:tw-shadow-3xl hover:tw-scale-105 tw-transition-all tw-duration-300 tw-border-4 tw-border-white",title:"Open chat",children:[H.jsx("svg",{className:"tw-w-8 tw-h-8",fill:"currentColor",viewBox:"0 0 24 24",children:H.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12c0 1.54.36 3.04 1.05 4.35L2 22l5.65-1.05C9.96 21.64 11.46 22 13 22h7c1.1 0 2-.9 2-2V12c0-5.52-4.48-10-10-10z"})}),H.jsx("div",{className:"tw-absolute tw--top-1 tw--right-1 tw-w-4 tw-h-4 tw-bg-green-500 tw-rounded-full tw-border-2 tw-border-white tw-animate-pulse"})]})}):H.jsx("div",{className:"widget-root",children:H.jsx(n_,{isWidget:!0,onMinimize:h,onClose:d})})}return H.jsx("div",{className:"widget-root",children:H.jsx(n_,{})})}class n2{constructor(e={}){Co(this,"root",null);Co(this,"container",null);Co(this,"config");Co(this,"cssInjected",!1);this.config=Ae({containerId:"chat-widget-container",theme:"light",position:"bottom-right"},e),this.log("info","ChatWidget initialized",this.config)}log(e,i,a){const o=new Date().toISOString(),h=`[TalkAI-Widget-${e.toUpperCase()}] ${o} - ${i}`;console.group(h),a&&console.log("Data:",a),console.log("Widget Config:",this.config),console.log("Container ID:",this.config.containerId),console.log("Page URL:",window.location.href),console.trace("Stack trace"),console.groupEnd(),e==="error"?console.error(h,a):e==="warn"?console.warn(h,a):console.log(h,a)}init(){this.log("info","Initializing widget");try{this.log("info","Injecting CSS"),this.injectCSS(),this.container=document.getElementById(this.config.containerId),this.container?this.log("info","Using existing widget container",{containerId:this.config.containerId}):(this.log("info","Creating widget container",{containerId:this.config.containerId}),this.container=document.createElement("div"),this.container.id=this.config.containerId,this.container.style.cssText=this.getContainerStyles(),document.body.appendChild(this.container),this.log("info","Widget container created and appended to body")),this.log("info","Mounting React app"),this.root=bw.createRoot(this.container),this.root.render(H.jsx(_w.StrictMode,{children:H.jsx(e2,{widgetConfig:this.config})})),this.log("info","Widget initialization completed successfully")}catch(e){throw this.log("error","Failed to initialize widget",e),e}}injectCSS(){if(this.cssInjected){this.log("info","CSS already injected, skipping");return}if(document.getElementById("talkai-widget-styles")){this.log("info","CSS link already exists, skipping");return}const e=document.currentScript;let i="./widget.css";e&&e.src&&(i=e.src.replace(/widget\.js$/,"widget.css")),this.log("info","Injecting CSS",{cssUrl:i,currentScript:e==null?void 0:e.src});const a=document.createElement("link");a.id="talkai-widget-styles",a.rel="stylesheet",a.type="text/css",a.href=i,a.onload=()=>{this.cssInjected=!0,this.log("info","CSS loaded successfully",{cssUrl:i})},a.onerror=()=>{this.log("warn","Could not load CSS, trying fallback",{originalUrl:i});const o="https://quochuydev.github.io/talk-ai-widget/widget.css";a.href=o},document.head.appendChild(a),this.log("info","CSS link element added to head")}destroy(){this.log("info","Destroying widget");try{this.root&&(this.log("info","Unmounting React root"),this.root.unmount(),this.root=null),this.container&&this.container.parentNode&&(this.log("info","Removing container from DOM"),this.container.parentNode.removeChild(this.container),this.container=null),this.log("info","Widget destroyed successfully")}catch(e){this.log("error","Error during widget destruction",e)}}getContainerStyles(){return`
      position: fixed;
      z-index: 999999;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    `+{"bottom-right":"bottom: 20px; right: 20px;","bottom-left":"bottom: 20px; left: 20px;","top-right":"bottom: 20px; right: 20px;","top-left":"bottom: 20px; left: 20px;"}[this.config.position]}}const i_={init:r=>{console.log("[TalkAI-Widget] Initializing TalkAI Widget",r);try{const e=new n2(r);return e.init(),console.log("[TalkAI-Widget] Widget initialization completed"),e}catch(e){throw console.error("[TalkAI-Widget] Failed to initialize widget:",e),e}}};return typeof window!="undefined"&&(window.TalkAIWidget=i_),i_}();
